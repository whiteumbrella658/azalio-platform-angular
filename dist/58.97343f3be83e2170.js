"use strict";(self.webpackChunkAzal_FE=self.webpackChunkAzal_FE||[]).push([[58],{1058:function(Ze,F,u){u.r(F),u.d(F,{SurveyModule:function(){return Ce}});var C=u(3144),Z=u(5671),d=u(9808),R=u(7890),b=u(4202),f=u(3075),Q=u(7757),h=u.n(Q),w=u(655),n=u(5e3),T=u(4755),P=u(5837),M=u(6300),g=u(4825),S=u(1201),A=u(9489),I=u(8719),U=u(3948),D=u(1747),Y=u(9894),z=u(42);function H(o,a){if(1&o&&(n.TgZ(0,"span"),n._UZ(1,"app-no-records",6),n.qZA()),2&o){var t=n.oxw();n.Tol(t.category?"animation-search":"default-survey"),n.xp6(1),n.Q6J("display",!0)("animation","bot")("textMessage","Formulating the message...")}}function B(o,a){if(1&o&&(n.TgZ(0,"span",40),n.TgZ(1,"span",41),n._UZ(2,"img",42),n.qZA(),n.TgZ(3,"span",43),n._uU(4),n.qZA(),n.qZA()),2&o){var t=n.oxw(2);n.xp6(2),n.Q6J("src",t.imgUrl,n.LSH),n.xp6(2),n.Oqu(t.category)}}function j(o,a){if(1&o){var t=n.EpF();n.TgZ(0,"span",44),n.NdJ("click",function(){return n.CHM(t),n.oxw(2).revertText()}),n._UZ(1,"i",45),n._uU(2," Undo "),n.qZA()}}function E(o,a){if(1&o){var t=n.EpF();n.TgZ(0,"li",51),n.NdJ("click",function(){n.CHM(t);var s=n.oxw().$implicit;return n.oxw(3).translate(s)}),n._uU(1),n.qZA()}if(2&o){var e=n.oxw().$implicit;n.xp6(1),n.hij(" ",e.title," ")}}function L(o,a){if(1&o&&(n.ynx(0),n.YNc(1,E,2,1,"li",50),n.BQk()),2&o){var t=a.$implicit,e=n.oxw(3);n.xp6(1),n.Q6J("ngIf",t.id!==(null==e.selectedLang?null:e.selectedLang.id))}}function $(o,a){if(1&o&&(n.TgZ(0,"span",46),n.TgZ(1,"span",47),n.TgZ(2,"ul",48),n.YNc(3,L,2,1,"ng-container",49),n.qZA(),n.qZA(),n.qZA()),2&o){var t=n.oxw(2);n.xp6(3),n.Q6J("ngForOf",t.languages)}}function V(o,a){1&o&&n._UZ(0,"br")}function G(o,a){1&o&&(n.TgZ(0,"span"),n._uU(1,"(1= really bad, 10= really great)"),n.qZA())}function W(o,a){1&o&&(n.TgZ(0,"span"),n._uU(1,"(Respond with Yes/No)"),n.qZA())}function K(o,a){if(1&o&&(n.TgZ(0,"div",52),n._UZ(1,"br"),n.TgZ(2,"div",53),n._UZ(3,"i",54),n.TgZ(4,"span",55),n._uU(5," You're all set. This is how the SMS would look like. "),n.qZA(),n.qZA(),n.TgZ(6,"div",56),n._uU(7),n.YNc(8,G,2,0,"span",5),n.YNc(9,W,2,0,"span",5),n.qZA(),n.qZA()),2&o){var t=n.oxw(2);n.xp6(7),n.AsE(" ","NoResponse"==(null==t.form?null:t.form.surveyType.value)?"Message":"Question"," by [Your Name]. ",null==t.form?null:t.form.question.value," "),n.xp6(1),n.Q6J("ngIf","scale"==(null==t.form?null:t.form.surveyType.value)),n.xp6(1),n.Q6J("ngIf","Yes/No"==(null==t.form?null:t.form.surveyType.value))}}function X(o,a){1&o&&(n.TgZ(0,"nb-checkbox",57),n.TgZ(1,"span",33),n._uU(2," Allow anonymous responses "),n.qZA(),n.qZA())}function nn(o,a){if(1&o&&(n.TgZ(0,"span",58),n._UZ(1,"app-error-message",59),n.qZA()),2&o){n.oxw();var t=n.MAs(2),e=n.oxw();n.xp6(1),n.Q6J("text","Please select atleast one store, user or role")("form",e.SurveyForm)("isSubmitted",t.submitted)}}function en(o,a){if(1&o){var t=n.EpF();n.TgZ(0,"span",71),n.NdJ("click",function(){n.CHM(t);var i=n.oxw().index;return n.oxw(3).removeRow(i)}),n._UZ(1,"i",72),n.qZA()}}function tn(o,a){if(1&o&&(n.TgZ(0,"div",67),n.TgZ(1,"div",68),n._UZ(2,"app-timer-input",69),n._UZ(3,"app-error-message",18),n.YNc(4,en,2,0,"span",70),n.qZA(),n.qZA()),2&o){var t=a.$implicit,e=a.index;n.oxw(2);var i=n.MAs(2),s=n.oxw();n.xp6(2),n.Q6J("onlyDate",!0)("minDate",s.getMinDate())("controlName","value")("form",t)("placeholder","Enter date")("filter",s.filter(e)),n.xp6(1),n.Q6J("key","value")("form",t)("isSubmitted",i.submitted),n.xp6(1),n.Q6J("ngIf",s.dates.length>1)}}var on=function(a){return{disabled:a}};function sn(o,a){if(1&o){var t=n.EpF();n.TgZ(0,"div",60),n.TgZ(1,"span",19),n.TgZ(2,"span",61),n._uU(3," Schedule Message "),n.qZA(),n.TgZ(4,"span",62),n.YNc(5,tn,5,10,"div",63),n.qZA(),n.qZA(),n.TgZ(6,"span",64),n.TgZ(7,"span",65),n.NdJ("click",function(){return n.CHM(t),n.oxw(2).addDate()}),n._UZ(8,"i",66),n._uU(9," Add date"),n.qZA(),n.qZA(),n.qZA()}if(2&o){var e=n.oxw(2);n.Udp("display",e.showPreview?"none":"block"),n.xp6(5),n.Q6J("ngForOf",e.dates.controls),n.xp6(1),n.Q6J("ngClass",n.VKq(4,on,e.dates.length>11))}}function an(o,a){1&o&&(n.TgZ(0,"button",73),n._uU(1,"Preview"),n.qZA())}function rn(o,a){if(1&o){var t=n.EpF();n.TgZ(0,"button",74),n.NdJ("click",function(){return n.CHM(t),n.oxw(2).onSend()}),n._uU(1,"Send"),n.qZA()}}function pn(o,a){if(1&o){var t=n.EpF();n.ynx(0),n.TgZ(1,"form",7,8),n.NdJ("ngSubmit",function(){n.CHM(t);var p=n.MAs(2);return n.oxw().submit(p)}),n.YNc(3,B,5,2,"span",9),n.TgZ(4,"span",10),n.TgZ(5,"span",11),n._UZ(6,"textarea",12),n.TgZ(7,"span",13),n.YNc(8,j,3,0,"span",14),n.TgZ(9,"span"),n.TgZ(10,"img",15),n.NdJ("click",function(p){n.CHM(t);var r=n.oxw();return p.stopPropagation(),r.hideShowPopup()}),n.qZA(),n.qZA(),n.YNc(11,$,4,1,"span",16),n.qZA(),n.qZA(),n.TgZ(12,"span",17),n._UZ(13,"app-error-message",18),n.qZA(),n.qZA(),n.TgZ(14,"span",19),n.TgZ(15,"span",11),n._UZ(16,"app-dropdown",20),n._UZ(17,"app-error-message",18),n.qZA(),n.qZA(),n.YNc(18,V,1,0,"br",5),n.YNc(19,K,10,4,"div",21),n.TgZ(20,"span"),n.TgZ(21,"div",22),n.TgZ(22,"span",23),n.YNc(23,X,3,0,"nb-checkbox",24),n.qZA(),n.TgZ(24,"span"),n.TgZ(25,"button",25),n.NdJ("click",function(){return n.CHM(t),n.oxw().askAnotherWay()}),n._uU(26,"Ask another way"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(27,"div",26),n.TgZ(28,"span",19),n.TgZ(29,"span",27),n._uU(30," Send To "),n._UZ(31,"i",28),n.qZA(),n._UZ(32,"span"),n.TgZ(33,"span",29),n.TgZ(34,"app-autocomplete-tag-input",30),n.NdJ("changeClick",function(p){return n.CHM(t),n.oxw().onTagSelectionChange(p)}),n.qZA(),n.TgZ(35,"span",31),n.TgZ(36,"span",23),n.TgZ(37,"nb-checkbox",32),n.TgZ(38,"span",33),n._uU(39," Or send to all stores "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(40,nn,2,3,"span",34),n.qZA(),n.YNc(41,sn,10,6,"div",35),n.TgZ(42,"div",36),n.TgZ(43,"app-button",37),n.NdJ("onClick",function(){return n.CHM(t),n.oxw().close(null)}),n._uU(44),n.qZA(),n.YNc(45,an,2,0,"button",38),n.YNc(46,rn,2,0,"button",39),n.qZA(),n.qZA(),n.BQk()}if(2&o){var e=n.MAs(2),i=n.oxw();n.xp6(1),n.Q6J("formGroup",i.SurveyForm),n.xp6(2),n.Q6J("ngIf",i.category),n.xp6(5),n.Q6J("ngIf",i.originalQuestion),n.xp6(3),n.Q6J("ngIf",i.displayPopup),n.xp6(2),n.Q6J("key","question")("form",i.SurveyForm)("isSubmitted",e.submitted),n.xp6(3),n.Q6J("selectedInput",i.selectedDropItem)("Data",i.surveyTypeList)("placeholder","Select question type")("controlName","surveyType")("form",i.SurveyForm)("show",!0),n.xp6(1),n.Q6J("key","surveyType")("form",i.SurveyForm)("isSubmitted",e.submitted),n.xp6(1),n.Q6J("ngIf",i.showPreview),n.xp6(1),n.Q6J("ngIf",i.showPreview),n.xp6(1),n.Udp("display",i.showPreview?"none":"block"),n.xp6(3),n.Q6J("ngIf","NoResponse"!==(null==i.form?null:i.form.surveyType.value)),n.xp6(4),n.Udp("display",i.showPreview?"none":"block"),n.xp6(7),n.Q6J("placeholder","Search store, user, role")("disabled",i.form.isAllChecked.value)("isSearchUsers",!0)("isSearchRole",!0),n.xp6(6),n.Q6J("ngIf",e.submitted&&(null==i.SurveyForm.errors?null:i.SurveyForm.errors.userOrStoreRequired)),n.xp6(1),n.Q6J("ngIf",i.showScheduleInput),n.xp6(3),n.Oqu(i.showPreview?"Back":"Cancel"),n.xp6(1),n.Q6J("ngIf",!i.showPreview),n.xp6(1),n.Q6J("ngIf",i.showPreview)}}var ln=function(){var o=function(){function a(t,e,i,s,p,r){var c=this;(0,Z.Z)(this,a),this.changeDetectorRef=t,this.service=e,this.dataService=i,this.gs=s,this.fb=p,this.ref=r,this.showScheduleInput=!1,this.languages=[{id:1,title:"English"},{id:2,title:"Spanish"},{id:3,title:"French"},{id:4,title:"Hindi Roman"}],this.selectedLang={id:1,title:"English"},this.surveyTypeList=[{key:"Yes/No",value:"Yes/No type question"},{key:"scale",value:"Scale from 1-10"},{key:"text",value:"Free text"},{key:"NoResponse",value:"No response required"}],this.isThereOneFieldFilled=function(l){var y=l.get("stores"),x=l.get("isAllChecked");return y&&y.value&&y.value.length>=1||x&&1==x.value?null:{userOrStoreRequired:!0}},this.filter=function(l){return function(y){return"Invalid Date"==y||!c.getSelectedDates(l).some(function(x){return x===y.toISOString()})}},this.dataService.getRoles(!1).then(function(l){c.roles=l}).finally(function(){})}return(0,C.Z)(a,[{key:"onClick",value:function(e){this.displayPopup&&(this.displayPopup=!1)}},{key:"ngOnInit",value:function(){var e=this;this.showPreview=!1,this.imgUrl=this.imgUrl,this.text=this.text,this.assignments=[],this.loading=!1,this.botLoading=!1,this.SurveyForm=this.fb.group({question:[this.text?this.text:"",f.kI.required],surveyType:[this.type?this.type:"text",f.kI.required],stores:[null],datesArray:new f.Oe([this.fb.group({value:[null]})]),isAllChecked:[!1],isAnonymous:[!1]},{validators:[this.isThereOneFieldFilled]}),this.type||this.getAIGeneratedQuestion(),setTimeout(function(){e.showScheduleInput=!0})}},{key:"hideShowPopup",value:function(){this.displayPopup=!this.displayPopup}},{key:"getMinDate",value:function(){return new Date}},{key:"getSelectedDates",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=this.dates.controls.map(function(s,p){var r;if(s.value.value&&p!==e)return null===(r=s.value.value)||void 0===r?void 0:r.toISOString()}).filter(function(s){return void 0!==s});return i}},{key:"addDate",value:function(){var e=this;this.dates.length>11||(this.dates.push(this.fb.group({value:[""]})),setTimeout(function(){e.scrollToBottom()},100))}},{key:"scrollToBottom",value:function(){var e=document.getElementById("dates-wrapper");e&&(e.scrollTop=e.scrollHeight)}},{key:"removeRow",value:function(e){this.dates.removeAt(e)}},{key:"dates",get:function(){return this.formc.datesArray}},{key:"formc",get:function(){return this.SurveyForm.controls}},{key:"askAnotherWay",value:function(){this.SurveyForm.controls.question.valid?this.getAIGeneratedQuestion():console.log("ERROR!!!!")}},{key:"onSend",value:function(){this.SurveyForm.valid&&this.createSurvey()}},{key:"form",get:function(){return this.SurveyForm.controls}},{key:"submit",value:function(e){this.SurveyForm.valid&&(this.showPreview=!0)}},{key:"createSurvey",value:function(){var e,i,s;return(0,w.mG)(this,void 0,void 0,h().mark(function p(){var r,c,l,y,x,O;return h().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!this.loading){m.next=2;break}return m.abrupt("return");case 2:return this.loading=!0,c=null===(e=(r=this.SurveyForm.controls).stores.value)||void 0===e?void 0:e.filter(function(v){return"Region"==v.type}).map(function(v){return v.id}),l=null===(i=r.stores.value)||void 0===i?void 0:i.filter(function(v){return"User"==v.type}).map(function(v){return v.id}),y=null===(s=r.stores.value)||void 0===s?void 0:s.filter(function(v){return"Role"==v.type}).map(function(v){return v.id}),x={question:r.question.value,type:r.surveyType.value,stores:c||null,roles:y||null,users:l||null,schedule_dates:this.getSelectedDates(),all_stores:r.isAllChecked.value,is_anonymous:"NoResponse"!==r.surveyType.value&&r.isAnonymous.value},m.prev=8,m.next=11,this.service.createSurvey(x);case 11:this.gs.showToastSuccess(null==(O=m.sent)?void 0:O.message),this.showPreview=!1,this.close(!0),m.next=21;break;case 17:m.prev=17,m.t0=m.catch(8),this.gs.showToastError(m.t0.message),console.log(m.t0);case 21:return m.prev=21,this.loading=!1,m.finish(21);case 24:case"end":return m.stop()}},p,this,[[8,17,21,24]])}))}},{key:"translate",value:function(e){this.selectedLang=e,this.getAITranslation(e.title)}},{key:"revertText",value:function(){this.SurveyForm.controls.question.setValue(this.originalQuestion),this.selectedLang={id:1,title:"English"},this.originalQuestion=""}},{key:"getAITranslation",value:function(e){return(0,w.mG)(this,void 0,void 0,h().mark(function i(){var s,p,r;return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(s=this.SurveyForm.controls.question.value,!this.botLoading){l.next=3;break}return l.abrupt("return");case 3:if(!s){l.next=21;break}return this.botLoading=!0,p={text:s,translate_to:e},l.prev=6,l.next=9,this.service.getAITranslation(p);case 9:r=l.sent,this.originalQuestion||(this.originalQuestion=this.SurveyForm.controls.question.value),this.SurveyForm.controls.question.setValue(r.translation),l.next=18;break;case 14:l.prev=14,l.t0=l.catch(6),this.gs.showToastError(l.t0.message),console.log(l.t0);case 18:return l.prev=18,this.botLoading=!1,l.finish(18);case 21:case"end":return l.stop()}},i,this,[[6,14,18,21]])}))}},{key:"getAIGeneratedQuestion",value:function(){var e;return(0,w.mG)(this,void 0,void 0,h().mark(function i(){var s,p;return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(s=this.SurveyForm.controls.question.value,!this.botLoading){l.next=3;break}return l.abrupt("return");case 3:if(!s){l.next=20;break}return this.botLoading=!0,p={language:null===(e=this.selectedLang)||void 0===e?void 0:e.title,question_text:s},l.prev=6,l.next=9,this.service.getAIGeneratedQuestion(p);case 9:this.handleResponse(l.sent),l.next=17;break;case 13:l.prev=13,l.t0=l.catch(6),this.gs.showToastError(l.t0.message),console.log(l.t0);case 17:return l.prev=17,this.botLoading=!1,l.finish(17);case 20:case"end":return l.stop()}},i,this,[[6,13,17,20]])}))}},{key:"handleResponse",value:function(e){var i=this;if(e.question){this.SurveyForm.controls.question.setValue(e.question);var s=this.surveyTypeList.filter(function(p){return p.key==e.question_type});this.selectedDropItem=null,setTimeout(function(){i.form.surveyType.setValue((null==s?void 0:s.length)>0?s[0].key:""),i.selectedDropItem=(null==s?void 0:s.length)>0?s[0].key:""},30)}}},{key:"onTagSelectionChange",value:function(e){var i=this;null!=e&&setTimeout(function(){var s=(null==e?void 0:e.size)>0?Array.from(e):"";i.SurveyForm.controls.stores.setValue(s)})}},{key:"close",value:function(e){this.showPreview?this.showPreview=!1:this.ref.close(e)}}]),a}();return o.\u0275fac=function(t){return new(t||o)(n.Y36(n.sBO),n.Y36(T.T),n.Y36(P.s),n.Y36(M.m),n.Y36(f.qu),n.Y36(g.X4l))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-create-survey"]],hostBindings:function(t,e){1&t&&n.NdJ("click",function(){return e.onClick()},!1,n.evT)},inputs:{text:"text",class:"class",type:"type",imgUrl:"imgUrl",category:"category"},decls:11,vars:5,consts:[[1,"card_header"],[1,"title"],[2,"font-size","13px"],[3,"class",4,"ngIf"],[3,"nbSpinner"],[4,"ngIf"],[3,"display","animation","textMessage"],["id","form","autocomplete","off",3,"formGroup","ngSubmit"],["ngForm","ngForm"],["class","label-row",4,"ngIf"],[1,"input-row","mt-05",2,"flex-direction","column"],[1,"field-wrapper","fields"],["maxlength","255","aria-label","question input","nbInput","","fullWidth","","name","ques","formControlName","question","placeholder","Enter survey question","autocomplete","off",1,"survey-txtarea"],[1,"question-actions"],["class","default-language","nbTooltip","Revert translation",3,"click",4,"ngIf"],["src","assets/translate.jpg","nbTooltip","Translate",3,"click"],["class","translate-popup",4,"ngIf"],[1,"question-msg"],[3,"key","form","isSubmitted"],[1,"input-row"],[3,"selectedInput","Data","placeholder","controlName","form","show"],["class","selection-grouping preview-msg-container","style","",4,"ngIf"],[1,"actions-row"],[1,"assign-store-checkbox"],["form","form","formControlName","isAnonymous",4,"ngIf"],["nbButton","","type","button",1,"another-way-btn",3,"click"],[1,"selection-grouping",2,"margin-top","25px"],[1,"store-user"],["nbTooltipPlacement","top","nbTooltip","Selecting a role will filter users from selected stores.",1,"fa-solid","fa-circle-info"],[1,"field-wrapper"],[2,"position","relative",3,"placeholder","disabled","isSearchUsers","isSearchRole","changeClick"],[1,"sub-row"],["form","form","formControlName","isAllChecked",2,"position","relative","top","4px"],[1,"assign-user-txt"],["class","error-msg",4,"ngIf"],["class","selection-grouping","style","margin-top: 17px;margin-bottom: 17px;",3,"display",4,"ngIf"],[1,"flex","btns-row"],[3,"onClick"],["nbButton","","type","submit","status","primary","class","send-survey",4,"ngIf"],["nbButton","","type","button","status","primary","class","send-survey",3,"click",4,"ngIf"],[1,"label-row"],[1,"category-img"],[3,"src"],[1,"category-heading"],["nbTooltip","Revert translation",1,"default-language",3,"click"],[1,"fa-solid","fa-rotate-right"],[1,"translate-popup"],[1,"context-menu"],[1,"translate-lang"],[4,"ngFor","ngForOf"],["style","cursor:pointer;","class","options",3,"click",4,"ngIf"],[1,"options",2,"cursor","pointer",3,"click"],[1,"selection-grouping","preview-msg-container"],[1,"question-wrapper"],[1,"fa-solid","fa-comment"],[1,"question-txt"],[1,"preview-msg","mb_30"],["form","form","formControlName","isAnonymous"],[1,"error-msg"],[3,"text","form","isSubmitted"],[1,"selection-grouping",2,"margin-top","17px","margin-bottom","17px"],[1,"store-user",2,"margin-bottom","10px"],["id","dates-wrapper",1,"datefield-wrapper",2,"margin-top","5px"],["class","flex vertical_center row-container-date relative",4,"ngFor","ngForOf"],[1,"add-date-button","pointer","add-date",3,"ngClass"],[3,"click"],[1,"fas","fa-calendar-plus"],[1,"flex","vertical_center","row-container-date","relative"],[1,"date-input"],[3,"onlyDate","minDate","controlName","form","placeholder","filter"],["class","delete_icon",3,"click",4,"ngIf"],[1,"delete_icon",3,"click"],["nbTooltipPlacement","top","nbTooltip","Delete date.",1,"fa","fa-times-circle"],["nbButton","","type","submit","status","primary",1,"send-survey"],["nbButton","","type","button","status","primary",1,"send-survey",3,"click"]],template:function(t,e){1&t&&(n.TgZ(0,"div"),n.TgZ(1,"nb-card"),n.TgZ(2,"nb-card-header",0),n.TgZ(3,"label"),n.TgZ(4,"b",1),n._uU(5,"Finalize your message"),n.qZA(),n.TgZ(6,"span",2),n._uU(7,"Use our default examples or use AI to generate a new question or a message."),n.qZA(),n.qZA(),n.qZA(),n.YNc(8,H,2,5,"span",3),n.TgZ(9,"nb-card-body",4),n.YNc(10,pn,47,32,"ng-container",5),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.Tol("modal_wrapper create-survey "+(e.class?e.class:"")),n.xp6(8),n.Q6J("ngIf",e.botLoading),n.xp6(1),n.Q6J("nbSpinner",e.loading),n.xp6(1),n.Q6J("ngIf",e.SurveyForm))},directives:[g.Asz,g.ndF,d.O5,S.k,g.yKW,g.Q7R,f._Y,f.JL,f.sg,A.w5,g.h8i,f.Fj,f.nD,f.JJ,f.u,A.x0,A.bf,g.jNv,d.sg,I.H,U.J,g.NTf,g.DPz,D.W,Y.T,d.mk,z.r],styles:['.create-survey[_ngcontent-%COMP%] {\n  width: 580px;\n  position: relative;\n}\n\n.title[_ngcontent-%COMP%] {\n  display: contents;\n}\n\n.modal_wrapper[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-header.card_header[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  width: 100%;\n  margin-top: 7px;\n  color: #8E8E8E;\n  font-family: "Inter";\n}\n\n.create-survey[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-header.card_header[_ngcontent-%COMP%] {\n  padding-top: 23px !important;\n  padding-bottom: 7px !important;\n  background: #F9FAFF !important;\n  border-bottom: 0px;\n}\n\n.create-survey[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-header.card_header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%] {\n  margin: 5px 0px 5px 0px;\n  color: #070707;\n  font-weight: 700;\n  font-size: 20px;\n}\n\n.create-survey[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%] {\n  background: #F9FAFF !important;\n  padding-top: 2px;\n  overflow: auto;\n  max-height: 80vh;\n  font-family: "Inter";\n}\n\n.fields[_ngcontent-%COMP%] {\n  margin: 0px !important;\n  position: relative;\n}\n\n.another-way-btn[_ngcontent-%COMP%] {\n  background: mediumslateblue !important;\n  color: white !important;\n}\n\n.field-wrapper[_ngcontent-%COMP%] {\n  width: 100%;\n  margin-bottom: 15px;\n  display: block;\n  margin-top: 5px;\n}\n\n.input-field[_ngcontent-%COMP%] {\n  width: 100%;\n  margin: 10px;\n}\n\n.btns-row[_ngcontent-%COMP%] {\n  justify-content: flex-end;\n  margin: 10px;\n}\n\n.store-user[_ngcontent-%COMP%] {\n  font-weight: 600;\n}\n\n.store-user[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\n  color: #7b68ee;\n  cursor: pointer;\n}\n\n.mb-26[_ngcontent-%COMP%] {\n  margin-bottom: 26px;\n}\n\n.helper-txt[_ngcontent-%COMP%] {\n  font-size: 14px;\n  color: #070707;\n  font-weight: 600;\n  margin-top: 20px;\n}\n\n.mt-05[_ngcontent-%COMP%] {\n  margin-top: 5px;\n}\n\n.label-row[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n}\n\n.category-heading[_ngcontent-%COMP%] {\n  font-size: 14px;\n  font-weight: 700;\n  color: #5c5c5c;\n}\n\n.category-img[_ngcontent-%COMP%] {\n  margin-right: 5px;\n}\n\n.category-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  width: 40px;\n  height: 40px;\n}\n\n@media (max-width: 550px) {\n  .create-survey[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%] {\n    overflow: auto;\n    max-height: 80vh;\n  }\n\n  nb-card-header[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\n    text-align: left;\n  }\n}\n\n.animation-search[_ngcontent-%COMP%], .default-survey[_ngcontent-%COMP%] {\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  background: #2b2b2b69;\n  border-radius: 10px !important;\n}\n\n.dummy-helptxt[_ngcontent-%COMP%] {\n  color: #E91E63;\n  font-size: 13px;\n}\n\n.sub-row[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n}\n\n.sub-row[_ngcontent-%COMP%]   .assign-store-checkbox[_ngcontent-%COMP%] {\n  width: 70%;\n}\n\n.sub-row[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%] {\n  width: 30%;\n}\n\n.preview-msg[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  line-height: 1.5;\n  width: -moz-fit-content;\n  width: fit-content;\n  border-radius: 5px;\n  padding-left: 10px !important;\n  padding-right: 10px !important;\n  font-size: 13px;\n  padding: 7px;\n}\n\n.question-wrapper[_ngcontent-%COMP%] {\n  margin-bottom: 10px;\n  display: flex;\n}\n\n.question-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\n  color: #AFB2FF;\n  margin-right: 5px;\n  font-size: 14px;\n}\n\n.question-txt[_ngcontent-%COMP%] {\n  color: #62568B;\n  font-size: 14px;\n  font-weight: 600;\n}\n\n.survey-txtarea[_ngcontent-%COMP%] {\n  box-shadow: rgba(0, 0, 0, 0.24) 0px 1px 2px !important;\n}\n\n.preview-msg-container[_ngcontent-%COMP%] {\n  background-color: white;\n  box-shadow: rgba(0, 0, 0, 0.24) 0px 2px 2px !important;\n  border-radius: 5px;\n  padding-left: 10px !important;\n  padding-right: 10px !important;\n}\n\n.datefield-wrapper[_ngcontent-%COMP%] {\n  display: flex;\n  max-height: 15vh;\n  overflow: auto;\n  flex-wrap: wrap;\n}\n\n.row-container-date[_ngcontent-%COMP%] {\n  margin-bottom: 4px;\n  padding-top: 0px;\n  width: 33%;\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n  flex-grow: 1;\n}\n\n.pl-10[_ngcontent-%COMP%] {\n  padding-left: 9px;\n}\n\n.date-input[_ngcontent-%COMP%] {\n  width: 100%;\n  padding-right: 5px;\n}\n\n.add-date[_ngcontent-%COMP%] {\n  text-decoration: underline;\n  margin-right: 9px;\n  color: #7b68ee;\n  font-size: 13px;\n  display: flex;\n  align-items: center;\n}\n\n.add-date[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\n  color: #7b68ee;\n  margin-right: 7px;\n  text-decoration: none;\n  font-size: 14px;\n}\n\n.add-date-button[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n\n.delete_icon[_ngcontent-%COMP%] {\n  position: absolute;\n  top: -1px;\n  right: 4px;\n}\n\n.delete_icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\n  font-size: 13px;\n  color: #ff3d71;\n  cursor: pointer;\n  z-index: 1000;\n}\n\n.question-actions[_ngcontent-%COMP%] {\n  position: absolute;\n  right: 10px;\n  bottom: 11px;\n  display: flex;\n  align-items: center;\n}\n\n.question-actions[_ngcontent-%COMP%]   .default-language[_ngcontent-%COMP%] {\n  color: #B8B8B8;\n  padding-right: 8px;\n  border-right: 2px solid #B8B8B8;\n  cursor: pointer;\n  text-decoration: underline;\n  font-size: 13px;\n  font-weight: 600;\n}\n\n.question-actions[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  margin-left: 3px;\n  padding-left: 5px;\n  width: 25px;\n  cursor: pointer;\n}\n\n.actions-row[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: 10px;\n}\n\n.translate-popup[_ngcontent-%COMP%] {\n  position: absolute;\n  min-width: 150px;\n  width: -moz-fit-content;\n  width: fit-content;\n  right: 0px;\n  z-index: 2;\n  top: 13px;\n  height: 2px;\n}\n\n.context-menu[_ngcontent-%COMP%] {\n  position: relative;\n}\n\n.translate-lang[_ngcontent-%COMP%] {\n  padding-left: 0;\n  border-radius: 10px !important;\n  box-shadow: 0 19px 38px rgba(0, 0, 0, 0.3), 0 15px 12px rgba(0, 0, 0, 0.22) !important;\n  padding-top: 6px;\n  padding-bottom: 5px;\n  background: white;\n}\n\n.translate-lang[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n  list-style: none !important;\n  display: block !important;\n  padding: 9px !important;\n  padding-top: 15px !important;\n  padding-bottom: 15px !important;\n  background: #fff;\n  cursor: pointer !important;\n  border-radius: 10px;\n}\n\n.options[_ngcontent-%COMP%] {\n  list-style: none;\n  font-size: 13px;\n  color: #070707;\n}\n\n.translate-lang[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover {\n  background-color: #eae6ff !important;\n  color: #070707;\n  font-weight: 600;\n  border-radius: 0px !important;\n}\n\n.askq-theme[_ngcontent-%COMP%]   .another-way-btn[_ngcontent-%COMP%], .askq-theme[_ngcontent-%COMP%]   .send-survey[_ngcontent-%COMP%] {\n  background: #5390FF !important;\n  color: white !important;\n}\n\n.askq-theme[_ngcontent-%COMP%]   .store-user[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\n  color: #5390FF;\n}\n\n.askq-theme[_ngcontent-%COMP%]   .add-date[_ngcontent-%COMP%] {\n  color: #5390FF !important;\n}\n\n.askq-theme[_ngcontent-%COMP%]   .add-date[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\n  color: #5390FF;\n}']}),o}(),q=u(605),cn=u(6664),un=u(2125);function gn(o,a){if(1&o&&(n.ynx(0),n.TgZ(1,"span",24),n._uU(2),n.ALo(3,"date"),n.qZA(),n.BQk()),2&o){var t=a.$implicit;n.xp6(1),n.Tol(t.sent?"old-sch":"upcoming-sch"),n.Q6J("nbTooltip",1==t.sent?"SMS Sent":"Scheduled SMS"),n.xp6(1),n.hij(" ",n.Dn7(3,4,t.schedule_date,"MMM dd","UTC")," ")}}function dn(o,a){if(1&o&&(n.TgZ(0,"div",25),n.TgZ(1,"b"),n._uU(2,"Store: "),n.qZA(),n.TgZ(3,"span"),n._uU(4),n.qZA(),n.qZA()),2&o){var t=n.oxw().$implicit;n.xp6(4),n.Oqu(t.send_to_all_stores?"All stores":t.stores)}}function mn(o,a){if(1&o&&(n.TgZ(0,"div",26),n.TgZ(1,"b"),n._uU(2,"Role: "),n.qZA(),n.TgZ(3,"span"),n._uU(4),n.qZA(),n.qZA()),2&o){var t=n.oxw().$implicit;n.xp6(4),n.hij(" ",t.roles.join(", "),"")}}function fn(o,a){if(1&o&&(n.TgZ(0,"span",27),n.TgZ(1,"b"),n._uU(2,"User:"),n.qZA(),n.TgZ(3,"span"),n._uU(4),n.qZA(),n.qZA()),2&o){var t=n.oxw().$implicit;n.xp6(4),n.hij(" ",t.users.join(", "),"")}}var _n=function(a){return{"createdOn-only":a}};function vn(o,a){if(1&o){var t=n.EpF();n.TgZ(0,"div",8),n.TgZ(1,"div",9),n.TgZ(2,"span",10),n.TgZ(3,"span",11),n._uU(4,"Scheduled on "),n.qZA(),n.YNc(5,gn,4,8,"ng-container",12),n.qZA(),n.TgZ(6,"span",13),n.TgZ(7,"app-confirm-popup",14),n.NdJ("proceedDelete",function(){var r=n.CHM(t).$implicit;return n.oxw(2).cancelScheduledSurvey(r.message_id)})("proceedCancel",function(){return n.CHM(t),n.oxw(2).selectedRow=null}),n.TgZ(8,"span",15),n.NdJ("click",function(){var r=n.CHM(t).$implicit;return n.oxw(2).setText(r)}),n._UZ(9,"i",16),n.qZA(),n.TgZ(10,"button",17),n.NdJ("click",function(){var r=n.CHM(t).$implicit;return n.oxw(2).setText(r)}),n._uU(11,"Stop"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(12,"div",18),n._uU(13),n.TgZ(14,"span",19),n._uU(15),n.qZA(),n.qZA(),n.YNc(16,dn,5,1,"div",20),n.YNc(17,mn,5,1,"div",21),n.TgZ(18,"div",22),n.YNc(19,fn,5,1,"span",23),n.TgZ(20,"span"),n._uU(21),n.ALo(22,"date"),n.qZA(),n.qZA(),n.qZA()}if(2&o){var e=a.$implicit,i=n.oxw(2);n.xp6(5),n.Q6J("ngForOf",e.schedule_dates),n.xp6(2),n.Q6J("isComment",!1)("type","Stop")("title","Scheduled SMS")("textToDisplay",i.cancelText),n.xp6(6),n.hij(" ",e.question," "),n.xp6(1),n.Tol("Yes/No"==e.question_type?"binary":e.question_type),n.xp6(1),n.hij(" ",null==i.parent?null:i.parent.displayQuestionType(e.question_type),""),n.xp6(1),n.Q6J("ngIf",e.stores),n.xp6(1),n.Q6J("ngIf",e.roles),n.xp6(1),n.Q6J("ngClass",n.VKq(17,_n,!e.users)),n.xp6(1),n.Q6J("ngIf",e.users),n.xp6(2),n.hij("Created on ",n.xi3(22,14,e.created_on,"MMM dd"),"")}}function hn(o,a){if(1&o&&(n.TgZ(0,"div",5),n._UZ(1,"app-no-records",6),n.YNc(2,vn,23,19,"div",7),n.qZA()),2&o){var t=n.oxw();n.xp6(1),n.Q6J("display",t.emptyResults)("textMessage","No scheduled SMS")("animation","timeoff"),n.xp6(1),n.Q6J("ngForOf",t.history)}}var xn=u(2243).format,Cn=function(){var o=function(){function a(t,e){(0,Z.Z)(this,a),this.gs=t,this.service=e}return(0,C.Z)(a,[{key:"ngOnInit",value:function(){this.pageLoading=!1,this.show&&this.getData()}},{key:"ngOnChanges",value:function(e){e.show&&e.show.currentValue!==e.show.previousValue&&(this.show=e.show.currentValue,1==e.show.currentValue&&this.getData())}},{key:"setText",value:function(e){this.selectedRow=e,this.cancelText="<span>You're about to cancel scheduled SMS for <b> "+this.getFutureDates(e.schedule_dates)+"</b> <p><span class='colored-text'>This action cannot be undone.</span> <b>Are you sure?</b></p>"}},{key:"getFutureDates",value:function(e){var i=e.filter(function(s){return 1!=s.sent}).map(function(s){return xn(new Date(s.schedule_date),"MMM dd")});return console.log(i),i.join(", ")}},{key:"getData",value:function(){var e=this;this.pageLoading=!0,this.service.getScheduledSurveys().then(function(i){e.history=i.history,e.emptyResults=e.history&&0==e.history.length}).catch(function(i){console.log(i)}).finally(function(){e.pageLoading=!1})}},{key:"cancelScheduledSurvey",value:function(e){return(0,w.mG)(this,void 0,void 0,h().mark(function i(){var s;return h().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.actionLoading){c.next=2;break}return c.abrupt("return");case 2:return this.actionLoading=!0,s={question_id:e},c.prev=4,c.next=7,this.service.cancelScheduledSurvey(s);case 7:this.getData(),c.next=15;break;case 11:c.prev=11,c.t0=c.catch(4),this.gs.showToastError(c.t0.message),console.log(c.t0);case 15:return c.prev=15,this.actionLoading=!1,c.finish(15);case 18:case"end":return c.stop()}},i,this,[[4,11,15,18]])}))}}]),a}();return o.\u0275fac=function(t){return new(t||o)(n.Y36(M.m),n.Y36(T.T))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-schedule-history"]],inputs:{parent:"parent",show:"show"},features:[n.TTD],decls:6,vars:2,consts:[[3,"loading"],[1,"header-container","scheduled-sms"],[1,"header"],[1,"heading"],["class","sms-history-body",4,"ngIf"],[1,"sms-history-body"],[3,"display","textMessage","animation"],["class","sms-history-wrapper",4,"ngFor","ngForOf"],[1,"sms-history-wrapper"],[1,"row1"],["nbTooltipPlacement","bottom",1,"left-items-sms"],[1,"sch-info"],[4,"ngFor","ngForOf"],[1,"right-items-sms"],[3,"isComment","type","title","textToDisplay","proceedDelete","proceedCancel"],["nbTooltip","Cancel","nbTooltipPlacement","top",1,"circle-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-xmark",2,"color","#e91e63"],["nbButton","","type","button","status","primary",1,"stop-btn",3,"click"],[1,"row2"],[1,"question-type"],["class","row3",4,"ngIf"],["class","row4",4,"ngIf"],[1,"row5",3,"ngClass"],["class","",4,"ngIf"],[2,"cursor","pointer",3,"nbTooltip"],[1,"row3"],[1,"row4"],[1,""]],template:function(t,e){1&t&&(n._UZ(0,"app-loader",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"span",3),n._uU(4," Scheduled SMS "),n.qZA(),n.qZA(),n.qZA(),n.YNc(5,hn,3,4,"div",4)),2&t&&(n.Q6J("loading",e.pageLoading||e.actionLoading),n.xp6(5),n.Q6J("ngIf",!e.pageLoading))},directives:[q.R,d.O5,S.k,d.sg,g.jNv,un.D,g.DPz,d.mk],pipes:[d.uU],styles:[".scheduled-sms[_ngcontent-%COMP%] {\n  background-image: linear-gradient(to left, #e2ddff, #e2ddff, #f1eeff, #dfdbf7, #dfdbf7);\n}\n.scheduled-sms[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%] {\n  color: #000000;\n  font-weight: 600;\n  font-size: 18px;\n}\n.sms-history-body[_ngcontent-%COMP%] {\n  overflow: auto;\n  height: calc(95vh - 95px);\n}\n.sms-history-wrapper[_ngcontent-%COMP%] {\n  background: white;\n  margin: 10px;\n  padding: 10px;\n  border-radius: 10px;\n  box-shadow: #dbdbdb9c 0px 3px 8px;\n}\n.sms-history-wrapper[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%] {\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n}\n.sms-history-wrapper[_ngcontent-%COMP%]   .sch-info[_ngcontent-%COMP%] {\n  color: #000000;\n}\n.sms-history-wrapper[_ngcontent-%COMP%]   .left-items-sms[_ngcontent-%COMP%] {\n  font-size: 15px;\n  font-weight: 600;\n  margin-top: 8px;\n}\n.sms-history-wrapper[_ngcontent-%COMP%]   .old-sch[_ngcontent-%COMP%] {\n  color: #A39C9C;\n}\n.sms-history-wrapper[_ngcontent-%COMP%]   .upcoming-sch[_ngcontent-%COMP%] {\n  color: #6E689B;\n}\n.sms-history-wrapper[_ngcontent-%COMP%]   .row2[_ngcontent-%COMP%] {\n  margin-top: 10px;\n  color: #000000;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 1.5;\n}\n.sms-history-wrapper[_ngcontent-%COMP%]   .question-type[_ngcontent-%COMP%] {\n  border-radius: 20px;\n  padding: 0px;\n  padding-left: 10px;\n  padding-right: 10px;\n  color: #000000;\n  font-size: 12px;\n  margin-left: 4px;\n}\n.sms-history-wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%] {\n  background: #b5e6ff;\n}\n.sms-history-wrapper[_ngcontent-%COMP%]   .binary[_ngcontent-%COMP%] {\n  background: #ffedae;\n}\n.sms-history-wrapper[_ngcontent-%COMP%]   .scale[_ngcontent-%COMP%] {\n  background: #d7d2ff;\n}\n.sms-history-wrapper[_ngcontent-%COMP%]   .NoResponse[_ngcontent-%COMP%] {\n  background: #b5e6ff;\n}\n.sms-history-wrapper[_ngcontent-%COMP%]   .row3[_ngcontent-%COMP%] {\n  margin-top: 7px;\n  color: #000000;\n  font-size: 13px;\n}\n.sms-history-wrapper[_ngcontent-%COMP%]   .row4[_ngcontent-%COMP%] {\n  margin-top: 4px;\n  color: #000000;\n  font-size: 13px;\n}\n.sms-history-wrapper[_ngcontent-%COMP%]   .row5[_ngcontent-%COMP%] {\n  margin-top: 4px;\n  color: #000000;\n  font-size: 13px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.sms-history-wrapper[_ngcontent-%COMP%]   .createdOn-only[_ngcontent-%COMP%] {\n  justify-content: flex-end;\n}\n.sms-history-wrapper[_ngcontent-%COMP%]   .manage-btn[_ngcontent-%COMP%] {\n  margin-right: 5px;\n  background: white !important;\n  border: 1px solid #7b68ee !important;\n  color: #7b68ee !important;\n  height: 26px;\n}\n.sms-history-wrapper[_ngcontent-%COMP%]   .stop-btn[_ngcontent-%COMP%] {\n  background: white !important;\n  border: 1px solid #e91e63 !important;\n  color: #e91e63 !important;\n  height: 26px;\n}\n@media (max-width: 630px) {\n  .sms-history-wrapper[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%] {\n    flex-direction: column-reverse;\n    align-items: flex-start;\n  }\n  .sms-history-wrapper[_ngcontent-%COMP%]   .right-items-sms[_ngcontent-%COMP%] {\n    display: flex;\n    justify-content: flex-end;\n    width: 100%;\n  }\n}\n@media (max-width: 700px) {\n  .sms-history-wrapper[_ngcontent-%COMP%]   .stop-btn[_ngcontent-%COMP%] {\n    display: none;\n  }\n}"]}),o}(),Zn=u(3383),N=u(4605),J=u(5116);function wn(o,a){if(1&o){var t=n.EpF();n.TgZ(0,"button",13),n.TgZ(1,"i",14),n.NdJ("click",function(){return n.CHM(t),n.oxw().initiateFlow()}),n.qZA(),n.qZA()}if(2&o){var e=n.oxw();n.Q6J("disabled",!e.form.controls.question.valid)}}var bn=function(a){return{"selected-category":a}};function Tn(o,a){if(1&o){var t=n.EpF();n.ynx(0),n.TgZ(1,"div",26),n.NdJ("click",function(){var r=n.CHM(t).$implicit;return n.oxw(2).selectCategory(r)}),n.TgZ(2,"div",27),n.TgZ(3,"span",28),n._uU(4),n.qZA(),n.qZA(),n.TgZ(5,"div",29),n.TgZ(6,"span",30),n._UZ(7,"i",31),n._uU(8),n.qZA(),n.qZA(),n.qZA(),n.BQk()}if(2&o){var e=a.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("ngClass",n.VKq(3,bn,e.id==i.selectedCategory.id)),n.xp6(3),n.hij(" ",e.title," "),n.xp6(4),n.hij(" ",null==e.questions?null:e.questions.length," automated tasks")}}function Mn(o,a){if(1&o){var t=n.EpF();n.TgZ(0,"div",34),n.NdJ("click",function(){var r=n.CHM(t).$implicit;return n.oxw(3).openAddModal(r)}),n.TgZ(1,"span"),n._UZ(2,"img",35),n.qZA(),n.TgZ(3,"span",36),n.TgZ(4,"span",37),n._uU(5),n.TgZ(6,"span",38),n._uU(7),n.qZA(),n.qZA(),n.TgZ(8,"span",39),n._uU(9),n.qZA(),n.qZA(),n.qZA()}if(2&o){var e=a.$implicit,i=n.oxw(3);n.xp6(2),n.Q6J("src",e.img_url,n.LSH),n.xp6(3),n.hij(" ",e.title," "),n.xp6(1),n.Tol("Yes/No"==e.type?"binary":e.type),n.xp6(1),n.Oqu(i.displayQuestionType(e.type)),n.xp6(2),n.hij(" ",e.description," ")}}function On(o,a){if(1&o&&(n.TgZ(0,"div",32),n.YNc(1,Mn,10,6,"div",33),n.qZA()),2&o){var t=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",t.selectedCategory.questions)}}function Pn(o,a){if(1&o){var t=n.EpF();n.TgZ(0,"div",15),n.TgZ(1,"div",16),n.TgZ(2,"span",17),n._uU(3),n.qZA(),n.TgZ(4,"span",18),n.TgZ(5,"app-search-input",19),n.NdJ("searchEvent",function(s){return n.CHM(t),n.oxw().onSearch(s)})("searchAll",function(s){return n.CHM(t),n.oxw().onSearchAll(s)}),n.qZA(),n.TgZ(6,"span"),n.TgZ(7,"span",20),n.NdJ("click",function(){return n.CHM(t),n.oxw().showSideBar=!0}),n.TgZ(8,"button",21),n._uU(9,"Schedules"),n.qZA(),n.qZA(),n.TgZ(10,"span",20),n.NdJ("click",function(){return n.CHM(t),n.oxw().goToResponses()}),n.TgZ(11,"button",22),n._uU(12,"View Responses"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(13,"div",23),n.YNc(14,Tn,9,5,"ng-container",24),n.qZA(),n.YNc(15,On,2,1,"div",25),n.qZA()}if(2&o){var e=n.oxw();n.xp6(3),n.hij("Categories (",null==e.categories?null:e.categories.length,")"),n.xp6(2),n.Q6J("placeholder","Search question"),n.xp6(9),n.Q6J("ngForOf",e.categories),n.xp6(1),n.Q6J("ngIf",e.selectedCategory)}}var Sn=function(){var o=function(){function a(t,e,i,s,p,r){(0,Z.Z)(this,a),this.service=t,this.fb=e,this.router=i,this.dataService=s,this.gs=p,this.dialogService=r}return(0,C.Z)(a,[{key:"ngOnInit",value:function(){var e=this;this.showSideBar=!1,this.dataService.getConfigurations(!1).then(function(i){var s;1===(null===(s=i.company)||void 0===s?void 0:s.interactive_communication)||e.router.navigate(["401"])}).finally(function(){}),this.gs.hideSplashScreen(),this.form=this.fb.group({question:["",f.kI.required]}),this.getData()}},{key:"getData",value:function(){var e=this;this.pageLoading=!0,this.service.getSurveyQuestions(this.searchText).then(function(i){var s;e.categories=null==i?void 0:i.categories,e.emptySearchResults=!(0!==(null===(s=i.categories)||void 0===s?void 0:s.length)||!e.searchText),e.selectedCategory=e.categories[0]}).catch(function(i){console.log(i)}).finally(function(){e.pageLoading=!1,e.loading=!1})}},{key:"openAddModal",value:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=i?i.description:this.form.value.question,p=i?i.type:null;this.dialogService.open(ln,{hasBackdrop:!0,closeOnBackdropClick:!1,context:{text:s,type:p,imgUrl:null==i?void 0:i.img_url,category:null==i?void 0:i.title}}).onClose.subscribe(function(r){r&&e.form.controls.question.setValue("")})}},{key:"selectCategory",value:function(e){this.selectedCategory=e}},{key:"initiateFlow",value:function(){this.form.controls.question.valid&&this.openAddModal()}},{key:"onSearch",value:function(e){this.gs.logEvents("search_task"),this.searchOn=e.trim(),this.searchText=this.searchOn,this.getData()}},{key:"onSearchAll",value:function(e){this.searchOn=e.trim()}},{key:"closeDetails",value:function(){this.showSideBar=!1,this.gs.showBackDrop(!1)}},{key:"displayQuestionType",value:function(e){switch(e){case"scale":return"1-10";case"text":return"Free text";case"NoResponse":return"Information";default:return e}}},{key:"goToResponses",value:function(){this.router.navigate(["/survey/history"])}}]),a}();return o.\u0275fac=function(t){return new(t||o)(n.Y36(T.T),n.Y36(f.qu),n.Y36(b.F0),n.Y36(P.s),n.Y36(M.m),n.Y36(g.Gln))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-ai-survey-page"]],decls:15,vars:10,consts:[[3,"loading"],[1,"comment-sidebar",3,"showSideBar","closeDetails"],[3,"parent","show"],[1,"flex"],[1,"colored-column-info","timesheets_wrapper","survey-communication"],[1,"page-wrapper"],[1,"wrapper_header","heading"],[1,"sub-heading"],[1,"add-input"],["maxlength","255",1,"input-padding-right",3,"placeholder","controlName","form","keydown.enter"],["ghost","","nbButton","","type","submit",3,"disabled",4,"ngIf"],["class","categories-container",4,"ngIf"],[3,"display"],["ghost","","nbButton","","type","submit",3,"disabled"],[1,"fa-brands","fa-telegram","enter-btn",3,"click"],[1,"categories-container"],[1,"actions-row"],[1,"heading"],[1,"right-actions"],[1,"search",3,"placeholder","searchEvent","searchAll"],[1,"responses-btn",3,"click"],["size","medium","type","button","nbButton","","status","secondary"],["size","medium","type","button","nbButton","","status","primary"],[1,"category-cards"],[4,"ngFor","ngForOf"],["class","populate-questions",4,"ngIf"],[1,"category-details","grow",3,"ngClass","click"],[1,"category-name"],[1,"name"],[1,"desc"],[1,"questions-count"],[1,"fa-solid","fa-bolt-lightning",2,"color","rgb(113, 219, 219)"],[1,"populate-questions"],["class","questions-list",3,"click",4,"ngFor","ngForOf"],[1,"questions-list",3,"click"],[3,"src"],[1,"question-txt"],[1,"question-helptext"],[1,"question-type"],[1,"question-info"]],template:function(t,e){1&t&&(n._UZ(0,"app-loader",0),n.TgZ(1,"app-sidebar",1),n.NdJ("closeDetails",function(){return e.closeDetails()}),n._UZ(2,"app-schedule-history",2),n.qZA(),n.TgZ(3,"div",3),n.TgZ(4,"nb-layout-column",4),n.TgZ(5,"div",5),n.TgZ(6,"div",6),n._uU(7," Initiate automation within seconds. "),n.qZA(),n.TgZ(8,"div",7),n._uU(9," Discover numerous popular recipes that you can send with just a few clicks. "),n.qZA(),n.TgZ(10,"span",8),n.TgZ(11,"app-text-input",9),n.NdJ("keydown.enter",function(){return e.initiateFlow()}),n.YNc(12,wn,2,1,"button",10),n.qZA(),n.qZA(),n.qZA(),n.YNc(13,Pn,16,4,"div",11),n._UZ(14,"app-no-search-records",12),n.qZA(),n.qZA()),2&t&&(n.Q6J("loading",e.loading||e.pageLoading),n.xp6(1),n.Q6J("showSideBar",e.showSideBar),n.xp6(1),n.Q6J("parent",e)("show",e.showSideBar),n.xp6(9),n.Q6J("placeholder","What do you want to learn about your team? (i.e. are they happy? how is their new manager, etc?) ")("controlName","question")("form",e.form),n.xp6(1),n.Q6J("ngIf",!e.pageLoading),n.xp6(1),n.Q6J("ngIf",e.categories),n.xp6(1),n.Q6J("display",e.emptySearchResults))},directives:[q.R,cn.k,Cn,g.dP_,Zn.t,d.O5,g.DPz,N.J,d.sg,d.mk,J.V],styles:[".timesheets_wrapper[_ngcontent-%COMP%]   .wrapper_header[_ngcontent-%COMP%] {\n  padding: 36px 0px;\n  padding-bottom: 4px;\n  background: #f9faff;\n}\n\n.survey-communication[_ngcontent-%COMP%] {\n  padding-bottom: 10px !important;\n}\n\n.survey-communication[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%] {\n  font-size: 20px;\n  color: #070707;\n  font-weight: 600;\n}\n\n.survey-communication[_ngcontent-%COMP%]   .sub-heading[_ngcontent-%COMP%] {\n  color: #8E8E8E;\n  font-size: 14px;\n  margin-bottom: 20px;\n}\n\n.survey-communication[_ngcontent-%COMP%]   .categories-container[_ngcontent-%COMP%] {\n  margin-top: 25px;\n}\n\n.survey-communication[_ngcontent-%COMP%]   .category-cards[_ngcontent-%COMP%] {\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 10px;\n}\n\n.survey-communication[_ngcontent-%COMP%]   .category-details[_ngcontent-%COMP%] {\n  width: 250px;\n  display: flex;\n  flex-direction: column;\n  background: #ffffff;\n  padding-left: 12px;\n  padding-right: 12px;\n  border-bottom-right-radius: 5px;\n  border-top-right-radius: 5px;\n  font-size: 13px;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  margin-right: 10px;\n  margin-top: 10px;\n  border-radius: 15px;\n  box-shadow: #ffe5bd 0px 3px 8px;\n  position: relative;\n}\n\n.survey-communication[_ngcontent-%COMP%]   .category-details.grow[_ngcontent-%COMP%] {\n  transition: all 0.2s ease-in-out;\n}\n\n.survey-communication[_ngcontent-%COMP%]   .category-details.grow[_ngcontent-%COMP%]:hover {\n  transform: scale(1.03);\n  cursor: pointer;\n}\n\n.survey-communication[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%] {\n  margin-bottom: 5px;\n  margin-top: 5px;\n  display: flex;\n  align-items: center;\n}\n\n.survey-communication[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%] {\n  font-size: 16px;\n  font-weight: 600;\n  margin-left: 10px;\n}\n\n.survey-communication[_ngcontent-%COMP%]   .questions-count[_ngcontent-%COMP%] {\n  font-size: 14px;\n  font-weight: 500;\n  margin-left: 10px;\n}\n\n.survey-communication[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%] {\n  margin-bottom: 5px;\n  margin-top: 5px;\n}\n\n.survey-communication[_ngcontent-%COMP%]   .questions-list[_ngcontent-%COMP%] {\n  background: white;\n  display: flex;\n  padding-left: 15px;\n  padding-right: 15px;\n  padding-top: 10px;\n  padding-bottom: 5px;\n  border-radius: 12px;\n  box-shadow: #dbdbdb9c 0px 3px 8px;\n  margin-bottom: 10px;\n}\n\n.survey-communication[_ngcontent-%COMP%]   .questions-list[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  width: 35px;\n  height: 35px;\n}\n\n.survey-communication[_ngcontent-%COMP%]   .questions-list[_ngcontent-%COMP%]:hover {\n  background-color: #ebe8ff;\n  cursor: pointer;\n}\n\n.survey-communication[_ngcontent-%COMP%]   .question-txt[_ngcontent-%COMP%] {\n  color: #070707;\n  font-size: 16px;\n  font-weight: 600;\n  margin-bottom: 5px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin-left: 10px;\n}\n\n.survey-communication[_ngcontent-%COMP%]   .question-helptext[_ngcontent-%COMP%] {\n  margin-top: 2px;\n  margin-bottom: 3px;\n}\n\n.survey-communication[_ngcontent-%COMP%]   .question-info[_ngcontent-%COMP%] {\n  color: #070707;\n  font-size: 14px;\n  margin-top: 3px;\n  font-weight: 500;\n}\n\n.survey-communication[_ngcontent-%COMP%]   .populate-questions[_ngcontent-%COMP%] {\n  margin-top: 30px;\n  height: calc(80vh - 249px);\n  overflow: auto;\n}\n\n.survey-communication[_ngcontent-%COMP%]   .actions-row[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.survey-communication[_ngcontent-%COMP%]   .right-actions[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n}\n\n.survey-communication[_ngcontent-%COMP%]   .responses-btn[_ngcontent-%COMP%] {\n  margin-left: 10px;\n}\n\n.survey-communication[_ngcontent-%COMP%]   .enter-btn[_ngcontent-%COMP%] {\n  font-size: 35px;\n  box-shadow: #9a89ff 0px 2px 6px;\n  border-radius: 50px;\n}\n\n.question-type[_ngcontent-%COMP%] {\n  border-radius: 20px;\n  padding: 0px;\n  padding-left: 10px;\n  padding-right: 10px;\n  color: #000000;\n  font-size: 12px;\n  margin-left: 4px;\n}\n\n.text[_ngcontent-%COMP%] {\n  background: #b5e6ff;\n}\n\n.binary[_ngcontent-%COMP%] {\n  background: #ffedae;\n}\n\n.scale[_ngcontent-%COMP%] {\n  background: #d7d2ff;\n}\n\n.NoResponse[_ngcontent-%COMP%] {\n  background: #b5e6ff;\n}\n\n.selected-category[_ngcontent-%COMP%] {\n  background: #e5e1ff !important;\n}\n\n.selected-category[_ngcontent-%COMP%] {\n  background: #e5e1ff !important;\n}\n\n.clear-filter[_ngcontent-%COMP%] {\n  color: #e91e63;\n  font-weight: 500;\n  position: absolute;\n  right: -2px;\n  top: -1px;\n  font-size: 20px;\n}\n\n.disabled-btn[_ngcontent-%COMP%] {\n  color: #C0C0C0 !important;\n}\n\n.enabled[_ngcontent-%COMP%] {\n  color: #7b68ee;\n  cursor: pointer;\n}\n\n@media (max-width: 500px) {\n  .survey-communication[_ngcontent-%COMP%]   .actions-row[_ngcontent-%COMP%] {\n    display: flex;\n    justify-content: initial;\n    flex-direction: column;\n    align-items: initial;\n  }\n  .survey-communication[_ngcontent-%COMP%]   .right-actions[_ngcontent-%COMP%] {\n    justify-content: end;\n    margin-top: 13px;\n    margin-bottom: 10px;\n  }\n  .survey-communication[_ngcontent-%COMP%]   .category-cards[_ngcontent-%COMP%] {\n    flex-wrap: initial;\n    overflow-y: auto;\n    padding-bottom: 10px;\n  }\n\n  .right-actions[_ngcontent-%COMP%] {\n    flex-direction: column;\n    align-items: flex-end !important;\n    justify-content: flex-end !important;\n    margin-bottom: 5px !important;\n  }\n\n  .search[_ngcontent-%COMP%] {\n    margin-bottom: 10px;\n  }\n}\n\n.status-secondary[_ngcontent-%COMP%] {\n  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px !important;\n  color: #7b68ee;\n}"]}),o}(),_=u(8279),k=u(6271),An=u(8457),qn=u(3963),kn=u(4266),Fn=u(3863),Un=u(3966);function Nn(o,a){if(1&o){var t=n.EpF();n.TgZ(0,"span",17),n.TgZ(1,"app-dropdown",18),n.NdJ("valueChange",function(){return n.CHM(t),n.oxw().onQuestionSelection()}),n.qZA(),n.qZA()}if(2&o){var e=n.oxw();n.xp6(1),n.Q6J("optionClass","question-options")("Data",e.questionList)("key","id")("display","title")("displayDate","sent_on")("placeholder","Select a question")("controlName","question")("form",e.form)("show",!0)}}function Jn(o,a){if(1&o){var t=n.EpF();n.TgZ(0,"mat-paginator",19),n.NdJ("page",function(s){n.CHM(t);var p=n.oxw();return p.pageEvent=s,p.getData()}),n.qZA()}if(2&o){var e=n.oxw();n.Q6J("length",e.paginator.total_records)("pageIndex",e.paginator.page_no-1)("pageSize",e.paginator.page_size)("pageSizeOptions",e.pageSizes)}}function Rn(o,a){if(1&o&&(n.TgZ(0,"span",31),n._uU(1),n.qZA()),2&o){var t=n.oxw(2);n.xp6(1),n.hij("+",t.calcPerc(),"%")}}function Qn(o,a){if(1&o&&(n.TgZ(0,"span",22),n.TgZ(1,"span",23),n.TgZ(2,"span",35),n._uU(3),n.qZA(),n.TgZ(4,"span",25),n._UZ(5,"img",36),n.qZA(),n.qZA(),n.qZA()),2&o){var t=n.oxw().$implicit;n.xp6(3),n.hij(" ",t.title," ")}}function In(o,a){if(1&o&&(n.TgZ(0,"span",22),n.TgZ(1,"span",23),n.TgZ(2,"span",37),n._uU(3),n.qZA(),n.qZA(),n.qZA()),2&o){var t=n.oxw().$implicit;n.xp6(3),n.hij(" ",t.response," ")}}function Dn(o,a){if(1&o&&(n.TgZ(0,"span",38),n.TgZ(1,"span",39),n._uU(2),n.TgZ(3,"span",40),n._uU(4,"Yes"),n.qZA(),n.qZA(),n.TgZ(5,"span",41),n._uU(6),n.TgZ(7,"span",40),n._uU(8,"No"),n.qZA(),n.qZA(),n.qZA()),2&o){var t=n.oxw().$implicit;n.xp6(2),n.hij(" ",t.count_yes," "),n.xp6(4),n.hij(" ",t.count_no," ")}}function Yn(o,a){if(1&o&&(n.TgZ(0,"span",38),n.TgZ(1,"span",39),n._uU(2),n.TgZ(3,"span",40),n._uU(4,"max"),n.qZA(),n.qZA(),n.TgZ(5,"span",41),n._uU(6),n.TgZ(7,"span",40),n._uU(8,"min"),n.qZA(),n.qZA(),n.TgZ(9,"span",42),n._uU(10),n.TgZ(11,"span",40),n._uU(12,"Avg"),n.qZA(),n.qZA(),n.qZA()),2&o){var t=n.oxw().$implicit;n.xp6(2),n.hij(" ",t.count_max," "),n.xp6(4),n.hij(" ",t.count_min," "),n.xp6(4),n.hij(" ",t.count_avg," ")}}function zn(o,a){if(1&o&&(n.TgZ(0,"div",32),n.YNc(1,Qn,6,1,"span",33),n.YNc(2,In,4,1,"span",33),n.YNc(3,Dn,9,2,"span",34),n.YNc(4,Yn,13,3,"span",34),n.qZA()),2&o){var t=n.oxw(2);n.xp6(1),n.Q6J("ngIf",3!=t.summary.question_type),n.xp6(1),n.Q6J("ngIf",3==t.summary.question_type),n.xp6(1),n.Q6J("ngIf",1==t.summary.question_type),n.xp6(1),n.Q6J("ngIf",2==t.summary.question_type)}}function Hn(o,a){if(1&o&&(n.TgZ(0,"div",20),n.TgZ(1,"div",21),n.TgZ(2,"span",22),n.TgZ(3,"span",23),n.TgZ(4,"span",24),n._uU(5," Total Responses "),n.qZA(),n.TgZ(6,"span",25),n._UZ(7,"img",26),n.qZA(),n.qZA(),n.TgZ(8,"span",27),n._uU(9),n.qZA(),n.qZA(),n.TgZ(10,"span",28),n.YNc(11,Rn,2,1,"span",29),n.qZA(),n.qZA(),n.YNc(12,zn,5,4,"div",30),n.qZA()),2&o){var t=n.oxw();n.xp6(9),n.AsE(" ",null==t.summary?null:t.summary.total_responses,"/",null==t.summary?null:t.summary.total_questions_sent," "),n.xp6(2),n.Q6J("ngIf",(null==t.summary?null:t.summary.total_responses)>0),n.xp6(1),n.Q6J("ngForOf",t.storeSummary)}}function Bn(o,a){if(1&o){var t=n.EpF();n.TgZ(0,"th",64),n._uU(1,"Name "),n.TgZ(2,"app-sort",65),n.NdJ("onSort",function(s){return n.CHM(t),n.oxw(2).onSort(s,"name_sort")}),n.qZA(),n.qZA()}if(2&o){var e=n.oxw(2);n.xp6(2),n.Q6J("order",null==e.filters?null:e.filters.name_sort)("isSelected",null!==(null==e.isFiltered?null:e.isFiltered.name_sort))}}function jn(o,a){if(1&o&&(n.ynx(0),n.TgZ(1,"span",74),n._uU(2),n.qZA(),n.BQk()),2&o){var t=a.$implicit;n.xp6(1),n.Udp("background-color",t.color),n.xp6(1),n.Oqu(t.tag)}}function En(o,a){if(1&o&&(n.TgZ(0,"span",74),n._uU(1),n.qZA()),2&o){var t=n.oxw().$implicit;n.Udp("background-color","#edeef4"),n.xp6(1),n.hij("+",t.tagsCount-2,"")}}function Ln(o,a){if(1&o){var t=n.EpF();n.TgZ(0,"td",66),n.TgZ(1,"div",67),n.TgZ(2,"label",68),n._uU(3,"Name "),n.qZA(),n.TgZ(4,"span",69),n._UZ(5,"app-user-avatar",70),n.TgZ(6,"span",71),n.NdJ("click",function(p){var c=n.CHM(t).$implicit,l=n.oxw(2);return p.stopPropagation(),l.openLabelModal(c)}),n.YNc(7,jn,3,3,"ng-container",72),n.ALo(8,"slice"),n.YNc(9,En,2,3,"span",73),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&o){var e=a.$implicit,i=n.oxw(2);n.xp6(5),n.s9C("name",e.name),n.Q6J("color",e.user_color+i.opacity)("initialColor",e.user_color)("nbTooltip",e.name),n.xp6(2),n.Q6J("ngForOf",n.Dn7(8,6,e.tags,0,2)),n.xp6(2),n.Q6J("ngIf",e.tagsCount>2)}}function $n(o,a){if(1&o){var t=n.EpF();n.TgZ(0,"app-filter-popup",76),n.NdJ("onClose",function(){return n.CHM(t),n.oxw(3).closeFilter("role")})("onApply",function(){return n.CHM(t),n.oxw(3).applyFilterMulti("role")})("onClear",function(){return n.CHM(t),n.oxw(3).removeFilter("role")})("onOpen",function(){n.CHM(t);var s=n.oxw(3);return s.defaultOpen=!s.defaultOpen}),n._UZ(1,"app-dropdown-multi",77),n.qZA()}if(2&o){var e=n.oxw(3);n.Q6J("label","roles")("isFiltered",null==e.isFiltered?null:e.isFiltered.role),n.xp6(1),n.Q6J("label","roles")("defaultOpen",e.defaultOpen)("selected",null==e.filters?null:e.filters.role)("key","role_title")("optionId","role_id")("Data",e.roles)("placeholder","Select one or more roles")("controlName","role")("form",e.form)("show",!1)}}function Vn(o,a){if(1&o&&(n.TgZ(0,"th",64),n._uU(1," Role "),n.YNc(2,$n,2,12,"app-filter-popup",75),n.qZA()),2&o){var t=n.oxw(2);n.xp6(2),n.Q6J("ngIf",!(null!=t.gs&&t.gs.isRespMode))}}function Gn(o,a){if(1&o&&(n.TgZ(0,"td",66),n.TgZ(1,"span",78),n.TgZ(2,"span",79),n.TgZ(3,"label",68),n._uU(4,"Role "),n.qZA(),n.TgZ(5,"span"),n._uU(6),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&o){var t=a.$implicit;n.xp6(6),n.hij(" ",t.user_role," ")}}function Wn(o,a){if(1&o){var t=n.EpF();n.TgZ(0,"app-filter-popup",76),n.NdJ("onClose",function(){return n.CHM(t),n.oxw(3).closeFilter("store")})("onApply",function(){return n.CHM(t),n.oxw(3).applyFilterMulti("store")})("onClear",function(){return n.CHM(t),n.oxw(3).removeFilter("store")})("onOpen",function(){n.CHM(t);var s=n.oxw(3);return s.defaultOpen2=!s.defaultOpen2}),n._UZ(1,"app-dropdown-multi",77),n.qZA()}if(2&o){var e=n.oxw(3);n.Q6J("label","stores")("isFiltered",null==e.isFiltered?null:e.isFiltered.store),n.xp6(1),n.Q6J("label","stores")("defaultOpen",e.defaultOpen2)("selected",null==e.filters?null:e.filters.store)("key","region_title")("optionId","region_id")("Data",e.stores)("placeholder","Select one or more stores")("controlName","store")("form",e.form)("show",!1)}}function Kn(o,a){if(1&o&&(n.TgZ(0,"th",80),n._uU(1,"Store "),n.YNc(2,Wn,2,12,"app-filter-popup",75),n.qZA()),2&o){var t=n.oxw(2);n.xp6(2),n.Q6J("ngIf",!(null!=t.gs&&t.gs.isRespMode))}}function Xn(o,a){if(1&o&&(n.TgZ(0,"span",85),n._uU(1),n.qZA()),2&o){var t=n.oxw().$implicit,e=n.oxw(2);n.Q6J("nbTooltip",e.displayStores(t)),n.xp6(1),n.hij(" ",null==t.stores?null:t.stores.length," stores ")}}function ne(o,a){if(1&o&&(n.TgZ(0,"span",86),n._uU(1),n.qZA()),2&o){var t=n.oxw().$implicit;n.xp6(1),n.Oqu(t.stores)}}function ee(o,a){if(1&o&&(n.TgZ(0,"td",81),n.TgZ(1,"span",82),n.TgZ(2,"label",68),n._uU(3,"Store"),n.qZA(),n.YNc(4,Xn,2,2,"span",83),n.YNc(5,ne,2,1,"span",84),n.qZA(),n.qZA()),2&o){var t=a.$implicit;n.xp6(4),n.Q6J("ngIf",(null==t.stores?null:t.stores.length)>1),n.xp6(1),n.Q6J("ngIf",1===(null==t.stores?null:t.stores.length))}}function te(o,a){1&o&&(n.TgZ(0,"th",87),n._uU(1," Status "),n.qZA())}function oe(o,a){if(1&o){var t=n.EpF();n.TgZ(0,"i",91),n.NdJ("click",function(){n.CHM(t);var i=n.oxw().$implicit;return n.oxw(2).resendSMS(i.sms_id)}),n.qZA()}}var ie=function(a,t){return{sent:a,failed:t}};function se(o,a){if(1&o&&(n.TgZ(0,"td",88),n.TgZ(1,"label",68),n._uU(2,"Status"),n.qZA(),n.TgZ(3,"span",89),n.ALo(4,"date"),n._uU(5),n.qZA(),n.TgZ(6,"span"),n.YNc(7,oe,1,0,"i",90),n.qZA(),n.qZA()),2&o){var t=a.$implicit;n.xp6(3),n.Q6J("nbTooltip",n.xi3(4,4,t.sent_at,"MMM d, h:mm a"))("ngClass",n.WLB(7,ie,"sent"==(null==t.status?null:t.status.toLowerCase()),"failed"==(null==t.status?null:t.status.toLowerCase()))),n.xp6(2),n.hij(" ",t.status," "),n.xp6(2),n.Q6J("ngIf","Failed"==t.status)}}function ae(o,a){1&o&&(n.TgZ(0,"th",87),n._uU(1," Responded At "),n.qZA())}function re(o,a){if(1&o&&(n.TgZ(0,"td",88),n.TgZ(1,"label",68),n._uU(2,"Responded At"),n.qZA(),n._uU(3),n.ALo(4,"date"),n.qZA()),2&o){var t=a.$implicit;n.xp6(3),n.hij(" ",n.xi3(4,1,t.responded_at,"MMM d, y, h:mm a")," ")}}function pe(o,a){1&o&&(n.TgZ(0,"th",92),n._uU(1," Response "),n.qZA())}function le(o,a){if(1&o&&(n.TgZ(0,"td",88),n.TgZ(1,"label",68),n._uU(2,"Responses"),n.qZA(),n._uU(3),n.qZA()),2&o){var t=a.$implicit,e=n.oxw(2);n.Tol(3==(null==e.summary?null:e.summary.question_type)?"response-survey":""),n.xp6(3),n.hij(" ",t.response," ")}}function ce(o,a){1&o&&n._UZ(0,"tr",93)}function ue(o,a){1&o&&n._UZ(0,"tr",94)}function ge(o,a){if(1&o&&(n.TgZ(0,"div",43),n.TgZ(1,"table",44),n.ynx(2,45),n.YNc(3,Bn,3,2,"th",46),n.YNc(4,Ln,10,10,"td",47),n.BQk(),n.ynx(5,48),n.YNc(6,Vn,3,1,"th",46),n.YNc(7,Gn,7,1,"td",49),n.BQk(),n.ynx(8,50),n.YNc(9,Kn,3,1,"th",51),n.YNc(10,ee,6,2,"td",52),n.BQk(),n.ynx(11,53),n.YNc(12,te,2,0,"th",54),n.YNc(13,se,8,10,"td",55),n.BQk(),n.ynx(14,56),n.YNc(15,ae,2,0,"th",54),n.YNc(16,re,5,4,"td",55),n.BQk(),n.ynx(17,57),n.YNc(18,pe,2,0,"th",58),n.YNc(19,le,4,3,"td",59),n.BQk(),n.YNc(20,ce,1,0,"tr",60),n.YNc(21,ue,1,0,"tr",61),n.qZA(),n._UZ(22,"app-no-records",62),n._UZ(23,"app-no-search-records",63),n.qZA()),2&o){var t=n.oxw();n.xp6(1),n.Q6J("dataSource",t.dataSource),n.xp6(19),n.Q6J("matHeaderRowDef",t.displayedColumns),n.xp6(1),n.Q6J("matRowDefColumns",t.displayedColumns),n.xp6(1),n.Q6J("display",t.emptyResults)("animation","timesheet")("textMessage","No surveys."),n.xp6(1),n.Q6J("display",!t.emptyResults&&t.emptySearchResults)}}function de(o,a){if(1&o&&(n.ynx(0),n.TgZ(1,"li",98),n._uU(2),n.qZA(),n._UZ(3,"br"),n.BQk()),2&o){var t=a.$implicit;n.xp6(2),n.hij(" ",t," ")}}function me(o,a){if(1&o&&(n.ynx(0),n.TgZ(1,"div",95),n.TgZ(2,"nb-card"),n.TgZ(3,"nb-card-body"),n.TgZ(4,"div",96),n._uU(5," Responses "),n.qZA(),n.TgZ(6,"ul",97),n._UZ(7,"app-no-records",62),n.YNc(8,de,4,1,"ng-container",72),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.BQk()),2&o){var t=n.oxw();n.xp6(7),n.Q6J("display",0==(null==t.anonymousResponses?null:t.anonymousResponses.length)||null==t.anonymousResponses)("animation","timesheet")("textMessage","No responses."),n.xp6(1),n.Q6J("ngForOf",t.anonymousResponses)}}var fe=function(a){return{"anonymous-responses":a}},_e={page_no:1,page_size:k.Wv[1],total_records:0},he=[{path:"",component:Sn},{path:"history",component:function(){var o=function(){function a(t,e,i,s,p){var r=this;(0,Z.Z)(this,a),this.fb=t,this.router=e,this.service=i,this.gs=s,this.dataService=p,this.displayedColumns=["name","role","store","status","respondedAt","responses"],this.dataSource=new _.by([]),this.defaultOpen=!0,this.defaultOpen2=!0,this.filters={role:null,name_sort:1},this.isFiltered={role:!1,store:!1},this.pageSizes=k.Wv,this.dataService.getRoles(!1).then(function(c){r.roles=c}).finally(function(){})}return(0,C.Z)(a,[{key:"ngOnInit",value:function(){var e=this;this.dataService.getConfigurations(!1).then(function(i){var s;1===(null===(s=i.company)||void 0===s?void 0:s.interactive_communication)||e.router.navigate(["401"])}).finally(function(){setTimeout(function(){e.stores=e.dataService.getLoggedInUserStores()},3e3)}),this.paginator=_e,this.pageLoading=!0,this.opacity=k.ZF,this.gs.hideSplashScreen(),this.form=this.fb.group({role:[],store:[],question:[""]}),this.getData()}},{key:"resetCols",value:function(){var e;this.displayedColumns=this.isAnonymous||4==(null===(e=this.summary)||void 0===e?void 0:e.question_type)?["name","role","store","status"]:["name","role","store","status","respondedAt","responses"]}},{key:"closeFilter",value:function(e){var i;this.form.controls[e].setValue(null===(i=this.filters)||void 0===i?void 0:i[e])}},{key:"OnHover",value:function(e){var i;this.regions=null===(i=null==e?void 0:e.regions)||void 0===i?void 0:i.map(function(s){return s.region_title}).join(", ")}},{key:"onSearch",value:function(e){this.searchOn=e.trim(),this.searchText=this.searchOn,this.pageEvent&&(this.pageEvent.pageIndex=0),this.getData()}},{key:"onSort",value:function(e,i){this.filters[i]=e,this.getData()}},{key:"getData",value:function(){var e=this;this.loading=!0;var i=this.form.get("question").value;this.service.getSurveyResponses(this.searchText,this.pageEvent,this.filters,i).then(function(s){var p,r;e.isAnonymous=1==s.is_anonymous,e.anonymousResponses=s.anonymous_responses,e.summary=s.summary,e.resetCols(),i||(e.questionList=s.all_questions),e.form.controls.question.setValue(s.question_id),e.dataSource=s.users_responses,e.storeSummary=s.storewise_summary,e.paginator=s.pagination,e.emptySearchResults=!(0!==(null===(p=s.users_responses)||void 0===p?void 0:p.length)||!e.searchText),e.emptyResults=0===(null===(r=s.users_responses)||void 0===r?void 0:r.length)&&!e.searchText}).catch(function(s){console.log(s)}).finally(function(){e.pageLoading=!1,e.loading=!1})}},{key:"resendSMS",value:function(e){return(0,w.mG)(this,void 0,void 0,h().mark(function i(){var s;return h().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.loading){r.next=2;break}return r.abrupt("return");case 2:return this.loading=!0,r.prev=3,r.next=6,this.service.resendSMS({id:e});case 6:this.gs.showToastSuccess(null==(s=r.sent)?void 0:s.message),this.getData(),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(3),this.gs.showToastError(r.t0.message),console.log(r.t0);case 15:return r.prev=15,this.loading=!1,r.finish(15);case 18:case"end":return r.stop()}},i,this,[[3,11,15,18]])}))}},{key:"onQuestionSelection",value:function(){this.getData()}},{key:"displayStores",value:function(e){var i;return null===(i=e.stores)||void 0===i?void 0:i.join(", ")}},{key:"applyFilterMulti",value:function(e){var i=this.form.controls[e].value;i&&i.length>0?(this.isFiltered[e]=!0,this.filters[e]=i):(this.filters[e]=null,this.isFiltered[e]=!1),this.getData()}},{key:"removeFilter",value:function(e){this.filters[e]=null,this.isFiltered[e]=!1,this.getData()}},{key:"calcPerc",value:function(){return Math.round(this.summary.total_responses/this.summary.total_questions_sent*100*100)/100}},{key:"backToSurvey",value:function(){this.router.navigate(["survey"])}}]),a}();return o.\u0275fac=function(t){return new(t||o)(n.Y36(f.qu),n.Y36(b.F0),n.Y36(T.T),n.Y36(M.m),n.Y36(P.s))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-survey-responses"]],decls:18,vars:12,consts:[[3,"loading"],[1,"flex"],[1,"colored-column-info","timesheets_wrapper","survey-responses"],[1,"wrapper_header"],[1,"flex","container"],[3,"click"],["size","medium","type","button","nbButton","","status","primary",1,"back-btn"],["aria-hidden","true",1,"fa","fa-angle-left",2,"margin-right","7px"],["class","question-dropdown",4,"ngIf"],[1,"right-elements"],[1,"search",3,"placeholder","searchEvent"],[1,"survey_responses_pagination"],["showFirstLastButtons","",3,"length","pageIndex","pageSize","pageSizeOptions","page",4,"ngIf"],["class","response-details",4,"ngIf"],[3,"ngClass"],["class","survey-container",4,"ngIf"],[4,"ngIf"],[1,"question-dropdown"],[3,"optionClass","Data","key","display","displayDate","placeholder","controlName","form","show","valueChange"],["showFirstLastButtons","",3,"length","pageIndex","pageSize","pageSizeOptions","page"],[1,"response-details"],[1,"box-container","box1"],[1,"row-wrapper1"],[1,"first-element"],[1,"heading-txt"],[1,"img-container"],["src","assets/response.png"],[1,"second-element"],[1,"row-wrapper2"],["class","positive",4,"ngIf"],["class","box-container box2",4,"ngFor","ngForOf"],[1,"positive"],[1,"box-container","box2"],["class","row-wrapper1",4,"ngIf"],["class","row-wrapper2 mt-27",4,"ngIf"],[1,"sname-details"],["src","assets/store-img.png"],[1,"free-txt-questions"],[1,"row-wrapper2","mt-27"],[1,"fs-26","positive"],[1,"response-txt"],[1,"fs-26","negative"],[1,"fs-26","avg-number"],[1,"survey-container"],["mat-table","",1,"table-wrapper",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","style","width: 20%;",4,"matHeaderCellDef"],["mat-cell","","style","width: 20%",4,"matCellDef"],["matColumnDef","role"],["mat-cell","","style","width: 20%;",4,"matCellDef"],["matColumnDef","store"],["mat-header-cell","","style","width: 12%;",4,"matHeaderCellDef"],["mat-cell","","style","width: 12%;","class","store-details",4,"matCellDef"],["matColumnDef","status"],["mat-header-cell","","style","width: 15%;",4,"matHeaderCellDef"],["mat-cell","","style","width: 15%;",4,"matCellDef"],["matColumnDef","respondedAt"],["matColumnDef","responses"],["mat-header-cell","","style","width: 15%;","class","response",4,"matHeaderCellDef"],["mat-cell","","style","width: 15%;",3,"class",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"display","animation","textMessage"],[3,"display"],["mat-header-cell","",2,"width","20%"],[3,"order","isSelected","onSort"],["mat-cell","",2,"width","20%"],[1,"flex","resp-mode","trim_name","username"],[1,"show_in_resp"],[1,"username-col"],["size","medium","nbTooltipAdjustment","noop",1,"user-table",3,"name","color","initialColor","nbTooltip"],[1,"tags-container",3,"click"],[4,"ngFor","ngForOf"],["class","tags",3,"background-color",4,"ngIf"],[1,"tags"],[3,"label","isFiltered","onClose","onApply","onClear","onOpen",4,"ngIf"],[3,"label","isFiltered","onClose","onApply","onClear","onOpen"],[3,"label","defaultOpen","selected","key","optionId","Data","placeholder","controlName","form","show"],[1,"resp-view"],[1,"truncate-name"],["mat-header-cell","",2,"width","12%"],["mat-cell","",1,"store-details",2,"width","12%"],[1,"resp-container"],["class","pointer store-name",3,"nbTooltip",4,"ngIf"],["class","store-name",4,"ngIf"],[1,"pointer","store-name",3,"nbTooltip"],[1,"store-name"],["mat-header-cell","",2,"width","15%"],["mat-cell","",2,"width","15%"],[1,"status-tag","default-tag",3,"nbTooltip","ngClass"],["nbTooltip","Resend SMS","class","fa-solid fa-arrow-rotate-left failed-icon",3,"click",4,"ngIf"],["nbTooltip","Resend SMS",1,"fa-solid","fa-arrow-rotate-left","failed-icon",3,"click"],["mat-header-cell","",1,"response",2,"width","15%"],["mat-header-row",""],["mat-row",""],[1,"anonymous-responses-panel"],[1,"response-header"],[1,"response-list"],[1,"responses"]],template:function(t,e){1&t&&(n._UZ(0,"app-loader",0),n.TgZ(1,"div",1),n.TgZ(2,"nb-layout-column",2),n.TgZ(3,"div",3),n.TgZ(4,"div",4),n.TgZ(5,"span",5),n.NdJ("click",function(){return e.backToSurvey()}),n.TgZ(6,"button",6),n._UZ(7,"i",7),n._uU(8," Survey Dashboard "),n.qZA(),n.qZA(),n.YNc(9,Nn,2,9,"span",8),n.TgZ(10,"span",9),n.TgZ(11,"app-search-input",10),n.NdJ("searchEvent",function(s){return e.onSearch(s)}),n.qZA(),n.TgZ(12,"span",11),n.YNc(13,Jn,1,4,"mat-paginator",12),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(14,Hn,13,4,"div",13),n.TgZ(15,"div",14),n.YNc(16,ge,24,7,"div",15),n.YNc(17,me,9,4,"ng-container",16),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.Q6J("loading",e.pageLoading||e.loading),n.xp6(3),n.Udp("visibility",e.paginator?"visible":"hidden"),n.xp6(6),n.Q6J("ngIf",e.form&&!e.pageLoading&&!e.emptyResults),n.xp6(2),n.Q6J("placeholder","Search by user"),n.xp6(2),n.Q6J("ngIf",e.paginator),n.xp6(1),n.Q6J("ngIf",!e.pageLoading&&!e.emptyResults&&4!=e.summary.question_type),n.xp6(1),n.Q6J("ngClass",n.VKq(10,fe,e.isAnonymous)),n.xp6(1),n.Q6J("ngIf",!e.pageLoading),n.xp6(1),n.Q6J("ngIf",e.isAnonymous))},directives:[q.R,g.dP_,g.DPz,d.O5,U.J,N.J,An.NW,d.sg,d.mk,_.BZ,_.w1,_.fO,_.ge,qn.x,_.Dz,_.ev,kn.k,g.jNv,Fn.u,Un.x,_.as,_.XQ,_.nj,_.Gk,S.k,J.V,g.Asz,g.yKW],pipes:[d.OU,d.uU],styles:[".survey-responses[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%] {\n  justify-content: space-between;\n  width: 100%;\n  align-items: center;\n}\n.survey-responses[_ngcontent-%COMP%]   .right-elements[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n}\n.survey-responses[_ngcontent-%COMP%]   .response-details[_ngcontent-%COMP%] {\n  margin-top: 10px;\n  margin-bottom: 10px;\n  display: flex;\n  flex-wrap: wrap;\n}\n.survey-responses[_ngcontent-%COMP%]   .box-container[_ngcontent-%COMP%] {\n  padding-left: 10px;\n  padding-right: 10px;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  border-radius: 12px;\n  box-shadow: #dbdbdb9c 0px 3px 8px;\n  margin-bottom: 10px;\n  display: flex;\n  flex-direction: column;\n  margin-right: 10px;\n  min-width: 240px;\n}\n.survey-responses[_ngcontent-%COMP%]   .box1[_ngcontent-%COMP%] {\n  background-image: linear-gradient(to right bottom, #cdebff, #deefff, #ecf3ff, #f7f9ff, #ffffff);\n}\n.survey-responses[_ngcontent-%COMP%]   .box2[_ngcontent-%COMP%] {\n  background: white;\n}\n.survey-responses[_ngcontent-%COMP%]   .row-wrapper1[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  border-left: 3px solid #67ABDA;\n  padding-left: 10px;\n}\n.survey-responses[_ngcontent-%COMP%]   .first-element[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n}\n.survey-responses[_ngcontent-%COMP%]   .heading-txt[_ngcontent-%COMP%] {\n  color: #070707;\n  font-weight: 600;\n  font-size: 15px;\n  display: flex;\n  align-items: center;\n}\n.survey-responses[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  width: 40px;\n  height: 38px;\n}\n.survey-responses[_ngcontent-%COMP%]   .second-element[_ngcontent-%COMP%] {\n  color: #60A7D5;\n  font-size: 28px;\n  font-weight: 600;\n}\n.survey-responses[_ngcontent-%COMP%]   .row-wrapper2[_ngcontent-%COMP%] {\n  font-size: 17px;\n  font-weight: 600;\n  margin-top: 15px;\n  display: flex;\n  justify-content: space-between;\n  padding-left: 15px;\n  padding-right: 10px;\n}\n.survey-responses[_ngcontent-%COMP%]   .positive[_ngcontent-%COMP%] {\n  color: #48BB78;\n}\n.survey-responses[_ngcontent-%COMP%]   .negative[_ngcontent-%COMP%] {\n  color: #FF6A73;\n}\n.survey-responses[_ngcontent-%COMP%]   .sname-details[_ngcontent-%COMP%] {\n  font-size: 18px;\n  word-wrap: break-word;\n  width: 120px;\n  font-weight: 500;\n  line-height: 1.3;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n.survey-responses[_ngcontent-%COMP%]   .free-txt-questions[_ngcontent-%COMP%] {\n  font-size: 14px;\n  word-wrap: break-word;\n  width: 207px;\n  font-weight: 500;\n  line-height: 1.3;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-line-clamp: 5;\n  -webkit-box-orient: vertical;\n}\n.survey-responses[_ngcontent-%COMP%]   .response-txt[_ngcontent-%COMP%] {\n  color: #464646;\n  font-size: 13px;\n  font-weight: 500;\n  margin-left: -5px;\n}\n.survey-responses[_ngcontent-%COMP%]   .fs-26[_ngcontent-%COMP%] {\n  font-size: 26px;\n}\n.survey-responses[_ngcontent-%COMP%]   .avg-number[_ngcontent-%COMP%] {\n  color: #60A7D5;\n}\n.survey-responses[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%] {\n  color: #7b68ee !important;\n  background-color: white !important;\n}\n.survey-responses[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%] {\n  margin-left: 30px;\n  display: block;\n  margin-top: -10px;\n  font-size: 12px;\n}\n.survey-responses[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%] {\n  padding: 1px;\n  padding-left: 8px;\n  padding-right: 8px;\n  border-radius: 10px;\n  margin-right: 5px;\n  display: inline-block;\n  margin-bottom: 5px;\n  color: #060606;\n}\n.survey-responses[_ngcontent-%COMP%]   .question-dropdown[_ngcontent-%COMP%] {\n  width: 50%;\n}\n.survey-responses[_ngcontent-%COMP%]   .status-tag[_ngcontent-%COMP%] {\n  border-radius: 4px;\n  padding: 3px;\n  display: inline-block;\n  text-align: center;\n  min-width: 54px;\n  padding-right: 10px;\n  padding-left: 10px;\n}\n.survey-responses[_ngcontent-%COMP%]   .sent[_ngcontent-%COMP%] {\n  background: #E7EFFF !important;\n  color: #3B7CFF !important;\n}\n.survey-responses[_ngcontent-%COMP%]   .failed[_ngcontent-%COMP%] {\n  background: #fdcaca !important;\n  color: #E53838 !important;\n}\n.survey-responses[_ngcontent-%COMP%]   .default-tag[_ngcontent-%COMP%] {\n  background: #ffdfaf;\n  color: #fe6700;\n}\n.survey-responses[_ngcontent-%COMP%]   .failed-icon[_ngcontent-%COMP%] {\n  color: #E53838;\n  margin-left: 4px;\n}\n.mt-27[_ngcontent-%COMP%] {\n  margin-top: 27px !important;\n}\n.two-column[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n}\n.two-column[_ngcontent-%COMP%]   .flex1[_ngcontent-%COMP%] {\n  flex: 1;\n  display: flex;\n  padding-left: 20px;\n  padding-top: 20px;\n  font-weight: 600 !important;\n  font-size: 18px;\n  color: #6e689b !important;\n  padding-bottom: 10px;\n}\n.right-panel[_ngcontent-%COMP%]   .right_pannel_points[_ngcontent-%COMP%] {\n  justify-content: center;\n  display: flex;\n  min-height: 48px;\n  align-items: flex-start;\n  margin-left: 8px;\n  margin-right: 8px;\n}\n.right-panel[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%] {\n  height: -moz-fit-content;\n  height: fit-content;\n}\n@media (min-width: 930px) {\n  .survey-responses[_ngcontent-%COMP%] {\n    overflow: hidden !important;\n  }\n}\n@media (max-width: 930px) {\n  .survey-responses[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%] {\n    flex-direction: column;\n    align-items: initial;\n  }\n  .survey-responses[_ngcontent-%COMP%]   .question-dropdown[_ngcontent-%COMP%] {\n    margin-top: 10px;\n    width: 100%;\n  }\n  .survey-responses[_ngcontent-%COMP%]   .right-elements[_ngcontent-%COMP%] {\n    justify-content: flex-end;\n    margin-top: 10px;\n  }\n  .survey-responses[_ngcontent-%COMP%]   .response-details[_ngcontent-%COMP%] {\n    overflow: auto;\n    flex-wrap: initial;\n  }\n}\n@media (max-width: 600px) and (min-width: 320px) {\n  .anonymous-responses[_ngcontent-%COMP%] {\n    flex-direction: column;\n  }\n\n  .survey-container[_ngcontent-%COMP%] {\n    width: 100% !important;\n    padding-bottom: 10px;\n  }\n\n  .anonymous-responses-panel[_ngcontent-%COMP%] {\n    width: 100% !important;\n    padding: 0px !important;\n  }\n}\n@media (max-width: 520px) and (min-width: 320px) {\n  .survey-responses[_ngcontent-%COMP%]   .wrapper_header[_ngcontent-%COMP%] {\n    padding-bottom: 0px;\n  }\n}\n.anonymous-responses[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%] {\n  margin-bottom: 0px;\n  height: 49vh;\n  border: none !important;\n}\n.anonymous-responses[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%] {\n  overflow: hidden;\n}\n.survey-container[_ngcontent-%COMP%] {\n  max-height: 60vh;\n  overflow: auto;\n}\n.anonymous-responses[_ngcontent-%COMP%] {\n  display: flex;\n}\n.anonymous-responses[_ngcontent-%COMP%]   .survey-container[_ngcontent-%COMP%] {\n  width: 70%;\n}\n.anonymous-responses[_ngcontent-%COMP%]   .anonymous-responses-panel[_ngcontent-%COMP%] {\n  padding-left: 10px;\n  width: 30%;\n}\n.anonymous-responses[_ngcontent-%COMP%]   .response-header[_ngcontent-%COMP%] {\n  font-size: 17px;\n  font-weight: 600;\n  color: #6e689b;\n  margin-top: 4px;\n}\n.anonymous-responses[_ngcontent-%COMP%]   .response-list[_ngcontent-%COMP%] {\n  list-style: none;\n  padding-left: 5px;\n  padding-right: 5px;\n  height: 265px;\n  overflow: auto;\n}\n.anonymous-responses[_ngcontent-%COMP%]   .responses[_ngcontent-%COMP%] {\n  color: #464646;\n  font-size: 13px;\n  font-weight: 500;\n  padding: 15px;\n  border-bottom: 1px solid #80808029;\n  padding-left: 0px;\n  padding-right: 0px;\n}"]}),o}()}],ye=function(){var o=(0,C.Z)(function a(){(0,Z.Z)(this,a)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[b.Bz.forChild(he)],b.Bz]}),o}(),xe=u(5032),Ce=function(){var o=(0,C.Z)(function a(){(0,Z.Z)(this,a)});return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[R.vQ,d.ez,ye,xe.m]]}),o}()}}]);