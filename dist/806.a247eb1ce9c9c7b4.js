"use strict";(self.webpackChunkAzal_FE=self.webpackChunkAzal_FE||[]).push([[806],{8517:function(Z,P,o){o.d(P,{J:function(){return A}});var b=o(5671),O=o(3144),e=o(5e3),t=o(6253),d=o(4825),u=o(9808),D=o(1062);function f(a,s){if(1&a&&(e.ynx(0),e._uU(1),e.BQk()),2&a){var l=e.oxw(3);e.xp6(1),e.hij("",l.textLabel," ")}}function C(a,s){if(1&a&&(e.TgZ(0,"span",6),e.YNc(1,f,2,1,"ng-container",7),e.TgZ(2,"span",8),e._uU(3),e.qZA(),e.qZA()),2&a){var l=e.oxw(2);e.xp6(1),e.Q6J("ngIf",l.textLabel),e.xp6(2),e.Oqu(l.text)}}function T(a,s){if(1&a){var l=e.EpF();e.TgZ(0,"div"),e._UZ(1,"div",9),e.TgZ(2,"img",10),e.NdJ("load",function(){return e.CHM(l),e.oxw(2).onImgLoad()}),e.ALo(3,"async"),e.ALo(4,"imageAuth"),e.qZA(),e.qZA()}if(2&a){var i=e.oxw(2);e.Tol("user_image_expand_wrapper "+i.imageClass),e.xp6(2),e.Q6J("src",e.lcZ(3,3,e.xi3(4,5,i.image,!0)),e.LSH)}}function E(a,s){if(1&a&&(e.TgZ(0,"div",3),e.YNc(1,C,4,2,"span",4),e.qZA(),e.YNc(2,T,5,8,"div",5)),2&a){var l=e.oxw();e.xp6(1),e.Q6J("ngIf",l.text),e.xp6(1),e.Q6J("ngIf",l.image)}}var g=["*"],A=function(){var a=function(){function s(l){(0,b.Z)(this,s),this.analytics=l,this.imageClass=this.imageClass?this.imageClass:""}return(0,O.Z)(s,[{key:"onImgLoad",value:function(){"details"!==this.textLabel&&this.analytics.logEvents("main_table_photo");var i=document.getElementsByClassName("loading_image").item(0);i&&(i.style.display="none")}}]),s}();return a.\u0275fac=function(l){return new(l||a)(e.Y36(t.C))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-text-popup"]],inputs:{textLabel:"textLabel",text:"text",image:"image",imageClass:"imageClass"},ngContentSelectors:g,decls:4,vars:1,consts:[["nbPopoverPlacement","left",3,"nbPopover"],["style","padding-top: 20px;"],["templateRef2",""],[2,"max-width","300px"],["style","font-size: 11px;",4,"ngIf"],[3,"class",4,"ngIf"],[2,"font-size","11px"],[4,"ngIf"],[1,"note-desp"],[1,"loading_image"],[1,"user_image_expand",3,"src","load"]],template:function(l,i){if(1&l&&(e.F$t(),e.TgZ(0,"span",0),e.Hsn(1),e.qZA(),e.YNc(2,E,3,2,"ng-template",1,2,e.W1O)),2&l){var m=e.MAs(3);e.Q6J("nbPopover",m)}},directives:[d.ydg,u.O5],pipes:[u.Ov,D.z],styles:[".user_image_expand_wrapper[_ngcontent-%COMP%] {\n  display: flex;\n  overflow: auto;\n  max-width: 400px;\n  max-height: 350px;\n  height: auto;\n  width: auto;\n  padding: 5px;\n}\n\n.tasks-azalio-play[_ngcontent-%COMP%] {\n  display: flex !important;\n  max-width: 650px !important;\n  max-height: 600px !important;\n}\n\n.reports-azalio-play[_ngcontent-%COMP%] {\n  max-width: 650px !important;\n  max-height: 600px !important;\n}\n\n@media (max-width: 600px) {\n  .reports-azalio-play[_ngcontent-%COMP%] {\n    max-width: 250px !important;\n    max-height: 400px !important;\n  }\n}\n\n.user_image_expand[_ngcontent-%COMP%] {\n  margin: 0px auto;\n  display: block;\n  \n  height: auto;\n  \n  \n  width: auto;\n  max-width: -webkit-fill-available;\n  max-height: -webkit-fill-available;\n  max-height: -moz-available;\n  min-width: -moz-available;\n  object-fit: contain;\n}\n\n.loading_image[_ngcontent-%COMP%] {\n  display: flex;\n  max-width: 350px;\n  max-height: 450px;\n  height: 450px;\n  width: 350px;\n  background-image: url('loading.770309326aaa001b.gif');\n  background-color: #ffffff;\n  background-position: top;\n  background-repeat: no-repeat;\n  background-size: auto !important;\n  overflow: hidden;\n  max-width: -webkit-fill-available;\n  max-height: -webkit-fill-available;\n  max-height: -moz-available;\n  min-width: -moz-available;\n}\n\n.note-desp[_ngcontent-%COMP%] {\n  color: black;\n  font-size: 11px;\n  flex-wrap: wrap;\n}"]}),a}()},9894:function(Z,P,o){o.d(P,{T:function(){return A}});var b=o(5671),O=o(3144),e=o(5e3),t=o(6300),d=o(3075),u=o(9489),D=o(9808),f=o(4825);function C(a,s){if(1&a&&(e.ynx(0),e._UZ(1,"input",2),e._UZ(2,"nb-date-timepicker",3,4),e.BQk()),2&a){var l=e.MAs(3),i=e.oxw();e.xp6(1),e.Q6J("nbDatepicker",l)("formControlName",i.controlName)("placeholder",i.placeholder),e.xp6(1),e.Q6J("twelveHoursFormat",!0)}}function T(a,s){if(1&a){var l=e.EpF();e.ynx(0),e.TgZ(1,"input",5),e.NdJ("click",function(){return e.CHM(l),e.oxw().setClass()}),e.qZA(),e._UZ(2,"nb-date-timepicker",6,4),e.BQk()}if(2&a){var i=e.MAs(3),m=e.oxw();e.xp6(1),e.Q6J("nbDatepicker",i)("formControlName",m.controlName)("placeholder",m.placeholder),e.xp6(1),e.Q6J("twelveHoursFormat",!0)}}function E(a,s){if(1&a){var l=e.EpF();e.ynx(0),e.TgZ(1,"input",7),e.NdJ("click",function(){return e.CHM(l),e.oxw().hideFooter()}),e.qZA(),e.TgZ(2,"nb-timepicker",8,9),e.NdJ("onSelectTime",function(h){return e.CHM(l),e.oxw().onSelectTime(h)}),e.qZA(),e.BQk()}if(2&a){var i=e.MAs(3),m=e.oxw();e.xp6(1),e.Q6J("nbTimepicker",i)("formControlName",m.controlName)("placeholder",m.placeholder),e.xp6(1),e.Q6J("twelveHoursFormat",!0)}}function g(a,s){if(1&a){var l=e.EpF();e.ynx(0),e.TgZ(1,"input",10),e.NdJ("input",function(h){return e.CHM(l),e.oxw().onValueChange(h)}),e.qZA(),e._UZ(2,"nb-datepicker",11,12),e.BQk()}if(2&a){var i=e.MAs(3),m=e.oxw();e.xp6(1),e.Q6J("nbDatepicker",i)("formControlName",m.controlName)("placeholder",m.placeholder),e.xp6(1),e.Q6J("min",m.minDate)("filter",m.filter)}}var A=function(){var a=function(){function s(l){(0,b.Z)(this,s),this.gs=l,this.appendedTo="body",this.dateType="date",this.placeholder=this.placeholder?this.placeholder:"Select date and time",this.onlyTime=!!this.onlyTime,this.onlyTimePicker=!!this.onlyTimePicker,this.onlyDate=!!this.onlyDate,this.filter=!this.filter||this.filter}return(0,O.Z)(s,[{key:"ngOnInit",value:function(){var i=this.minDate;this.minDate=this.minDate?this.minDate:new Date(1900,0,1),this.maxDate=this.maxDate?this.maxDate:new Date,this.yearRange=this.minDate.getFullYear()+":"+this.maxDate.getFullYear(),this.onlyDate&&(this.minDate=i||this.gs.getPrevDate(new Date,1))}},{key:"setClass",value:function(){setTimeout(function(){var i=document.getElementsByTagName("nb-calendar-with-time");console.log(i),i&&i[0]&&(i[0].className="shift-hrs-picker")},150)}},{key:"hideFooter",value:function(){setTimeout(function(){var i=document.getElementsByTagName("nb-card-footer"),m=document.getElementsByTagName("nb-calendar-actions");i&&i[0]&&(i[0].className="padding-2px"),m&&m[0]&&(i[0].className="d-none")},150)}},{key:"onValueChange",value:function(i){var m=this;this.form.controls[this.controlName.toString()].setValue(this.gs.getPrevDate(new Date,2)),setTimeout(function(){m.form.controls[m.controlName.toString()].setValue(null)})}},{key:"onSelectTime",value:function(i){this.form.controls[this.controlName.toString()].setValue(i.time)}}]),s}();return a.\u0275fac=function(l){return new(l||a)(e.Y36(t.m))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-timer-input"]],inputs:{form:"form",controlName:"controlName",minDate:"minDate",maxDate:"maxDate",appendedTo:"appendedTo",dateType:"dateType",onlyTime:"onlyTime",onlyTimePicker:"onlyTimePicker",onlyDate:"onlyDate",filter:"filter",placeholder:"placeholder"},decls:5,vars:5,consts:[[3,"formGroup"],[4,"ngIf"],["aria-label","timer input","nbInput","",3,"nbDatepicker","formControlName","placeholder"],["format","MM/dd/yyyy hh:mm a",3,"twelveHoursFormat"],["dateTimePicker",""],["aria-label","timer input","nbInput","",3,"nbDatepicker","formControlName","placeholder","click"],["format","hh:mm a",2,"display","none",3,"twelveHoursFormat"],["placeholder","Enter time","nbInput","","twelveHoursFormat","",3,"nbTimepicker","formControlName","placeholder","click"],["timeFormat","hh:mm a",3,"twelveHoursFormat","onSelectTime"],["timepicker",""],["aria-label","timer input","nbInput","",3,"nbDatepicker","formControlName","placeholder","input"],["format","MM/dd/yyyy",3,"min","filter"],["datePicker",""]],template:function(l,i){1&l&&(e.TgZ(0,"form",0),e.YNc(1,C,4,4,"ng-container",1),e.YNc(2,T,4,4,"ng-container",1),e.YNc(3,E,4,4,"ng-container",1),e.YNc(4,g,4,5,"ng-container",1),e.qZA()),2&l&&(e.Q6J("formGroup",i.form),e.xp6(1),e.Q6J("ngIf",!i.onlyTime&&!i.onlyDate&&!i.onlyTimePicker),e.xp6(1),e.Q6J("ngIf",i.onlyTime),e.xp6(1),e.Q6J("ngIf",i.onlyTimePicker),e.xp6(1),e.Q6J("ngIf",i.onlyDate))},directives:[d._Y,d.JL,d.sg,u.w5,D.O5,f.h8i,f.$kf,d.Fj,d.JJ,d.u,u.x0,u.bf,f.VW_,f.etF,f.emG,f.B4C],styles:[""]}),a}()},7754:function(Z,P,o){o.d(P,{s:function(){return R}});var b=o(4902),O=o(5671),e=o(3144),t=o(5e3),d=o(591),u=o(1086),D=o(1059),f=o(7545),C=o(6271),T=o(3075),E=o(6300),g=o(5837),A=o(7756),a=o(4825),s=o(9808),l=o(2945),i=o(4266),m=["autoInput"];function _(p,c){if(1&p&&t._UZ(0,"nb-tag",9),2&p){var r=t.oxw();t.Q6J("text",r.tagText)}}function h(p,c){1&p&&(t.TgZ(0,"span"),t._uU(1,"No matches found."),t.qZA())}function M(p,c){if(1&p&&(t.ynx(0),t._UZ(1,"app-user-avatar",12),t.BQk()),2&p){var r=t.oxw().$implicit,n=t.oxw();t.xp6(1),t.Q6J("name",r.name)("title",r.role_title)("color",r.color+n.opacity)("initialColor",r.color)}}function U(p,c){if(1&p&&(t.TgZ(0,"nb-option",10),t.YNc(1,h,2,0,"span",11),t.YNc(2,M,2,4,"ng-container",11),t.qZA()),2&p){var r=c.$implicit;t.Q6J("value",r),t.xp6(1),t.Q6J("ngIf",-1===r),t.xp6(1),t.Q6J("ngIf",-1!==r)}}var L=function(c){return{"disabled-field":c}},R=function(){var p=function(){function c(r,n,v){(0,O.Z)(this,c),this.gs=r,this.dataService=n,this.http=v,this.textChanged=new d.X(""),this.options=[],this.onChange=function(){},this.onTouched=function(){},this.loaderClass="",this.selectedUser=new t.vpe}return(0,e.Z)(c,[{key:"ngOnInit",value:function(){var v,y,I,n=this;this.autofocus=!!this.autofocus&&this.autofocus,this.disable=!1,this.tagText="",this.opacity=C.ZF.toString(),this.textChanged.pipe((0,D.O)(""),(0,f.w)(function(x){return!x.trim()||null==n.region&&null==n.url?(0,u.of)([]):(console.log(n.url),n.http.get(n.url?n.url+"&search="+x:"organisation/getUsersByRegionTeamIds?region_id="+n.region+"&search="+x))})).subscribe(function(x){if(!n.isOwnAddEdit){var N=x.filter(function(k){return k.id!==n.dataService.getLoggedInUserId()});x=(0,b.Z)(N)}n.loading=!1,n.options=x;var B=document.getElementsByClassName("nb-tag-input");setTimeout(function(){B&&B[0]&&B[0].click()}),n.filteredControlOptions$=x.length>0?(0,u.of)(n.options):""===n.textChanged.value.trim()?(0,u.of)([]):(0,u.of)([-1])}),console.log(this.data),this.data&&((null===(v=this.data[0])||void 0===v?void 0:v.id)||(null===(y=this.data[0])||void 0===y?void 0:y.name))&&(this.tagText=null===(I=this.data[0])||void 0===I?void 0:I.name)}},{key:"ngOnChanges",value:function(n){n.region&&n.region.currentValue!==n.region.previousValue&&(this.tagText="",this.input.nativeElement.value="",this.region=n.region.currentValue,this.filteredControlOptions$=(0,u.of)([]),this.disable=!1),n.data&&(this.tagText=n.data.currentValue,this.input.nativeElement.value="",this.filteredControlOptions$=(0,u.of)([]),this.disable=!1),n.disable&&(this.disableInput=n.disableInput.currentValue)}},{key:"onSelectionChange",value:function(n){if(-1===n)return this.input.nativeElement.value="",void this.textChanged.next("");this.tagText=null==n?void 0:n.name,this.options=this.options.filter(function(v){return v.id==(null==n?void 0:n.id)}),this.filteredControlOptions$=(0,u.of)([]),this.input.nativeElement.value="",this.input.nativeElement.blur(),this.disable=!!this.tagText,this.textChanged.next(""),this.selectedUser.emit(n)}},{key:"onTagRemove",value:function(n){this.tagText="",this.disable=!1,this.selectedUser.emit(null)}},{key:"onAutocompleteChange",value:function(){this.loading=!0,this.textChanged.next(this.input.nativeElement.value)}},{key:"registerOnChange",value:function(n){this.onChange=n}},{key:"registerOnTouched",value:function(n){this.onTouched=n}},{key:"writeValue",value:function(n){this.tagText=n}}]),c}();return p.\u0275fac=function(r){return new(r||p)(t.Y36(E.m),t.Y36(g.s),t.Y36(A.s))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-user-autocomplete-input"]],viewQuery:function(r,n){var v;1&r&&t.Gf(m,7),2&r&&t.iGM(v=t.CRH())&&(n.input=v.first)},inputs:{disableInput:"disableInput",autofocus:"autofocus",region:"region",url:"url",data:"data",className:"className",loaderClass:"loaderClass",isOwnAddEdit:"isOwnAddEdit"},outputs:{selectedUser:"selectedUser"},features:[t._Bn([{provide:T.JU,useExisting:(0,t.Gpc)(function(){return p})}]),t.TTD],decls:11,vars:16,consts:[["nbSpinnerStatus","basic",3,"nbSpinner"],[3,"ngClass","tagRemove"],["removable","true",3,"text",4,"ngIf"],["type","text","nbTagInput","","fullWidth","",1,"username",3,"appAutoFocus","placeholder","nbAutocomplete","disabled","input"],["autoInput",""],[1,"popover-card"],[3,"optionsListClass","optionsPanelClass","selectedChange"],["auto",""],["skip-focusser","true",3,"value",4,"ngFor","ngForOf"],["removable","true",3,"text"],["skip-focusser","true",3,"value"],[4,"ngIf"],["size","medium",3,"name","title","color","initialColor"]],template:function(r,n){if(1&r&&(t._UZ(0,"nb-card-body",0),t.TgZ(1,"nb-tag-list",1),t.NdJ("tagRemove",function(I){return n.onTagRemove(I)}),t.YNc(2,_,1,1,"nb-tag",2),t.TgZ(3,"input",3,4),t.NdJ("input",function(){return n.onAutocompleteChange()}),t.qZA(),t.TgZ(5,"nb-card",5),t.TgZ(6,"nb-card-body"),t.TgZ(7,"nb-autocomplete",6,7),t.NdJ("selectedChange",function(I){return n.onSelectionChange(I)}),t.YNc(9,U,3,3,"nb-option",8),t.ALo(10,"async"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&r){var v=t.MAs(8);t.Tol("spinner-search "+n.loaderClass),t.Q6J("nbSpinner",n.loading),t.xp6(1),t.Q6J("ngClass",t.VKq(14,L,!(!n.disable&&!n.disableInput))),t.xp6(1),t.Q6J("ngIf",n.tagText),t.xp6(1),t.Q6J("appAutoFocus",n.autofocus)("placeholder",n.tagText?"":"Enter name to search")("nbAutocomplete",v)("disabled",n.disable||n.disableInput),t.xp6(4),t.Q6J("optionsListClass",n.className)("optionsPanelClass","options-container"),t.xp6(2),t.Q6J("ngForOf",t.lcZ(10,12,n.filteredControlOptions$))}},directives:[a.yKW,a.Q7R,a.d0f,s.mk,s.O5,a.c2L,a.yk,a.wNd,l.h,a.Asz,a.Xh,s.sg,a.q51,i.k],pipes:[s.Ov],styles:[".assignment[_ngcontent-%COMP%] {\n  height: 4vh !important;\n}\n\n.spinner-search[_ngcontent-%COMP%] {\n  position: absolute;\n  right: 10px;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n  color: #8f9bb3;\n}\n\n.azalioplay-spinner[_ngcontent-%COMP%] {\n  top: 26px !important;\n}\n\n.azalioplay-spinner-more[_ngcontent-%COMP%] {\n  top: 38px !important;\n}\n\n.disabled-field[_ngcontent-%COMP%], .disbaled-field[_ngcontent-%COMP%]:focus {\n  color: #8f9bb37a;\n  background-color: #f7f9fc;\n  border-color: #e4e9f2 !important;\n}"]}),p}()},1062:function(Z,P,o){o.d(P,{z:function(){return f}});var b=o(5671),O=o(3144),e=o(7757),t=o.n(e),d=o(655),u=o(5e3),D=o(7756),f=function(){var C=function(){function T(E){(0,b.Z)(this,T),this.http=E}return(0,O.Z)(T,[{key:"transform",value:function(g){var A=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,d.mG)(this,void 0,void 0,t().mark(function a(){var l,i;return t().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(g&&!g.includes("?id=null")){_.next=2;break}return _.abrupt("return","assets/thumbnail.svg");case 2:if(g.includes("?id=")){_.next=4;break}return _.abrupt("return",g);case 4:return _.prev=4,g+="&full="+(A?1:0),_.next=9,this.http.getImage(g).toPromise();case 9:return l=_.sent,i=new FileReader,_.abrupt("return",new Promise(function(h,M){i.onloadend=function(){var U=i.result,L=U.split("data:text/xml;base64,")[1];h(L?"data:image/png;base64,"+L:U)},i.readAsDataURL(l)}));case 14:return _.prev=14,_.t0=_.catch(4),_.abrupt("return","assets/thumbnail.svg");case 17:case"end":return _.stop()}},a,this,[[4,14]])}))}}]),T}();return C.\u0275fac=function(E){return new(E||C)(u.Y36(D.s,16))},C.\u0275pipe=u.Yjl({name:"imageAuth",type:C,pure:!0}),C}()}}]);