"use strict";(self.webpackChunkAzal_FE=self.webpackChunkAzal_FE||[]).push([[939],{3939:function(ie,Y,y){y.r(Y),y.d(Y,{SchedulerModule:function(){return ln}});var I=y(3144),L=y(5671),_=y(9808),U=y(4202),e=y(5e3),N=y(6300),C=y(4902),R=y(7762),A=y(7757),x=y.n(A),S=y(655),b=y(2699),P=y(6271),Q=y(1158),ae=y.n(Q),$=y(7192),F=y(1777),J=y(3075),q=y(4825),B=y(5837),Z=y(7243),se=y(7756),j=function(){var r=function(){function c(i){(0,L.Z)(this,c),this.http=i}return(0,I.Z)(c,[{key:"getSchedules",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return new Promise(function(l,d){var u=Z.J.schedule.get.schedules+s;n&&(u+="&search="+n),o&&(u+="&published_only="+o),(null==a?void 0:a.region_id)?u+="&region_id="+a.region_id:(null==a?void 0:a.team_id)&&(u+="&team_id="+a.team_id),t.http.get(u).subscribe(function(h){l(h)},function(h){console.log(h),d(h)})})}},{key:"addSchedule",value:function(t,n){var a=this;return new Promise(function(s,o){a.http.post(Z.J.schedule.post.addSchedule+"?region_id="+n,t).subscribe(function(d){s(d)},function(d){console.log(d),o(d)})})}},{key:"addLeave",value:function(t,n){var a=this;return new Promise(function(s,o){a.http.post(Z.J.schedule.post.addLeave+"?region_id="+n,t).subscribe(function(d){s(d)},function(d){console.log(d),o(d)})})}},{key:"publishSchedule",value:function(t,n){var a=this;return new Promise(function(s,o){a.http.get(Z.J.schedule.post.publishSchedule+"?store_id="+t+"&is_send_notification="+n).subscribe(function(d){s(d)},function(d){console.log(d),o(d)})})}},{key:"deleteSchedule",value:function(t){var n=this;return new Promise(function(a,s){n.http.post(Z.J.schedule.post.deleteSchedule,t).subscribe(function(l){a(l)},function(l){console.log(l),s(l)})})}},{key:"updateSchedule",value:function(t){var n=this;return new Promise(function(a,s){n.http.post(Z.J.schedule.post.updateSchedule,t).subscribe(function(l){a(l)},function(l){console.log(l),s(l)})})}},{key:"splitSchedule",value:function(t,n){var a=this;return new Promise(function(s,o){a.http.post(Z.J.schedule.post.splitSchedule+"?region_id="+n,t).subscribe(function(d){s(d)},function(d){console.log(d),o(d)})})}},{key:"getLeaves",value:function(t,n,a){var s=this;return new Promise(function(o,l){s.http.get(Z.J.schedule.get.leaves+t+"&region_id="+n+"&resource_id="+a).subscribe(function(u){o(u)},function(u){console.log(u),l(u)})})}},{key:"getLeaveTypes",value:function(){var t=this;return new Promise(function(n,a){t.http.get(Z.J.schedule.get.leaveTypes).subscribe(function(o){n(o)},function(o){console.log(o),a(o)})})}},{key:"updateLeave",value:function(t){var n=this;return new Promise(function(a,s){n.http.post(Z.J.schedule.post.updateLeave,t).subscribe(function(l){a(l)},function(l){console.log(l),s(l)})})}},{key:"deleteLeave",value:function(t){var n=this;return new Promise(function(a,s){n.http.post(Z.J.schedule.post.deleteLeave,t).subscribe(function(l){a(l)},function(l){console.log(l),s(l)})})}},{key:"getOpenSwapHistory",value:function(t){var n=this;return new Promise(function(a,s){n.http.get(Z.J.schedule.get.openSwapHistory+"?region_id="+t).subscribe(function(l){a(l)},function(l){console.log(l),s(l)})})}},{key:"getLeaveRequests",value:function(t){var n=this;return new Promise(function(a,s){n.http.get(Z.J.schedule.get.leaveRequests+"?region_id="+t).subscribe(function(l){a(l)},function(l){console.log(l),s(l)})})}},{key:"respondToOpen",value:function(t){var n=this;return new Promise(function(a,s){n.http.post(Z.J.schedule.post.respondToOpen,t).subscribe(function(l){a(l)},function(l){console.log(l),s(l)})})}},{key:"respondToSwap",value:function(t){var n=this;return new Promise(function(a,s){n.http.post(Z.J.schedule.post.respondToSwap,t).subscribe(function(l){a(l)},function(l){console.log(l),s(l)})})}},{key:"respondToLeaveRequest",value:function(t){var n=this;return new Promise(function(a,s){n.http.post(Z.J.schedule.post.acceptLeave,t).subscribe(function(l){a(l)},function(l){console.log(l),s(l)})})}},{key:"copySchedules",value:function(t){var n=this;return new Promise(function(a,s){n.http.post(Z.J.schedule.post.copySchedules,t).subscribe(function(l){a(l)},function(l){console.log(l),s(l)})})}}]),c}();return r.\u0275fac=function(i){return new(i||r)(e.LFG(se.s))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r}(),oe=y(520),le=y(6253),z=y(605),re=y(6664),V=y(1201),G=y(4266),W=y(2125),pe=function(){var r=function(){function c(i){(0,L.Z)(this,c),this.gs=i}return(0,I.Z)(c,[{key:"transform",value:function(t,n,a){if(t&&n&&a){var s=this.gs.daysBetweenInclusive(new Date(n),new Date(a));return s>1?s+" days":s+" day"}return null}}]),c}();return r.\u0275fac=function(i){return new(i||r)(e.Y36(N.m,16))},r.\u0275pipe=e.Yjl({name:"days",type:r,pure:!0}),r}();function de(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"span",21),e.TgZ(1,"span",22),e.TgZ(2,"span",23),e.TgZ(3,"app-confirm-popup",24),e.NdJ("proceedDelete",function(s){e.CHM(i);var o=e.oxw().$implicit;return e.oxw().respondToLeave(s,o.id)})("proceedCancel",function(){return e.CHM(i),e.oxw(2).selectedRow=null})("proceedWithComment",function(s){e.CHM(i);var o=e.oxw().$implicit;return e.oxw().rejectLeaveWithComment(s,o.id)}),e.TgZ(4,"span",25),e.NdJ("click",function(){e.CHM(i);var s=e.oxw().$implicit;return e.oxw().setRejectText(s)}),e._UZ(5,"i",26),e.qZA(),e.TgZ(6,"button",27),e.NdJ("click",function(){e.CHM(i);var s=e.oxw().$implicit;return e.oxw().setRejectText(s)}),e._uU(7,"Reject"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"span",28),e.TgZ(9,"app-confirm-popup",29),e.NdJ("proceedDelete",function(){e.CHM(i);var s=e.oxw().$implicit;return e.oxw().proceed(s,!1)}),e.TgZ(10,"span",30),e.NdJ("click",function(){e.CHM(i);var s=e.oxw().$implicit;return e.oxw().setApproveText(s)}),e._UZ(11,"i",31),e.qZA(),e.TgZ(12,"button",32),e.NdJ("click",function(){e.CHM(i);var s=e.oxw().$implicit;return e.oxw().setApproveText(s)}),e._uU(13,"Approve"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"span",23),e.TgZ(15,"app-confirm-popup",29),e.NdJ("proceedDelete",function(){e.CHM(i);var s=e.oxw().$implicit;return e.oxw().proceed(s,!0)}),e.TgZ(16,"span",33),e.NdJ("click",function(){e.CHM(i);var s=e.oxw().$implicit;return e.oxw().setPublishText(s)}),e._UZ(17,"i",34),e.qZA(),e.TgZ(18,"button",35),e.NdJ("click",function(){e.CHM(i);var s=e.oxw().$implicit;return e.oxw().setPublishText(s)}),e._uU(19,"Approve & Publish"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){var t=e.oxw().$implicit,n=e.oxw();e.xp6(3),e.Q6J("isComment",!0)("type","Reject")("title","Leave Request")("textToDisplay",n.rejectText),e.xp6(3),e.Q6J("disabled",1==t.is_expired),e.xp6(3),e.Q6J("type","Approve")("title","Leave Request")("textToDisplay",n.approveText)("status","primary"),e.xp6(3),e.Q6J("disabled",1==t.is_expired),e.xp6(3),e.Q6J("type","Approve & Publish")("title","Leave Request")("textToDisplay",n.approveText)("status","primary"),e.xp6(3),e.Q6J("disabled",1==t.is_expired)}}function ce(r,c){if(1&r&&(e.TgZ(0,"span",36),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.qZA()),2&r){var i=e.oxw().$implicit;e.xp6(1),e.AsE("",e.Dn7(2,2,i.start_date,"MMM dd","UTC")," - ",e.Dn7(3,6,i.end_date,"MMM dd","UTC"),"")}}function ue(r,c){if(1&r&&(e.TgZ(0,"span",36),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){var i=e.oxw().$implicit;e.xp6(1),e.Oqu(e.Dn7(2,1,i.start_date,"MMM dd","UTC"))}}function he(r,c){if(1&r&&(e.TgZ(0,"div",8),e.TgZ(1,"span",9),e.TgZ(2,"span",10),e._UZ(3,"app-user-avatar",11),e.qZA(),e.YNc(4,de,20,15,"span",12),e.qZA(),e.TgZ(5,"span",13),e.YNc(6,ce,4,10,"span",14),e.YNc(7,ue,3,5,"span",14),e.TgZ(8,"span",15),e._uU(9),e.ALo(10,"days"),e.qZA(),e.qZA(),e.TgZ(11,"span",16),e.TgZ(12,"span",17),e._uU(13),e.qZA(),e.qZA(),e.TgZ(14,"span",18),e.TgZ(15,"span",19),e._uU(16),e.qZA(),e.qZA(),e.TgZ(17,"span",20),e._uU(18),e.ALo(19,"date"),e.qZA(),e.qZA()),2&r){var i=c.$implicit,t=e.oxw();e.Tol(1==i.is_expired?"disabled-row":""),e.xp6(3),e.Q6J("name",i.requested_by)("color",i.user_color+t.opacity)("initialColor",i.user_color)("title","")("nbTooltip",i.requested_by),e.xp6(1),e.Q6J("ngIf",!t.leaveLoading),e.xp6(2),e.Q6J("ngIf",i.start_date!==i.end_date),e.xp6(1),e.Q6J("ngIf",i.start_date==i.end_date),e.xp6(2),e.Oqu(e.Dn7(10,14,i,i.start_date,i.end_date)),e.xp6(4),e.hij(" ",i.leave_type," "),e.xp6(3),e.hij(" ",i.comment," "),e.xp6(2),e.hij(" Requested on: ",e.xi3(19,18,i.requested_on,"MMM d, h:mm a")," ")}}var ge=function(){var r=function(){function c(i,t,n){(0,L.Z)(this,c),this.dataService=i,this.gs=t,this.service=n,this.refreshData=new e.vpe}return(0,I.Z)(c,[{key:"ngOnInit",value:function(){this.requests=[],this.regionId=this.regionId,this.show=!!this.show&&this.show,this.opacity=P.ZF,this.dataService.setNotiCache(null),this.show&&this.getData()}},{key:"ngOnChanges",value:function(t){t.regionId&&t.regionId.currentValue!==t.regionId.previousValue&&(this.regionId=t.regionId.currentValue,this.requests=null,this.emptyResults=!1,this.show&&this.getData()),t.show&&t.show.currentValue!==t.show.previousValue&&(this.show=t.show.currentValue,1==t.show.currentValue&&this.getData())}},{key:"setRejectText",value:function(t){this.selectedRow=t,this.rejectText="<span>You're about to reject <b>"+t.leave_type+"</b> requested by </span> <b>"+t.requested_by+"</b>. <span class='colored-text'>The user will be able to see this on their mobile device. </span><b>Are you sure?</b>"}},{key:"setApproveText",value:function(t){this.selectedRow=t,this.approveText="<span>You're about to approve <b>"+t.leave_type+"</b> requested by </span> <b>"+t.requested_by+".</b> <p>This leave will be added to the scheduler in unpublished mode and <span class='colored-text'>not be visible to the user on the mobile app until it is published.</span></p> <b>Are you sure?</b>"}},{key:"setPublishText",value:function(t){this.selectedRow=t,this.approveText="<span>You're about to approve <b>"+t.leave_type+"</b> requested by </span> <b>"+t.requested_by+".</b> <p>This leave will be added to the scheduler in published mode and <span class='colored-text'>will be visible to the user on the mobile app.</span></p> <b>Are you sure?</b>"}},{key:"proceed",value:function(t,n){this.respondToLeave(1,t.id,n)}},{key:"rejectLeaveWithComment",value:function(t,n){this.reason=t.reason&&""!==t.reason?t.reason:null,this.respondToLeave(t.isChecked,n)}},{key:"respondToLeave",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,S.mG)(this,void 0,void 0,x().mark(function s(){var o,l;return x().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.leaveLoading=!0,o={id:n,accept:!!t,publish:!(!t||!a)},this.reason&&Object.assign(o,{reason:this.reason}),u.prev=3,u.next=6,this.service.respondToLeaveRequest(o);case 6:return this.gs.showToastSuccess(null==(l=u.sent)?void 0:l.message),u.next=10,this.getData();case 10:this.emptyResults&&this.dataService.updateRecallNotifications(!0),t&&this.refreshData.emit(),this.reason="",u.next=19;break;case 15:u.prev=15,u.t0=u.catch(3),this.gs.showToastError(u.t0.message),console.log(u.t0);case 19:return u.prev=19,this.leaveLoading=!1,u.finish(19);case 22:case"end":return u.stop()}},s,this,[[3,15,19,22]])}))}},{key:"getData",value:function(){var t;return(0,S.mG)(this,void 0,void 0,x().mark(function n(){return x().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(null!=this.regionId&&null!=this.regionId){o.next=2;break}return o.abrupt("return");case 2:return this.loading=!0,o.prev=3,o.next=6,this.service.getLeaveRequests(this.regionId);case 6:this.requests=o.sent.requests,this.emptyResults=this.requests&&0==(null===(t=this.requests)||void 0===t?void 0:t.length),o.next=15;break;case 11:o.prev=11,o.t0=o.catch(3),this.gs.showToastError(o.t0.message),console.log(o.t0);case 15:return o.prev=15,this.loading=!1,o.finish(15);case 18:case"end":return o.stop()}},n,this,[[3,11,15,18]])}))}}]),c}();return r.\u0275fac=function(i){return new(i||r)(e.Y36(B.s),e.Y36(N.m),e.Y36(j))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-leaves-request"]],inputs:{regionId:"regionId",show:"show"},outputs:{refreshData:"refreshData"},features:[e.TTD],decls:9,vars:4,consts:[[3,"loading"],[1,"header-container"],[1,"header"],[1,"heading"],["id","tasks-wrapper",1,"tasks-wrapper"],[1,"mt-25"],[3,"display","animation"],["class","task-details",3,"class",4,"ngFor","ngForOf"],[1,"task-details"],[1,"row1"],[1,"user-details"],["size","medium","nbTooltipPlacement","top",1,"scheduler_user",3,"name","color","initialColor","title","nbTooltip"],["class","right-info",4,"ngIf"],[1,"row2"],["class","date",4,"ngIf"],[1,"days-tag"],[1,"row3"],[1,"leave-type"],[1,"row4"],[1,"comment"],[1,"requested_on"],[1,"right-info"],[1,"markdone-container"],[1,"task-done"],[3,"isComment","type","title","textToDisplay","proceedDelete","proceedCancel","proceedWithComment"],["nbTooltip","Reject","nbTooltipPlacement","top",1,"circle-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-xmark",2,"color","#e91e63"],["nbButton","","type","button","status","primary",1,"reject-btn",3,"disabled","click"],[1,"task-done","approve"],[3,"type","title","textToDisplay","status","proceedDelete"],["nbTooltip","Approve","nbTooltipPlacement","top",1,"circle-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-check"],["nbButton","","type","button","status","primary",1,"approve-btn",3,"disabled","click"],["nbTooltip","Approve & Publish","nbTooltipPlacement","top",1,"circle-btn",3,"click"],[1,"fa-solid","fa-share-from-square",2,"font-size","12px","color","#4caf50"],["nbButton","","type","button","status","primary",1,"approve-publish-btn",3,"disabled","click"],[1,"date"]],template:function(i,t){1&i&&(e._UZ(0,"app-loader",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"span",3),e._uU(4," Time off Requests "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e._UZ(6,"div",5),e._UZ(7,"app-no-records",6),e.YNc(8,he,20,21,"div",7),e.qZA()),2&i&&(e.Q6J("loading",t.loading||t.leaveLoading),e.xp6(7),e.Q6J("display",t.emptyResults)("animation","timeoff"),e.xp6(1),e.Q6J("ngForOf",t.requests))},directives:[z.R,V.k,_.sg,G.k,q.jNv,_.O5,W.D,q.DPz],pipes:[_.uU,pe],styles:[".tasks-wrapper[_ngcontent-%COMP%] {\n  overflow: auto;\n  padding: 8px;\n  margin-top: 2px;\n  max-height: 81vh;\n  min-height: 81vh;\n  padding-left: 10px;\n  padding-right: 10px;\n  padding-bottom: 28px;\n}\n.tasks-wrapper[_ngcontent-%COMP%]   .task-details[_ngcontent-%COMP%] {\n  background: white;\n  padding: 5px;\n  border-radius: 10px;\n  margin-top: 9px;\n}\n.tasks-wrapper[_ngcontent-%COMP%]   .task-details[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  padding: 10px;\n  padding-left: 12px;\n  padding-right: 12px;\n  align-items: center;\n  padding-bottom: 0px;\n}\n.tasks-wrapper[_ngcontent-%COMP%]   .task-details[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%] {\n  font-size: 11px;\n  font-weight: 600;\n  display: inline-flex;\n  align-items: center;\n}\n.tasks-wrapper[_ngcontent-%COMP%]   .task-details[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .datetime[_ngcontent-%COMP%] {\n  color: #0000007d;\n  font-size: 12px;\n  font-weight: 600;\n}\n.tasks-wrapper[_ngcontent-%COMP%]   .task-details[_ngcontent-%COMP%]   .row2[_ngcontent-%COMP%] {\n  display: flex;\n  padding-left: 46px;\n  padding-right: 12px;\n  padding-bottom: 3px;\n}\n.tasks-wrapper[_ngcontent-%COMP%]   .task-details[_ngcontent-%COMP%]   .row2[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%] {\n  margin-right: 10px;\n  display: flex;\n  align-items: center;\n  font-size: 15px;\n  color: #7b68ee;\n  font-weight: 600;\n}\n.tasks-wrapper[_ngcontent-%COMP%]   .task-details[_ngcontent-%COMP%]   .row2[_ngcontent-%COMP%]   .days-tag[_ngcontent-%COMP%] {\n  background: #ffcfbe;\n  color: black;\n  padding: 1px;\n  border-radius: 15px;\n  font-size: 10px;\n  padding-left: 7px;\n  padding-right: 7px;\n  font-weight: 500;\n}\n.tasks-wrapper[_ngcontent-%COMP%]   .task-details[_ngcontent-%COMP%]   .row3[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  padding-left: 46px;\n  padding-right: 12px;\n  padding-bottom: 5px;\n}\n.tasks-wrapper[_ngcontent-%COMP%]   .task-details[_ngcontent-%COMP%]   .row3[_ngcontent-%COMP%]   .leave-type[_ngcontent-%COMP%] {\n  font-size: 13px;\n  color: black;\n}\n.tasks-wrapper[_ngcontent-%COMP%]   .task-details[_ngcontent-%COMP%]   .row4[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  padding-left: 46px;\n  padding-right: 12px;\n  padding-bottom: 3px;\n}\n.tasks-wrapper[_ngcontent-%COMP%]   .task-details[_ngcontent-%COMP%]   .row4[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%] {\n  font-size: 13px;\n  color: grey;\n}\n.approve-publish-btn[_ngcontent-%COMP%] {\n  background: white !important;\n  border: 1px solid #4caf50 !important;\n  color: #4caf50 !important;\n  height: 26px;\n}\n.approve-publish-btn[_ngcontent-%COMP%] {\n  height: 26px;\n}\n.requested_on[_ngcontent-%COMP%] {\n  padding-left: 46px;\n  padding-right: 12px;\n  display: flex;\n  justify-content: flex-end;\n  font-size: 11px;\n}\n.markdone-container[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 305px;\n}\n@media (max-width: 600px) {\n  .tasks-wrapper[_ngcontent-%COMP%]   .task-details[_ngcontent-%COMP%]   .row2[_ngcontent-%COMP%] {\n    margin-top: 12px;\n  }\n}\n@media (max-width: 1050px) {\n  .tasks-wrapper[_ngcontent-%COMP%]   .task-details[_ngcontent-%COMP%]   .row2[_ngcontent-%COMP%] {\n    padding-top: 10px;\n  }\n}"]}),r}(),K=y(9920);function me(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"span",32),e.TgZ(1,"span",33),e.TgZ(2,"app-confirm-popup",34),e.NdJ("proceedDelete",function(s){e.CHM(i);var o=e.oxw(2).$implicit;return e.oxw(2).respondToSwap(s,o.id)})("proceedCancel",function(){return e.CHM(i),e.oxw(4).selectedRow=null})("proceedWithComment",function(s){e.CHM(i);var o=e.oxw(2).$implicit;return e.oxw(2).rejectSwapWithComment(s,o.id)}),e.TgZ(3,"span",35),e.NdJ("click",function(){e.CHM(i);var s=e.oxw(2).$implicit;return e.oxw(2).setRejectText(s)}),e._UZ(4,"i",36),e.qZA(),e.TgZ(5,"button",37),e.NdJ("click",function(){e.CHM(i);var s=e.oxw(2).$implicit;return e.oxw(2).setRejectText(s)}),e._uU(6,"Reject"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"span",38),e.TgZ(8,"app-confirm-popup",39),e.NdJ("proceedDelete",function(){e.CHM(i);var s=e.oxw(2).$implicit;return e.oxw(2).respondToSwap(!0,s.id)}),e.TgZ(9,"span",40),e.NdJ("click",function(){e.CHM(i);var s=e.oxw(2).$implicit;return e.oxw(2).setPublishText(s)}),e._UZ(10,"i",41),e.qZA(),e.TgZ(11,"button",42),e.NdJ("click",function(){e.CHM(i);var s=e.oxw(2).$implicit;return e.oxw(2).setPublishText(s)}),e._uU(12,"Approve"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){var t=e.oxw(2).$implicit,n=e.oxw(2);e.xp6(2),e.Q6J("isComment",!0)("type","Reject")("title","Swap Request")("textToDisplay",n.rejectText),e.xp6(3),e.Q6J("disabled",1==t.is_expired),e.xp6(3),e.Q6J("type","Approve & Publish")("title","Swap Request")("textToDisplay",n.approveText)("status","primary"),e.xp6(3),e.Q6J("disabled",1==t.is_expired)}}function fe(r,c){1&r&&(e.TgZ(0,"span",22),e._uU(1,"Requested swap with: "),e.qZA())}function ve(r,c){1&r&&(e.TgZ(0,"span",43),e._uU(1," Pending"),e.qZA())}function _e(r,c){if(1&r&&(e.ynx(0),e._uU(1),e.ALo(2,"date"),e.BQk()),2&r){var i=e.oxw(2).$implicit;e.xp6(1),e.hij("Accepted on: ",e.xi3(2,1,i.accepted_on,"MMM dd")," ")}}var X=function(c){return{done:c}};function ye(r,c){if(1&r&&(e.TgZ(0,"div",11),e.TgZ(1,"span",12),e.TgZ(2,"span",13),e._UZ(3,"img",14),e.qZA(),e.TgZ(4,"span",15),e.TgZ(5,"span",16),e.TgZ(6,"span",17),e._uU(7),e.qZA(),e.TgZ(8,"span",18),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"span",19),e.YNc(11,me,13,10,"span",20),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"span",21),e.TgZ(13,"span",22),e._uU(14),e.qZA(),e.TgZ(15,"span",23),e._uU(16),e.ALo(17,"date"),e.ALo(18,"date"),e.qZA(),e.qZA(),e.TgZ(19,"span",24),e.YNc(20,fe,2,0,"span",25),e.TgZ(21,"span",26),e._uU(22),e.qZA(),e.TgZ(23,"span",27),e._uU(24),e.ALo(25,"date"),e.ALo(26,"date"),e.YNc(27,ve,2,0,"span",28),e.qZA(),e.qZA(),e.TgZ(28,"span",29),e.YNc(29,_e,3,4,"ng-container",30),e.TgZ(30,"span",31),e._uU(31),e.ALo(32,"date"),e.qZA(),e.qZA(),e.qZA()),2&r){var i=e.oxw().$implicit,t=e.oxw(2);e.Tol(1==i.is_expired?"disabled-row":""),e.xp6(2),e.Q6J("ngClass",e.VKq(31,X,1==i.is_accepted)),e.xp6(5),e.hij("",i.requested_by," "),e.xp6(2),e.Oqu(i.is_accepted?" swapped their shift":" requested a shift swap"),e.xp6(2),e.Q6J("ngIf",i.is_accepted&&t.isSwapApprovalRequired),e.xp6(3),e.hij("",i.is_accepted?"New Shift:":"Current Shift:"," "),e.xp6(2),e.AsE(" ",e.xi3(17,16,i.to_start_time,"MMM dd, hh:mm a")," to ",e.xi3(18,19,i.to_end_time,"hh:mm a")," "),e.xp6(4),e.Q6J("ngIf",1!=i.is_accepted),e.xp6(2),e.Oqu(i.accepted_by),e.xp6(2),e.AsE(" ",e.xi3(25,22,i.from_start_time,"MMM dd, hh:mm a")," to ",e.xi3(26,25,i.from_end_time,"hh:mm a")," "),e.xp6(3),e.Q6J("ngIf",1!=i.is_accepted),e.xp6(2),e.Q6J("ngIf",i.accepted_on),e.xp6(2),e.hij(" Created on: ",e.xi3(32,28,i.created_on,"MMM dd"),"")}}function be(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"span",32),e.TgZ(1,"span",33),e.TgZ(2,"app-confirm-popup",34),e.NdJ("proceedDelete",function(s){e.CHM(i);var o=e.oxw(2).$implicit;return e.oxw(2).respondToOpen(s,o.id)})("proceedCancel",function(){return e.CHM(i),e.oxw(4).selectedRow=null})("proceedWithComment",function(s){e.CHM(i);var o=e.oxw(2).$implicit;return e.oxw(2).rejectOpenWithComment(s,o.id)}),e.TgZ(3,"span",35),e.NdJ("click",function(){e.CHM(i);var s=e.oxw(2).$implicit;return e.oxw(2).setRejectTextOpen(s)}),e._UZ(4,"i",36),e.qZA(),e.TgZ(5,"button",37),e.NdJ("click",function(){e.CHM(i);var s=e.oxw(2).$implicit;return e.oxw(2).setRejectTextOpen(s)}),e._uU(6,"Reject"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"span",38),e.TgZ(8,"app-confirm-popup",39),e.NdJ("proceedDelete",function(){e.CHM(i);var s=e.oxw(2).$implicit;return e.oxw(2).respondToOpen(!0,s.id)}),e.TgZ(9,"span",40),e.NdJ("click",function(){e.CHM(i);var s=e.oxw(2).$implicit;return e.oxw(2).setPublishTextOpen(s)}),e._UZ(10,"i",41),e.qZA(),e.TgZ(11,"button",42),e.NdJ("click",function(){e.CHM(i);var s=e.oxw(2).$implicit;return e.oxw(2).setPublishTextOpen(s)}),e._uU(12,"Approve"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){var t=e.oxw(2).$implicit,n=e.oxw(2);e.xp6(2),e.Q6J("isComment",!0)("type","Reject")("title","Open Request")("textToDisplay",n.rejectText),e.xp6(3),e.Q6J("disabled",1==t.is_expired),e.xp6(3),e.Q6J("type","Approve & Publish")("title","Open Request")("textToDisplay",n.approveText)("status","primary"),e.xp6(3),e.Q6J("disabled",1==t.is_expired)}}function we(r,c){if(1&r&&(e.TgZ(0,"span",50),e._uU(1),e.ALo(2,"phoneNumber"),e.qZA()),2&r){var i=e.oxw(3).$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,i.accepted_by_phone))}}function xe(r,c){if(1&r&&(e.TgZ(0,"span",47),e._uU(1," picked up by "),e.TgZ(2,"span",48),e._uU(3),e.YNc(4,we,3,3,"span",49),e.qZA(),e.qZA()),2&r){var i=e.oxw(2).$implicit;e.xp6(3),e.hij(" ",i.accepted_by," "),e.xp6(1),e.Q6J("ngIf",i.accepted_by_phone)}}function Te(r,c){if(1&r&&(e.ynx(0),e._uU(1),e.ALo(2,"date"),e.BQk()),2&r){var i=e.oxw(2).$implicit;e.xp6(1),e.hij("Accepted on: ",e.xi3(2,1,i.accepted_on,"MMM dd")," ")}}function Ce(r,c){if(1&r&&(e.TgZ(0,"div",44),e.TgZ(1,"span",12),e.TgZ(2,"span",13),e._UZ(3,"img",45),e.qZA(),e.TgZ(4,"span",15),e.TgZ(5,"span",16),e.TgZ(6,"span",17),e._uU(7),e.qZA(),e.TgZ(8,"span",18),e._uU(9,"opened their shift"),e.qZA(),e.qZA(),e.TgZ(10,"span",19),e.YNc(11,be,13,10,"span",20),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"span",21),e.TgZ(13,"span",23),e._uU(14),e.ALo(15,"date"),e.ALo(16,"date"),e.YNc(17,xe,5,2,"span",46),e.qZA(),e.qZA(),e.TgZ(18,"span",29),e.YNc(19,Te,3,4,"ng-container",30),e.TgZ(20,"span",31),e._uU(21),e.ALo(22,"date"),e.qZA(),e.qZA(),e.qZA()),2&r){var i=e.oxw().$implicit,t=e.oxw(2);e.Tol(1==i.is_expired?"disabled-row":""),e.xp6(2),e.Q6J("ngClass",e.VKq(21,X,1==i.is_accepted)),e.xp6(5),e.Oqu(i.requested_by),e.xp6(4),e.Q6J("ngIf",i.is_accepted&&t.isOpenApprovalRequired),e.xp6(1),e.Tol(i.is_accepted&&t.isOpenApprovalRequired?"pt-10":""),e.xp6(2),e.AsE("",e.xi3(15,12,i.start_time,"MMM dd, hh:mm a")," to ",e.xi3(16,15,i.end_time,"hh:mm a")," "),e.xp6(3),e.Q6J("ngIf",i.accepted_by),e.xp6(2),e.Q6J("ngIf",i.accepted_on),e.xp6(2),e.hij(" Created on: ",e.xi3(22,18,i.created_on,"MMM dd"),"")}}function Se(r,c){if(1&r&&(e.ynx(0),e.YNc(1,ye,33,33,"div",9),e.YNc(2,Ce,23,23,"div",10),e.BQk()),2&r){var i=c.$implicit;e.xp6(1),e.Q6J("ngIf",i.is_swap_shift),e.xp6(1),e.Q6J("ngIf",i.is_open_shift)}}function ke(r,c){if(1&r&&(e.TgZ(0,"div",5),e._UZ(1,"div",6),e._UZ(2,"app-no-records",7),e.YNc(3,Se,3,2,"ng-container",8),e.qZA()),2&r){var i=e.oxw();e.xp6(2),e.Q6J("display",i.emptyResults)("animation","timeoff")("textMessage","No history."),e.xp6(1),e.Q6J("ngForOf",i.requests)}}var Me=function(){var r=function(){function c(i,t,n){var a=this;(0,L.Z)(this,c),this.gs=i,this.service=t,this.dataService=n,this.refreshData=new e.vpe,this.dataService.getConfigurations(!1).then(function(s){var o,l,d,u;a.isSwap=1==(null===(o=s.company)||void 0===o?void 0:o.is_swap_shift),a.isOpen=1==(null===(l=s.company)||void 0===l?void 0:l.is_open_shift),a.isSwapApprovalRequired=1===(null===(d=s.company)||void 0===d?void 0:d.swap_manager_approval),a.isOpenApprovalRequired=1===(null===(u=s.company)||void 0===u?void 0:u.open_manager_approval)}).finally(function(){})}return(0,I.Z)(c,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){t.regionId&&t.regionId.currentValue!==t.regionId.previousValue&&(this.regionId=t.regionId.currentValue,this.requests=null,this.emptyResults=!1,this.show&&this.getData()),t.show&&t.show.currentValue!==t.show.previousValue&&(this.show=t.show.currentValue,1==t.show.currentValue&&this.getData())}},{key:"setRejectText",value:function(t){this.selectedRow=t,this.rejectText="<span>You're about to reject <b> swap shift </b> requested by </span> <b>"+this.titleCase(t.requested_by)+"</b> with <b>"+this.titleCase(t.accepted_by)+".</b> <p> <span class='colored-text'> Both users will be able to see this on their mobile device. </span><br></p><b>Are you sure?</b>"}},{key:"setPublishText",value:function(t){this.selectedRow=t,this.approveText="<span>You're about to approve <b> swap shift </b> requested by </span> <b>"+this.titleCase(t.requested_by)+"</b> with  <b>"+this.titleCase(t.accepted_by)+".</b> <p>The schedules will be swapped in published mode and <span class='colored-text'>will be visible to the users on the mobile app.</span></p> <b>Are you sure?</b>"}},{key:"setRejectTextOpen",value:function(t){this.selectedRow=t,this.rejectText="<span>You're about to reject <b> open shift </b> requested by </span> <b>"+this.titleCase(t.requested_by)+"</b> which has been accepted by <b>"+this.titleCase(t.accepted_by)+".</b> <p> <span class='colored-text'> Both users will be able to see this on their mobile device. </span><br></p><b>Are you sure?</b>"}},{key:"setPublishTextOpen",value:function(t){this.selectedRow=t,this.approveText="<span>You're about to approve <b> open shift </b> requested by </span> <b>"+this.titleCase(t.requested_by)+"</b> which has been accepted by <b>"+this.titleCase(t.accepted_by)+".</b> <p>The schedule will be updated in published mode and <span class='colored-text'>will be visible to the users on the mobile app.</span></p> <b>Are you sure?</b>"}},{key:"rejectSwapWithComment",value:function(t,n){this.reason=t.reason&&""!==t.reason?t.reason:null,this.respondToSwap(t.isChecked,n)}},{key:"rejectOpenWithComment",value:function(t,n){this.reason=t.reason&&""!==t.reason?t.reason:null,this.respondToOpen(t.isChecked,n)}},{key:"titleCase",value:function(t){return t.toLowerCase().split(" ").map(function(n){return n.charAt(0).toUpperCase()+n.slice(1)}).join(" ")}},{key:"respondToSwap",value:function(t,n){return(0,S.mG)(this,void 0,void 0,x().mark(function a(){var s,o;return x().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return this.actionLoading=!0,s={id:n,is_accept:!!t},this.reason&&Object.assign(s,{reason:this.reason}),d.prev=3,d.next=6,this.service.respondToSwap(s);case 6:return this.gs.showToastSuccess(null==(o=d.sent)?void 0:o.message),d.next=10,this.getData();case 10:this.emptyResults&&this.dataService.updateRecallNotifications(!0),t&&this.refreshData.emit(),this.reason="",d.next=19;break;case 15:d.prev=15,d.t0=d.catch(3),this.gs.showToastError(d.t0.message),console.log(d.t0);case 19:return d.prev=19,this.actionLoading=!1,d.finish(19);case 22:case"end":return d.stop()}},a,this,[[3,15,19,22]])}))}},{key:"respondToOpen",value:function(t,n){return(0,S.mG)(this,void 0,void 0,x().mark(function a(){var s,o;return x().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return this.actionLoading=!0,s={id:n,is_accept:!!t},this.reason&&Object.assign(s,{reason:this.reason}),d.prev=3,d.next=6,this.service.respondToOpen(s);case 6:return this.gs.showToastSuccess(null==(o=d.sent)?void 0:o.message),d.next=10,this.getData();case 10:this.emptyResults&&this.dataService.updateRecallNotifications(!0),t&&this.refreshData.emit(),this.reason="",d.next=19;break;case 15:d.prev=15,d.t0=d.catch(3),this.gs.showToastError(d.t0.message),console.log(d.t0);case 19:return d.prev=19,this.actionLoading=!1,d.finish(19);case 22:case"end":return d.stop()}},a,this,[[3,15,19,22]])}))}},{key:"getData",value:function(){var t;return(0,S.mG)(this,void 0,void 0,x().mark(function n(){return x().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(null!=this.regionId&&null!=this.regionId){o.next=2;break}return o.abrupt("return");case 2:return this.loading=!0,o.prev=3,o.next=6,this.service.getOpenSwapHistory(this.regionId);case 6:this.requests=o.sent,this.emptyResults=this.requests&&0==(null===(t=this.requests)||void 0===t?void 0:t.length),o.next=16;break;case 11:o.prev=11,o.t0=o.catch(3),this.requests=[],this.gs.showToastError(o.t0.message),console.log(o.t0);case 16:return o.prev=16,this.loading=!1,o.finish(16);case 19:case"end":return o.stop()}},n,this,[[3,11,16,19]])}))}}]),c}();return r.\u0275fac=function(i){return new(i||r)(e.Y36(N.m),e.Y36(j),e.Y36(B.s))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-open-swap-request"]],inputs:{regionId:"regionId",show:"show"},outputs:{refreshData:"refreshData"},features:[e.TTD],decls:6,vars:5,consts:[[3,"loading"],[1,"header-container"],[1,"header"],[1,"heading"],["id","history-wrapper","class","history-wrapper",4,"ngIf"],["id","history-wrapper",1,"history-wrapper"],[1,"mt-25"],[3,"display","animation","textMessage"],[4,"ngFor","ngForOf"],["class","swap-history-details",3,"class",4,"ngIf"],["class","open-history-details",3,"class",4,"ngIf"],[1,"swap-history-details"],[1,"row1"],[3,"ngClass"],["src","assets/swap-icon.png"],[1,"details"],[1,"user-details"],[1,"user-info"],[1,"detail-txt"],[1,"right-info"],["class","requests-container",4,"ngIf"],[1,"row2"],[1,"label-txt"],[1,"date-detail"],[1,"row3"],["class","label-txt",4,"ngIf"],[1,"swapped-with"],[1,"date-detail","info-row"],["class","pending-state",4,"ngIf"],[1,"requested_on"],[4,"ngIf"],[1,"created"],[1,"requests-container"],[1,"task-done"],[3,"isComment","type","title","textToDisplay","proceedDelete","proceedCancel","proceedWithComment"],["nbTooltip","Reject","nbTooltipPlacement","top",1,"circle-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-xmark",2,"color","#e91e63"],["nbButton","","type","button","status","primary",1,"reject-btn",3,"disabled","click"],[1,"task-done","approve"],[3,"type","title","textToDisplay","status","proceedDelete"],["nbTooltip","Approve & Publish","nbTooltipPlacement","top",1,"circle-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-check"],["nbButton","","type","button","status","primary",1,"approve-btn",3,"disabled","click"],[1,"pending-state"],[1,"open-history-details"],["src","assets/open-shift-icon.png"],["class","picked-up",4,"ngIf"],[1,"picked-up"],[1,"open-with"],["class","phone-num",4,"ngIf"],[1,"phone-num"]],template:function(i,t){1&i&&(e._UZ(0,"app-loader",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"span",3),e._uU(4),e.qZA(),e.qZA(),e.qZA(),e.YNc(5,ke,4,4,"div",4)),2&i&&(e.Q6J("loading",t.loading||t.actionLoading),e.xp6(4),e.lnq(" ",t.isSwap?"Swap":"","",t.isSwap&&t.isOpen?"/":"","",t.isOpen?"Open":""," Shift History "),e.xp6(1),e.Q6J("ngIf",t.requests))},directives:[z.R,_.O5,V.k,_.sg,_.mk,W.D,q.jNv,q.DPz],pipes:[_.uU,K.X],styles:['.history-wrapper[_ngcontent-%COMP%] {\n  overflow: auto;\n  padding: 8px;\n  margin-top: 2px;\n  max-height: 81vh;\n  min-height: 81vh;\n  padding-left: 10px;\n  padding-right: 10px;\n  padding-bottom: 28px;\n}\n.history-wrapper[_ngcontent-%COMP%]   .swap-history-details[_ngcontent-%COMP%], .history-wrapper[_ngcontent-%COMP%]   .open-history-details[_ngcontent-%COMP%] {\n  background: white;\n  padding: 5px;\n  border-radius: 10px;\n  margin-top: 9px;\n}\n.history-wrapper[_ngcontent-%COMP%]   .swap-history-details[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%], .history-wrapper[_ngcontent-%COMP%]   .open-history-details[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  padding-left: 12px;\n  padding-right: 12.5px;\n  padding-top: 5px;\n  font-size: 13px;\n  font-weight: 500;\n}\n.history-wrapper[_ngcontent-%COMP%]   .swap-history-details[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .history-wrapper[_ngcontent-%COMP%]   .open-history-details[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  margin-right: 16px;\n}\n.history-wrapper[_ngcontent-%COMP%]   .swap-history-details[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .history-wrapper[_ngcontent-%COMP%]   .open-history-details[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%] {\n  font-weight: 600;\n  color: #6e689b;\n  font-size: 14px;\n}\n.history-wrapper[_ngcontent-%COMP%]   .swap-history-details[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .detail-txt[_ngcontent-%COMP%], .history-wrapper[_ngcontent-%COMP%]   .open-history-details[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .detail-txt[_ngcontent-%COMP%] {\n  margin-left: 5px;\n  color: #80737E;\n}\n.history-wrapper[_ngcontent-%COMP%]   .swap-history-details[_ngcontent-%COMP%]   .row2[_ngcontent-%COMP%], .history-wrapper[_ngcontent-%COMP%]   .open-history-details[_ngcontent-%COMP%]   .row2[_ngcontent-%COMP%] {\n  padding-left: 53px;\n  padding-right: 12px;\n  padding-bottom: 5px;\n  font-size: 12px;\n  font-weight: 500;\n  display: block;\n}\n.history-wrapper[_ngcontent-%COMP%]   .swap-history-details[_ngcontent-%COMP%]   .row2[_ngcontent-%COMP%]   .open-with[_ngcontent-%COMP%], .history-wrapper[_ngcontent-%COMP%]   .open-history-details[_ngcontent-%COMP%]   .row2[_ngcontent-%COMP%]   .open-with[_ngcontent-%COMP%] {\n  color: #FC962F;\n  font-weight: 600;\n  margin-right: 5px;\n  font-size: 13px;\n}\n.history-wrapper[_ngcontent-%COMP%]   .swap-history-details[_ngcontent-%COMP%]   .row3[_ngcontent-%COMP%], .history-wrapper[_ngcontent-%COMP%]   .open-history-details[_ngcontent-%COMP%]   .row3[_ngcontent-%COMP%] {\n  padding-left: 54px;\n  padding-right: 12px;\n  padding-bottom: 3px;\n  font-size: 12px;\n  font-weight: 500;\n  display: block;\n  margin-top: 10px;\n}\n.history-wrapper[_ngcontent-%COMP%]   .swap-history-details[_ngcontent-%COMP%]   .row3[_ngcontent-%COMP%]   .swapped-with[_ngcontent-%COMP%], .history-wrapper[_ngcontent-%COMP%]   .open-history-details[_ngcontent-%COMP%]   .row3[_ngcontent-%COMP%]   .swapped-with[_ngcontent-%COMP%] {\n  color: #FC962F;\n  font-weight: 600;\n  margin-right: 2px;\n  font-size: 13px;\n}\n.date-detail[_ngcontent-%COMP%] {\n  color: #7F84EA;\n  font-weight: 600;\n  font-size: 13px;\n}\n.requested_on[_ngcontent-%COMP%] {\n  padding-left: 46px;\n  padding-right: 12px;\n  display: flex;\n  justify-content: flex-end;\n  font-size: 12px;\n  padding-bottom: 3px;\n  padding-top: 3px;\n  color: #ABABAB;\n}\n.created[_ngcontent-%COMP%] {\n  margin-left: 5px;\n  margin-right: 5px;\n}\n.picked-up[_ngcontent-%COMP%] {\n  color: #222b45;\n  font-size: 12px;\n  font-weight: 500;\n}\n.done[_ngcontent-%COMP%] {\n  position: relative;\n}\n.done[_ngcontent-%COMP%]::after {\n  font-family: "Font Awesome 5 Free";\n  content: "\\f058";\n  vertical-align: middle;\n  position: absolute;\n  display: inline-block;\n  font-weight: 900;\n  color: #6FAE58 !important;\n  font-size: 14px;\n  z-index: 1;\n  right: 8px;\n  bottom: 0px;\n  background: white;\n  border-radius: 50px;\n}\n.phone-num[_ngcontent-%COMP%] {\n  color: #80737E;\n  font-weight: 600;\n}\n.details[_ngcontent-%COMP%] {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.user-details[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n}\n.requests-container[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 158px;\n}\n.circle-btn[_ngcontent-%COMP%] {\n  background: #ffffff;\n  padding: 5px 8px;\n  border-radius: 10px;\n  color: #7b68ee !important;\n  cursor: pointer;\n  font-weight: 500;\n  border-radius: 2px;\n  border-radius: 52%;\n  width: 25px;\n  height: 25px;\n  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\n  display: inline-flex;\n}\n.circle-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\n  font-size: 16px;\n}\n.circle-btn[_ngcontent-%COMP%]   .fa-check[_ngcontent-%COMP%] {\n  margin-left: -3px;\n}\n@media (max-width: 930px) {\n  .detail-txt[_ngcontent-%COMP%], .user-details[_ngcontent-%COMP%] {\n    display: inline-block;\n  }\n\n  .requested_on[_ngcontent-%COMP%] {\n    font-size: 11px;\n  }\n\n  .requests-container[_ngcontent-%COMP%] {\n    width: 60px;\n  }\n}\n.open-history-details[_ngcontent-%COMP%]   .pt-10[_ngcontent-%COMP%] {\n  padding-top: 10px;\n}\n.label-txt[_ngcontent-%COMP%] {\n  margin-right: 0px;\n  color: #80737E;\n}\n.pending-state[_ngcontent-%COMP%] {\n  background: #F9367F;\n  border-radius: 5px !important;\n  padding: 3px;\n  padding-right: 4px;\n  padding-left: 4px;\n  color: white;\n  margin-left: 5px;\n  font-weight: 600;\n  font-size: 11px;\n}\n.info-row[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  margin-top: 4px;\n}\n.disabled-row[_ngcontent-%COMP%]   .pending-state[_ngcontent-%COMP%] {\n  background-color: #b4b4b4;\n}']}),r}(),De=y(4605),Oe=y(42),ee=y(9489),Ze=y(3963),Ee=y(3863),Pe=y(3966),Ae=y(5116),qe=["picker"],Re=["untilPicker"],Ie=["templateForm"],Le=["leaveForm"],Je=["eventCalendar"],Ne=["popup"];function Ue(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"span"),e._uU(1," This is how the mobile app users in your store will see the schedule. To make changes, please "),e.TgZ(2,"a",15),e.NdJ("click",function(){return e.CHM(i),e.oxw().toggleView()}),e._uU(3,"click here."),e.qZA(),e.qZA()}}function Fe(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"span"),e._uU(1," You are in edit mode. "),e.TgZ(2,"a",15),e.NdJ("click",function(){return e.CHM(i),e.oxw().toggleView()}),e._uU(3,"Click here"),e.qZA(),e._uU(4," to see how the mobile app users will see the schedule. Note: Your changes will not be lost. "),e.qZA()}}function He(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"span",48),e.TgZ(1,"span",49),e.TgZ(2,"ul",50),e.TgZ(3,"li",51),e._uU(4," Copy current week published schedules to:"),e.qZA(),e.TgZ(5,"li",52),e.TgZ(6,"span",53),e._UZ(7,"input",54,55),e.TgZ(9,"nb-rangepicker",56,57),e.NdJ("rangeChange",function(s){return e.CHM(i),e.oxw(3).setDateWeekly(s)}),e.qZA(),e.TgZ(11,"span",58),e.NdJ("click",function(){return e.CHM(i),e.MAs(8).click()}),e._uU(12),e.ALo(13,"date"),e.ALo(14,"date"),e._UZ(15,"i",59),e.qZA(),e.TgZ(16,"div",60),e._uU(17," Existing schedules if any in the selected week will not be affected. "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"li"),e.TgZ(19,"span",61),e.TgZ(20,"app-button",62),e.NdJ("click",function(){return e.CHM(i),e.oxw(3).displayPopupCopy=!1}),e._uU(21,"Cancel"),e.qZA(),e.TgZ(22,"app-confirm-popup",63),e.NdJ("proceedDelete",function(){return e.CHM(i),e.oxw(3).proceedCopy()}),e.TgZ(23,"button",64),e.NdJ("click",function(){return e.CHM(i),e.oxw(3).setCopyText()}),e._uU(24,"Copy"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){var t=e.MAs(10),n=e.oxw(3);e.xp6(7),e.Q6J("nbDatepicker",t),e.xp6(2),e.Q6J("min",null==n.gs?null:n.gs.getNextDate(n.calendarStartDate,7))("range",n.selectedDateWeekly),e.xp6(3),e.AsE(" ",e.lcZ(13,9,n.selectedDateWeekly.start)," - ",e.lcZ(14,11,n.selectedDateWeekly.end)," "),e.xp6(10),e.Q6J("type","Confirm")("title","Copying Schedules")("textToDisplay",n.copyText)("status","primary")}}function Ye(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"span",65),e.NdJ("click",function(a){e.CHM(i);var s=e.oxw(3);return a.stopPropagation(),s.hideShowPopup()}),e._UZ(1,"i",66),e.qZA()}if(2&r){var t=e.oxw(3);e.Q6J("nbTooltipDisabled",!!t.displayPopup)}}function Qe(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"span",67),e.TgZ(1,"span",49),e.TgZ(2,"ul",68),e.TgZ(3,"li",69),e.NdJ("click",function(){e.CHM(i);var n=e.oxw(3);return n.printCal("onlyScheduled"),n.onlyScheduled=!0}),e._uU(4," Print scheduled users only "),e.qZA(),e.TgZ(5,"li",69),e.NdJ("click",function(){e.CHM(i);var n=e.oxw(3);return n.printCal("all"),n.onlyScheduled=!1}),e._uU(6," Print all users "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}}function Be(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"button",70),e.NdJ("click",function(){return e.CHM(i),e.oxw(3).onPublishClick()}),e._uU(1,"Publish"),e.qZA()}if(2&r){var t=e.oxw(3);e.Q6J("ngClass",t.enablePublish?"enable-publish":"disable-publish")("disabled",!t.enablePublish)}}function je(r,c){1&r&&e._UZ(0,"i",75)}function ze(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"span",71),e.NdJ("click",function(){e.CHM(i);var a=e.oxw(3);return a.showSideBar=!0,null==a.gs?null:a.gs.logEvents("viewed_timeOffs")}),e.TgZ(1,"span",72),e._UZ(2,"i",73),e.YNc(3,je,1,0,"i",74),e.qZA(),e._uU(4," Time offs "),e.qZA()}if(2&r){var t=e.oxw(3);e.xp6(2),e.Q6J("ngClass",t.isTimeOffNoti?"Noti":" "),e.xp6(1),e.Q6J("ngIf",t.isTimeOffNoti)}}function Ve(r,c){1&r&&e._UZ(0,"i",75)}function We(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"span",76),e.NdJ("click",function(){e.CHM(i);var a=e.oxw(3);return a.showSideBarHistory=!0,null==a.gs?null:a.gs.logEvents("viewed_openSwapHistory")}),e.TgZ(1,"span",72),e._UZ(2,"i",73),e.YNc(3,Ve,1,0,"i",74),e.qZA(),e._uU(4," Requests "),e.qZA()}if(2&r){var t=e.oxw(3);e.xp6(2),e.Q6J("ngClass",t.isOpenSwapNoti?"Noti":" "),e.xp6(1),e.Q6J("ngIf",t.isOpenSwapNoti)}}function $e(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"div",77),e.TgZ(1,"span",78),e._uU(2),e.ALo(3,"date"),e.ALo(4,"date"),e.TgZ(5,"button",79),e.NdJ("click",function(){return e.CHM(i),e.oxw(3).clearClipboard()}),e._uU(6,"Clear"),e.qZA(),e.qZA(),e.qZA()}if(2&r){var t=e.oxw(3);e.Q6J("@slideIn",void 0),e.xp6(2),e.AsE(" Click on any cell(s) to paste copied schedule (",e.xi3(3,3,t.copiedObject.start,"shortTime")," - ",e.xi3(4,6,t.copiedObject.end,"shortTime"),"). ")}}function Ge(r,c){if(1&r&&(e.TgZ(0,"div",80),e.TgZ(1,"span"),e._UZ(2,"i",81),e.qZA(),e.TgZ(3,"span",82),e._uU(4," Changes made to this schedule are not available to the mobile user until published. "),e.qZA(),e.qZA()),2&r){var i=e.oxw(3);e.Tol(i.loading?"notVisible":""),e.Q6J("ngClass",i.showOnlyPublishedSchs||i.emptySearchResults?"hidden-scheduler":"unpublish-data")}}function Ke(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"div",91),e.TgZ(1,"mbsc-segmented-group",92),e.NdJ("ngModelChange",function(a){return e.CHM(i),e.oxw(4).view=a})("change",function(){e.CHM(i);var a=e.oxw(4);return a.changeView(),a.toggleAnalytics()}),e.TgZ(2,"mbsc-segmented",93),e._uU(3,"Day "),e.qZA(),e.TgZ(4,"mbsc-segmented",94),e._uU(5,"Week"),e.qZA(),e.TgZ(6,"mbsc-segmented",95),e._uU(7,"Month"),e.qZA(),e.qZA(),e.qZA()}if(2&r){var t=e.oxw(4);e.xp6(1),e.Q6J("ngModel",t.view)}}function Xe(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"mbsc-calendar-today",96),e.NdJ("click",function(){e.CHM(i);var n=e.oxw(4);return null==n.gs?null:n.gs.logEvents("scheduler_today_button")}),e.qZA()}}function et(r,c){if(1&r&&(e.YNc(0,Ke,8,1,"div",83),e.TgZ(1,"div",84),e.YNc(2,Xe,1,0,"mbsc-calendar-today",85),e._UZ(3,"mbsc-calendar-prev",86),e._UZ(4,"mbsc-calendar-next",87),e.TgZ(5,"span",88),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"div",89),e.TgZ(8,"span",90),e._uU(9),e.qZA(),e.qZA()),2&r){var i=e.oxw(3);e.Q6J("ngIf",!i.printView),e.xp6(2),e.Q6J("ngIf",!i.printView),e.xp6(4),e.Oqu(i.rangeText),e.xp6(3),e.AsE(" ",i.rangeText," - Scheduled hrs: ",i.totalHoursInWeek.toFixed(2),"")}}function tt(r,c){1&r&&e._UZ(0,"i",101)}var nt=function(c){return{"mbsc-timeline-header-active":c}};function it(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"div",97),e.NdJ("click",function(){var o=e.CHM(i).$implicit,l=e.oxw(3);return"timelineDay"!==l.view?l.goToDayView(o):""}),e.TgZ(1,"div",98),e._uU(2),e.ALo(3,"date"),e.YNc(4,tt,1,0,"i",99),e.qZA(),e.TgZ(5,"div",100),e._uU(6),e.ALo(7,"date"),e.qZA(),e.qZA()}if(2&r){var t=c.$implicit,n=e.oxw(3);e.Q6J("ngClass",e.VKq(11,nt,n.isCurrentDay(t)))("nbTooltipDisabled","timelineDay"==n.view),e.xp6(2),e.hij(" ",e.xi3(3,5,t.date,"dd")," "),e.xp6(2),e.Q6J("ngIf","timelineDay"!==n.view),e.xp6(2),e.hij(" ",e.xi3(7,8,t.date,"EEE")," ")}}function at(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"i",109),e.NdJ("click",function(n){e.CHM(i);var a=e.oxw(2).$implicit,s=e.oxw(3);return n.stopPropagation(),s.copyShortcut(a)}),e.qZA()}}var st=function(c,i){return{borderColor:c,background:i}};function ot(r,c){if(1&r&&(e.TgZ(0,"div",105),e.TgZ(1,"div",106),e.YNc(2,at,1,0,"i",107),e.TgZ(3,"span",108),e._uU(4),e.qZA(),e.qZA(),e.qZA()),2&r){var i=e.oxw().$implicit,t=e.oxw(3);e.Q6J("ngStyle",e.WLB(5,st,i.color,i.color+t.scheduleOpacity))("nbTooltipDisabled",!(!t.gs.touchEnabledDevices||t.showOnlyPublishedSchs))("nbTooltip",t.tooltipTime),e.xp6(2),e.Q6J("ngIf",!t.showOnlyPublishedSchs&&"Pasting..."!==i.title&&(null==i?null:i.id)!==(null==t.copiedObject?null:t.copiedObject.id)),e.xp6(2),e.hij(" ",i.title?i.title:i.start+" - "+i.end," ")}}function lt(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"i",109),e.NdJ("click",function(n){e.CHM(i);var a=e.oxw(2).$implicit,s=e.oxw(3);return n.stopPropagation(),s.copyShortcut(a)}),e.qZA()}}var rt=function(c){return{background:c}};function pt(r,c){if(1&r&&(e.TgZ(0,"div",110),e.TgZ(1,"div",106),e.YNc(2,lt,1,0,"i",107),e.TgZ(3,"span",108),e._uU(4),e.qZA(),e.qZA(),e.qZA()),2&r){var i=e.oxw().$implicit,t=e.oxw(3);e.Q6J("nbTooltipDisabled",!(!t.gs.touchEnabledDevices||t.showOnlyPublishedSchs))("ngStyle",e.VKq(6,rt,i.color))("nbTooltip",t.tooltipTime),e.xp6(2),e.Q6J("ngIf",!t.showOnlyPublishedSchs&&"Pasting..."!==i.title&&(null==i?null:i.id)!==(null==t.copiedObject?null:t.copiedObject.id)),e.xp6(2),e.AsE(" ",i.start," - ",i.end," ")}}function dt(r,c){if(1&r&&(e.TgZ(0,"div",116),e._uU(1),e.ALo(2,"date"),e._UZ(3,"img",117),e.qZA()),2&r){var i=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,i.startDate,"MM/dd")," ")}}function ct(r,c){if(1&r&&(e.TgZ(0,"div",116),e._uU(1),e.ALo(2,"date"),e._UZ(3,"i",118),e.qZA()),2&r){var i=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,i.endDate,"MM/dd")," ")}}var ut=function(){return{}},ht=function(c){return{"border-color":c}};function gt(r,c){if(1&r&&(e.TgZ(0,"div",111),e.TgZ(1,"div",106),e.TgZ(2,"span",112),e.TgZ(3,"div",113),e.TgZ(4,"span",114),e._uU(5),e.YNc(6,dt,4,4,"div",115),e.qZA(),e._uU(7," \xa0 - \xa0 "),e.TgZ(8,"span"),e._uU(9),e.YNc(10,ct,4,4,"div",115),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&r){var i=e.oxw().$implicit,t=e.oxw(3);e.Q6J("ngStyle",t.isCornerGraveyard(i)?e.DdM(5,ut):e.VKq(6,ht,i.color)),e.xp6(5),e.hij(" ",i.start," "),e.xp6(1),e.Q6J("ngIf",t.isCornerGraveyard(i,"start")),e.xp6(3),e.hij(" ",i.end," "),e.xp6(1),e.Q6J("ngIf",t.isCornerGraveyard(i,"end"))}}function mt(r,c){if(1&r&&(e.YNc(0,ot,5,8,"div",102),e.YNc(1,pt,5,8,"div",103),e.YNc(2,gt,11,8,"div",104)),2&r){var i=c.$implicit;e.Q6J("ngIf",!i.original.isPublished),e.xp6(1),e.Q6J("ngIf",i.original.isPublished),e.xp6(1),e.Q6J("ngIf",i.original.isPublished)}}function ft(r,c){if(1&r&&(e.TgZ(0,"span",125),e._uU(1),e.qZA()),2&r){var i=e.oxw(2).$implicit;e.xp6(1),e.hij("",(i.minutes/60).toFixed(2)," hrs")}}function vt(r,c){if(1&r&&(e.TgZ(0,"span",128),e._uU(1),e.qZA()),2&r){var i=c.$implicit;e.xp6(1),e.Oqu(i.tag)}}function _t(r,c){if(1&r&&(e.TgZ(0,"span",128),e._uU(1),e.qZA()),2&r){var i=e.oxw(3).$implicit;e.xp6(1),e.hij(", +",i.tags.length-1,"")}}function yt(r,c){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,vt,2,1,"span",126),e.ALo(2,"slice"),e.YNc(3,_t,2,1,"span",127),e.qZA()),2&r){var i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngForOf",e.Dn7(2,2,i.tags,0,1)),e.xp6(2),e.Q6J("ngIf",(null==i.tags?null:i.tags.length)>1)}}function bt(r,c){if(1&r&&(e.TgZ(0,"span"),e.TgZ(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"br"),e.YNc(4,ft,2,1,"span",124),e._UZ(5,"br"),e.YNc(6,yt,4,6,"span",7),e.qZA()),2&r){var i=e.oxw().$implicit;e.xp6(2),e.Oqu((null==i||null==i.name?null:i.name.length)>15?(null==i?null:i.name.substring(0,15))+"...":null==i?null:i.name.substring(0,15)),e.xp6(2),e.Q6J("ngIf",null==i?null:i.name),e.xp6(2),e.Q6J("ngIf",(null==i||null==i.tags?null:i.tags.length)>0)}}function wt(r,c){if(1&r&&(e.TgZ(0,"span",129),e.TgZ(1,"span",128),e._uU(2),e.ALo(3,"phoneNumber"),e.qZA(),e.qZA()),2&r){var i=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,null==i?null:i.phone_number))}}function xt(r,c){if(1&r&&(e.TgZ(0,"span",128),e._uU(1),e.qZA()),2&r){var i=c.$implicit;e.Udp("background-color",i.color),e.xp6(1),e.Oqu(i.tag)}}function Tt(r,c){if(1&r&&(e.TgZ(0,"span",133),e._uU(1),e.qZA()),2&r){var i=e.oxw(2).$implicit,t=e.oxw(3);e.Udp("background-color","#edeef4"),e.Q6J("nbTooltipDisabled",(null==i.tags?null:i.tags.length)<2)("nbTooltip",t.getTagsToolTip(i.tags)),e.xp6(1),e.hij("+",i.tags.length-1,"")}}function Ct(r,c){if(1&r&&(e.TgZ(0,"span",130),e.YNc(1,xt,2,3,"span",131),e.ALo(2,"slice"),e.YNc(3,Tt,2,5,"span",132),e.qZA()),2&r){var i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",e.Dn7(2,2,i.tags,0,1)),e.xp6(2),e.Q6J("ngIf",(null==i.tags?null:i.tags.length)>1)}}var St=function(c){return{noSchedules:c}};function kt(r,c){if(1&r&&(e.TgZ(0,"div",119),e._UZ(1,"app-user-avatar",120),e.TgZ(2,"span",121),e.YNc(3,bt,7,3,"span",7),e.qZA(),e.YNc(4,wt,4,3,"span",122),e.YNc(5,Ct,4,6,"span",123),e.qZA()),2&r){var i=c.$implicit,t=e.oxw(3);e.Q6J("ngClass",e.VKq(13,St,!i.isSchedules&&!i.isLeaves)),e.xp6(1),e.Q6J("showBadge",1==i.is_external)("picture",1==i.is_external?"assets/external-user.svg":"")("showInitials",1!=i.is_external)("name",null==i?null:i.name)("color",i.user_color+t.opacity)("initialColor",i.user_color)("title",i.role_title)("scheduledHours",null!=i&&i.name?(i.minutes/60).toFixed(2):"")("nbTooltip",(null==i?null:i.name)+(1==(null==i?null:i.is_external)?" (External user)":"")),e.xp6(2),e.Q6J("ngIf",!t.onlyScheduled||i.isSchedules||i.isLeaves),e.xp6(1),e.Q6J("ngIf",1==(null==i?null:i.is_external)),e.xp6(1),e.Q6J("ngIf",(null==i||null==i.tags?null:i.tags.length)>0)}}function Mt(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"span",136),e.TgZ(1,"app-filter-popup",142),e.NdJ("onClose",function(){return e.CHM(i),e.oxw(4).closeFilter("tag")})("onApply",function(){return e.CHM(i),e.oxw(4).applyFilterMulti("tag")})("onClear",function(){return e.CHM(i),e.oxw(4).removeFilter("tag")})("onOpen",function(){e.CHM(i);var a=e.oxw(4);return a.defaultOpen2=!a.defaultOpen2}),e._UZ(2,"app-dropdown-multi",143),e.qZA(),e.qZA()}if(2&r){var t=e.oxw(4);e.xp6(1),e.Q6J("icon","fa fa-user-tag")("label","labels")("hideRespLabel",!0)("isFiltered",null==t.isFiltered?null:t.isFiltered.tag)("nbTooltip","Label"),e.xp6(1),e.Q6J("label","tags")("defaultOpen",t.defaultOpen2)("selected",null==t.filters?null:t.filters.tag)("optionClass","dot-tag")("key","tag")("key2","color")("type","tag")("optionId","id")("Data",t.tags)("placeholder","Select one or more labels")("controlName","tag")("form",t.form)("show",!1)}}function Dt(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"div",134),e._uU(1," User "),e.TgZ(2,"span",135),e._uU(3),e.qZA(),e.TgZ(4,"span",136),e.TgZ(5,"app-sort",137),e.NdJ("onSort",function(a){return e.CHM(i),e.oxw(3).onSort(a,"name")}),e.qZA(),e.qZA(),e.TgZ(6,"span",136),e.TgZ(7,"app-filter-popup",138),e.NdJ("onClose",function(){return e.CHM(i),e.oxw(3).closeFilter("role")})("onApply",function(){return e.CHM(i),e.oxw(3).applyFilterMulti("role")})("onClear",function(){return e.CHM(i),e.oxw(3).removeFilter("role")})("onOpen",function(){e.CHM(i);var a=e.oxw(3);return a.defaultOpen=!a.defaultOpen}),e._UZ(8,"app-dropdown-multi",139),e.qZA(),e.qZA(),e.YNc(9,Mt,3,18,"span",140),e.qZA(),e.TgZ(10,"div"),e._uU(11,"Hours"),e.TgZ(12,"app-sort",141),e.NdJ("onSort",function(a){return e.CHM(i),e.oxw(3).onSortNum(a,"minutes")}),e.qZA(),e.qZA()}if(2&r){var t=e.oxw(3);e.xp6(3),e.Oqu(t.emptySearchResults?"0":null==t.myResources?null:t.myResources.length),e.xp6(2),e.Q6J("order",t.sortFilters.name)("isSelected",0!==t.sortFilters.name)("iconType","alpha"),e.xp6(2),e.Q6J("label","roles")("hideRespLabel",!0)("isFiltered",null==t.isFiltered?null:t.isFiltered.role)("nbTooltip","Role"),e.xp6(1),e.Q6J("label","roles")("defaultOpen",t.defaultOpen)("selected",null==t.filters?null:t.filters.role)("key","role_title")("optionId","role_id")("Data",t.roles)("placeholder","Select one or more roles")("controlName","role")("form",t.form)("show",!1),e.xp6(1),e.Q6J("ngIf",(null==t.tags?null:t.tags.length)>0),e.xp6(3),e.Q6J("order",t.sortFilters.minutes)("isSelected",0!==t.sortFilters.minutes)("iconType","number")}}var Ot=function(c,i){return{"view-mode":c,"empty-data":i}};function Zt(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"nb-layout-column",18),e.TgZ(1,"div",19),e.TgZ(2,"div",20),e.TgZ(3,"span"),e.TgZ(4,"div",21),e.TgZ(5,"span",22),e.TgZ(6,"div",23),e.TgZ(7,"app-search-input",24),e.NdJ("searchEvent",function(u){return e.CHM(i),e.oxw(2).onSearch(u)})("searchAll",function(u){return e.CHM(i),e.oxw(2).onSearchAll(u)}),e.qZA(),e.qZA(),e.TgZ(8,"span",25),e.YNc(9,He,25,13,"span",26),e.qZA(),e.TgZ(10,"span",27),e.TgZ(11,"span",25),e.YNc(12,Ye,2,1,"span",28),e.YNc(13,Qe,7,0,"span",29),e.qZA(),e.YNc(14,Be,2,2,"button",30),e.YNc(15,ze,5,2,"span",31),e.YNc(16,We,5,2,"span",32),e.TgZ(17,"span",33),e.TgZ(18,"span",34),e._uU(19),e.qZA(),e.qZA(),e.qZA(),e.YNc(20,$e,7,9,"div",35),e.qZA(),e.qZA(),e.YNc(21,Ge,5,3,"div",36),e.qZA(),e.TgZ(22,"span",37),e.TgZ(23,"mbsc-eventcalendar",38,39),e.NdJ("onPageLoading",function(u){return e.CHM(i),e.oxw(2).onPageLoading(u)})("onInit",function(u){return e.CHM(i),e.oxw(2).onInit(u)})("onEventClick",function(u){return e.CHM(i),e.oxw(2).onEventClick(u)})("selectedDateChange",function(u){return e.CHM(i),e.oxw(2).calendarSelectedDate=u}),e.YNc(25,et,10,5,"ng-template",null,40,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.YNc(27,it,8,13,"ng-template",null,41,e.W1O),e.YNc(29,mt,3,3,"ng-template",null,42,e.W1O),e.YNc(31,kt,6,15,"ng-template",null,43,e.W1O),e.YNc(33,Dt,13,22,"ng-template",null,44,e.W1O),e.qZA(),e._UZ(35,"app-no-records",45),e._UZ(36,"app-no-records",46),e._UZ(37,"app-no-search-records",47),e.qZA()}if(2&r){var t=e.MAs(26),n=e.MAs(28),a=e.MAs(30),s=e.MAs(32),o=e.MAs(34),l=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.WLB(41,Ot,(l.emptySearchResults||l.showOnlyPublishedSchs)&&!l.loading,l.emptySearchResults||l.emptyResults||0==l.sharedRegion||null==l.sharedRegion)),e.xp6(3),e.Tol(l.loading?"notVisible":""),e.xp6(1),e.Tol(0==l.sharedRegion?"empty-scheduler":""),e.xp6(2),e.Q6J("placeholder","Search by name or role")("showHelperButton",l.showHelperButton),e.xp6(2),e.Q6J("ngIf",l.displayPopupCopy),e.xp6(3),e.Q6J("ngIf",l.showOnlyPublishedSchs&&!l.hidePrint),e.xp6(1),e.Q6J("ngIf",l.displayPopup),e.xp6(1),e.Q6J("ngIf",!l.showOnlyPublishedSchs),e.xp6(1),e.Q6J("ngIf",l.isTimeOff),e.xp6(1),e.Q6J("ngIf",l.isHistory),e.xp6(3),e.hij("",l.totalHoursInWeek.toFixed(2)," Scheduled hours"),e.xp6(1),e.Q6J("ngIf",l.copiedObject&&!l.showOnlyPublishedSchs&&l.animate),e.xp6(1),e.Q6J("ngIf",!l.pageLoading),e.xp6(2),e.Q6J("modules",l.calendarModules)("dayTemplate",n)("clickToCreate",!(l.emptySearchResults||l.showOnlyPublishedSchs||l.loading||l.popEventLoading||l.gettingSchs)&&l.singleOrDouble)("dragToMove",!(l.showOnlyPublishedSchs||l.loading||l.popEventLoading||l.copiedObject||l.gettingSchs))("data",l.myEvents)("view",l.calView)("options",l.calendarOptions)("resources",l.myResources)("invalid",l.myInvalids)("exclusiveEndDates",!1)("extendDefaultEvent",l.copiedObject?l.helpingText:l.defaultTime)("headerTemplate",t)("resourceTemplate",s)("scheduleEventTemplate","week"===l.view||"timelineMonth"===l.view||"timelineDay"===l.view?a:null)("resourceHeaderTemplate",o)("selectedDate",l.calendarSelectedDate)("timezonePlugin",l.momentPlugin),e.xp6(12),e.Q6J("display",0==l.sharedRegion)("isScheduler",!0)("animation","selectStore")("animation2","arrowTop"),e.xp6(1),e.Q6J("display",l.emptyResults)("isScheduler",!1)("animation","scheduler"),e.xp6(1),e.Q6J("display",!l.emptyResults&&l.emptySearchResults&&l.isFilterClosedOnSmallDevices())}}function Et(r,c){if(1&r&&(e.TgZ(0,"div",16),e.YNc(1,Zt,38,44,"nb-layout-column",17),e.qZA()),2&r){var i=e.oxw();e.xp6(1),e.Q6J("ngIf",null!==i.sharedRegion)}}function Pt(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"div",144),e.TgZ(1,"mbsc-segmented-group",145),e.NdJ("ngModelChange",function(a){return e.CHM(i),e.oxw().scheduleType=a})("change",function(){return e.CHM(i),e.oxw().changeModalView()}),e.TgZ(2,"mbsc-segmented",146),e._uU(3,"Schedule"),e.qZA(),e.TgZ(4,"mbsc-segmented",147),e._uU(5,"Leave"),e.qZA(),e.qZA(),e.qZA()}if(2&r){var t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.scheduleType)}}function At(r,c){if(1&r&&(e.TgZ(0,"div",170),e._UZ(1,"i",171),e._uU(2),e.qZA()),2&r){var i=e.oxw(2);e.xp6(2),e.hij("",i.getInfoText()+" updated"," ")}}var qt=function(c){return{"color-selected":c}};function Rt(r,c){if(1&r){var i=e.EpF();e.ynx(0),e.TgZ(1,"span",172),e.TgZ(2,"i",173),e.NdJ("click",function(){var o=e.CHM(i).$implicit;return e.oxw(2).setColor(o.value)}),e.qZA(),e.qZA(),e.BQk()}if(2&r){var t=c.$implicit,n=e.oxw(2);e.xp6(2),e.Udp("color",t.value),e.Q6J("ngClass",e.VKq(3,qt,n.isEdit?n.selectedColorWhileEditing==t.value:n.selectedColorWhileAdding==t.value))}}function It(r,c){if(1&r){var i=e.EpF();e.ynx(0),e.TgZ(1,"i",174),e.TgZ(2,"span",157),e._uU(3,"*"),e.qZA(),e.qZA(),e.TgZ(4,"mbsc-select",175),e.NdJ("ngModelChange",function(a){return e.CHM(i),e.oxw(2).recurringEditMode=a})("ngModelChange",function(){return e.CHM(i),e.oxw(2).onRecEditModeChange()}),e.qZA(),e.BQk()}if(2&r){var t=e.oxw(2);e.xp6(4),e.Q6J("ngModel",t.recurringEditMode)("data",t.recurringEditModes)("responsive",t.selectResponsive)}}var Lt=function(c){return{"disabled-checkbox":c}};function Jt(r,c){if(1&r){var i=e.EpF();e.ynx(0),e.TgZ(1,"nb-checkbox",177),e.NdJ("checkedChange",function(a){var o=e.CHM(i).index;return e.oxw(3).setCheckedDays(a,o)}),e._uU(2),e.qZA(),e.BQk()}if(2&r){var t=c.$implicit;e.xp6(1),e.Q6J("disabled",t.invalid)("checked",t.checked)("ngClass",e.VKq(4,Lt,t.disabled)),e.xp6(1),e.Oqu(t.name)}}function Nt(r,c){if(1&r&&(e.TgZ(0,"span",176),e.YNc(1,Jt,3,6,"ng-container",152),e.qZA()),2&r){var i=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",i.weekDaysCheckBoxes)}}function Ut(r,c){1&r&&(e.TgZ(0,"span",194),e._uU(1,"day(s)"),e.qZA())}function Ft(r,c){1&r&&(e.TgZ(0,"span",194),e._uU(1,"week(s)"),e.qZA())}function Ht(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"span",195),e._uU(1," month(s) on "),e.TgZ(2,"mbsc-select",196),e.NdJ("ngModelChange",function(a){return e.CHM(i),e.oxw(3).monthlyDay=a}),e.qZA(),e._uU(3," day "),e.qZA()}if(2&r){var t=e.oxw(3);e.xp6(2),e.Q6J("ngModel",t.monthlyDay)("data",t.monthlyDays)}}function Yt(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"span",197),e._uU(1," year(s) on "),e.TgZ(2,"mbsc-select",198),e.NdJ("ngModelChange",function(a){return e.CHM(i),e.oxw(3).selectedMonth=a})("onChange",function(a){return e.CHM(i),e.oxw(3).monthChange(a)}),e.qZA(),e.TgZ(3,"mbsc-select",199),e.NdJ("ngModelChange",function(a){return e.CHM(i),e.oxw(3).yearlyDay=a}),e.qZA(),e.qZA()}if(2&r){var t=e.oxw(3);e.xp6(2),e.Q6J("ngModel",t.selectedMonth)("data",t.months),e.xp6(1),e.Q6J("ngModel",t.yearlyDay)("data",t.yearlyDays)}}function Qt(r,c){if(1&r){var i=e.EpF();e.ynx(0),e.TgZ(1,"nb-checkbox",203),e.NdJ("checkedChange",function(a){var o=e.CHM(i).index;return e.oxw(4).setCheckedItems(a,o)}),e._uU(2),e.qZA(),e.BQk()}if(2&r){var t=c.$implicit;e.xp6(1),e.Q6J("checked",t.checked),e.xp6(1),e.Oqu(t.name)}}function Bt(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"div",200),e.YNc(1,Qt,3,2,"ng-container",152),e.TgZ(2,"mbsc-input",201,202),e.NdJ("ngModelChange",function(o){return e.CHM(i),e.oxw(3).weeksArray.length=o}),e.qZA(),e.qZA()}if(2&r){var t=e.MAs(3);e.oxw(2);var n=e.MAs(1),a=e.oxw();e.xp6(1),e.Q6J("ngForOf",a.weekDays),e.xp6(1),e.Q6J("ngModel",a.weeksArray.length)("error",t.invalid&&a.templateSubmitted)("errorMessage",a.getErrorMessage(n,"selectedWeeks"))}}var jt=function(c,i){return{weekUntilPicker:c,monthUntilPicker:i}},zt=function(){return["date"]};function Vt(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"div",178),e.TgZ(1,"div",179),e._uU(2," Repeats every "),e.TgZ(3,"span",180),e.TgZ(4,"mbsc-input",181,182),e.NdJ("ngModelChange",function(l){return e.CHM(i),e.oxw(2).repeatNr=l}),e.qZA(),e.YNc(6,Ut,2,0,"span",183),e.YNc(7,Ft,2,0,"span",183),e.YNc(8,Ht,4,2,"span",184),e.YNc(9,Yt,4,4,"span",185),e.TgZ(10,"span",186),e.TgZ(11,"span",187),e._uU(12,"until "),e.qZA(),e.TgZ(13,"div",188),e.TgZ(14,"mbsc-datepicker",189,190),e.NdJ("ngModelChange",function(l){return e.CHM(i),e.oxw(2).untilDate=l})("click",function(){return e.CHM(i),e.oxw(2).condition="until"}),e.qZA(),e.TgZ(17,"span",191),e.TgZ(18,"i",192),e.NdJ("click",function(){return e.CHM(i),e.oxw(2).openUntilPicker()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(19,Bt,4,4,"div",193),e._UZ(20,"span"),e.qZA(),e.qZA()}if(2&r){var t=e.MAs(5),n=e.MAs(16);e.oxw();var a=e.MAs(1),s=e.oxw();e.xp6(4),e.Q6J("error",t.invalid&&s.templateSubmitted)("errorMessage",s.getErrorMessage(a,"repeat"))("ngModel",s.repeatNr),e.xp6(2),e.Q6J("ngIf","daily"===s.repeatType),e.xp6(1),e.Q6J("ngIf","weekly"===s.repeatType),e.xp6(1),e.Q6J("ngIf","monthly"===s.repeatType),e.xp6(1),e.Q6J("ngIf","yearly"===s.repeatType),e.xp6(4),e.Q6J("ngClass",e.WLB(18,jt,"weekly"===s.repeatType,"monthly"===s.repeatType)),e.xp6(1),e.Q6J("showOnClick",!1)("showOnFocus",!1)("min",s.minUntilDate)("max",s.maxDate)("error",n.invalid&&s.templateSubmitted)("errorMessage",s.getErrorMessage(a,"dateUntil"))("controls",e.DdM(21,zt))("touchUi",!1)("ngModel",s.untilDate),e.xp6(5),e.Q6J("ngIf","weekly"===s.repeatType)}}function Wt(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"form",148,149),e.NdJ("ngSubmit",function(){return e.CHM(i),e.oxw().registerTempl()}),e.YNc(2,At,3,1,"div",150),e.TgZ(3,"div",151),e.TgZ(4,"span"),e.YNc(5,Rt,3,5,"ng-container",152),e.qZA(),e.TgZ(6,"span",153),e.YNc(7,It,5,3,"ng-container",7),e.qZA(),e.TgZ(8,"div",154),e.TgZ(9,"span",155),e.TgZ(10,"i",156),e.TgZ(11,"span",157),e._uU(12," *"),e.qZA(),e.qZA(),e.TgZ(13,"mbsc-datepicker",158,159),e.NdJ("ngModelChange",function(s){return e.CHM(i),e.oxw().startDateOfSch=s})("ngModelChange",function(s){e.CHM(i);var o=e.oxw();return o.resetUntilDate(),o.resetEndDate(s)}),e.qZA(),e._UZ(15,"i",160),e.TgZ(16,"mbsc-datepicker",161,162),e.NdJ("ngModelChange",function(s){return e.CHM(i),e.oxw().endDateOfSch=s})("ngModelChange",function(s){e.CHM(i);var o=e.oxw();return o.resetUntilDate(),o.resetEndDate(s)}),e.qZA(),e.qZA(),e.YNc(18,Nt,2,1,"span",163),e.qZA(),e.TgZ(19,"span",164),e.TgZ(20,"i",165),e.TgZ(21,"span",157),e._uU(22," *"),e.qZA(),e.qZA(),e.TgZ(23,"mbsc-select",166),e.NdJ("ngModelChange",function(s){return e.CHM(i),e.oxw().selectedOption=s})("click",function(){return e.CHM(i),e.oxw().repeatsAnalytics()})("ngModelChange",function(s){return e.CHM(i),e.oxw().setCondition(s)}),e.qZA(),e.qZA(),e.YNc(24,Vt,21,22,"div",167),e.TgZ(25,"span",168),e._UZ(26,"img",169),e._uU(27," All schedules in the series will be updated. "),e.qZA(),e.qZA(),e.qZA()}if(2&r){var t=e.MAs(1),n=e.oxw();e.xp6(2),e.Q6J("ngIf",n.isEdit&&"schedule"===n.scheduleType&&n.isOriginalEventRecurring()),e.xp6(3),e.Q6J("ngForOf",n.colors),e.xp6(2),e.Q6J("ngIf",n.isEdit&&"schedule"===n.scheduleType&&n.isOriginalEventRecurring()),e.xp6(6),e.Q6J("options",n.options)("ngModel",n.startDateOfSch)("error",n.templateSubmitted)("errorMessage",n.getCustomErrorDate(t,"startTime"))("min",n.minStartTime)("max",n.maxStartTime),e.xp6(3),e.Q6J("options",n.options)("ngModel",n.endDateOfSch)("error",n.templateSubmitted)("errorMessage",n.getCustomErrorDate(t,"endTime"))("min",n.minEndTime)("max",n.maxEndTime),e.xp6(2),e.Q6J("ngIf",!n.isEdit&&"norepeat"===n.selectedRepeat&&!n.isTimelineView),e.xp6(5),e.Q6J("ngModel",n.selectedOption)("disabled",n.isEdit&&n.isOriginalEventRecurring()&&"current"===n.recurringEditMode)("data",n.repeatData)("responsive",n.selectResponsive),e.xp6(1),e.Q6J("ngIf","custom"===n.selectedRepeat||"custom-value"===n.selectedRepeat)}}function $t(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"div",151),e.TgZ(1,"span",206),e.TgZ(2,"i",207),e.TgZ(3,"span",157),e._uU(4,"*"),e.qZA(),e.qZA(),e.TgZ(5,"mbsc-datepicker",208,209),e.NdJ("ngModelChange",function(s){return e.CHM(i),e.oxw(2).leaveStartDate=s}),e.qZA(),e._UZ(7,"i",160),e.TgZ(8,"mbsc-datepicker",210,211),e.NdJ("ngModelChange",function(s){return e.CHM(i),e.oxw(2).leaveEndDate=s}),e.qZA(),e.qZA(),e.TgZ(10,"span",155),e.TgZ(11,"i",212),e.TgZ(12,"span",157),e._uU(13,"*"),e.qZA(),e.qZA(),e.TgZ(14,"mbsc-select",213),e.NdJ("ngModelChange",function(s){return e.CHM(i),e.oxw(2).selectedLeaveOption=s}),e.qZA(),e.qZA(),e.TgZ(15,"span",155),e.TgZ(16,"span",214),e._uU(17," * By adding this leave, any existing schedule(s) will be removed on the chosen date(s). "),e.qZA(),e.qZA(),e.qZA()}if(2&r){e.oxw();var t=e.MAs(1),n=e.oxw();e.xp6(5),e.Q6J("options",n.optionsLeave)("disabled",!n.isEdit)("ngModel",n.leaveStartDate)("error",n.leaveTemplateSubmitted)("errorMessage",n.getCustomErrorDate(t,"leaveStart")),e.xp6(3),e.Q6J("options",n.optionsLeave)("ngModel",n.leaveEndDate)("error",n.leaveTemplateSubmitted)("min",n.leaveStartDate)("errorMessage",n.getCustomErrorDate(t,"leaveEnd")),e.xp6(6),e.Q6J("ngModel",n.selectedLeaveOption)("data",n.repeatDataLeaves)("responsive",n.selectResponsive)("error",n.leaveTemplateSubmitted)("errorMessage",n.getErrorMessage(t,"leaveType"))}}function Gt(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"form",148,204),e.NdJ("ngSubmit",function(){return e.CHM(i),e.oxw().registerTemplLeave()}),e.YNc(2,$t,18,15,"div",205),e.qZA()}if(2&r){var t=e.oxw();e.xp6(2),e.Q6J("ngIf","leave"===t.scheduleType)}}var Kt=function(c){return{"disabled-delete":c}};function Xt(r,c){if(1&r){var i=e.EpF();e.TgZ(0,"div",215),e.TgZ(1,"app-confirm-popup",216),e.NdJ("proceedDelete",function(){return e.CHM(i),e.oxw().onDeleteClick()}),e.ALo(2,"titlecase"),e.TgZ(3,"span",217),e._UZ(4,"i",218),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"titlecase"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){var t=e.oxw();e.Q6J("ngClass",e.VKq(8,Kt,t.loading||t.pageLoading||t.popEventLoading)),e.xp6(1),e.Q6J("title",e.lcZ(2,4,t.scheduleType))("textToDisplay",t.deleteText),e.xp6(5),e.hij("Delete ",e.lcZ(7,6,t.scheduleType),"")}}var en=function(c){return{"edit-banner":c}};b.gY.moment=ae(),(0,b.Ov)({theme:"windows",themeVariant:"light",clickToCreate:"single",dragToCreate:!1,dragToMove:!0,dragToResize:!1});var H=[{name:"Sun",value:"SU",checked:!1},{name:"Mon",value:"MO",checked:!1},{name:"Tue",value:"TU",checked:!1},{name:"Wed",value:"WE",checked:!1},{name:"Thu",value:"TH",checked:!1},{name:"Fri",value:"FR",checked:!1},{name:"Sat",value:"SA",checked:!1}],te=[{id:0,name:"Sun",value:"SU",checked:!1,disabled:!1,buffer:0},{id:1,name:"Mon",value:"MO",checked:!1,disabled:!1,buffer:0},{id:2,name:"Tue",value:"TU",checked:!1,disabled:!1,buffer:0},{id:3,name:"Wed",value:"WE",checked:!1,disabled:!1,buffer:0},{id:4,name:"Thu",value:"TH",checked:!1,disabled:!1,buffer:0},{id:5,name:"Fri",value:"FR",checked:!1,disabled:!1,buffer:!1},{id:6,name:"Sat",value:"SA",checked:!1,disabled:!1,buffer:0}],tn=function(){var r=function(){function c(i,t,n,a,s,o,l,d,u,h,f){var p=this;(0,L.Z)(this,c),this.fb=i,this.dialogService=t,this.dataService=n,this.cdRef=a,this.router=s,this.notify=o,this.schedulerService=l,this.gs=d,this.http=u,this.cd=h,this.analytics=f,this.calendarModules=[b.S0],this.templateSubmitted=!1,this.leaveTemplateSubmitted=!1,this.totalHoursInWeek=0,this.remainingMinutes=0,this.sortFilters={name:0,minutes:0,scheduleTime:0},this.errorMessages={startEndDate:{0:{required:"This is required.",sameDates:"Start date and end date cannot be same.",recurring:"Recurring schedules cannot exceed 24 hours."},1:{required:"This is required."}},user:{required:"This is required."},userTwo:{required:"This is required."},startTime:{required:"This is required.",recurring:"Recurring schedules cannot exceed 24 hours."},endTime:{required:"This is required.",sameDates:"Start date and end date cannot be same."},repeat:{required:"This is required.",pattern:"Only positive numbers allowed.",maxlength:"Only 3 digits allowed."},dateUntil:{required:"This is required."},selectedWeeks:{pattern:"Please select at least one day",required:"Please select at least one day"},leaveType:{required:"This is required."},leaveStart:{required:"This is required."},leaveEnd:{required:"This is required."}},this.momentPlugin=b.gY,this.loading=!1,this.loadingLeaves=!1,this.popEventLoading=!1,this.weekStartDay=0,this.weekEndDay=6,this.pausedEvent=null,this.printView=!1,this.hidePrint=!1,this.isTimelineView=!1,this.showOnlyPublishedSchs=!0,this.singleOrDouble=!1,this.displayPopup=!1,this.onlyScheduled=!0,this.gettingSchs=!1,this.isSchedulingEnabled=!0,this.minimumSchMinutes=15,this.showSideBar=!1,this.showSideBarHistory=!1,this.defaultOpen=!0,this.defaultOpen2=!0,this.recurringEditModes=[{value:"current",text:"Update this schedule only",info:"Only this schedule will be",deleteHelpingText:""},{value:"following",text:"Update this and following schedules",info:"Only this and following schedules will be",deleteHelpingText:"some occurrences of"},{value:"all",text:"Update all schedules",info:"All schedules in the series will be",deleteHelpingText:"all occurences of"}],this.eventOccurrence={},this.newEvent={},this.animate=!1,this.myEvents=[],this.popupEventDescription="",this.calendarSelectedDate=new Date,this.todaysDate=(new Date).setHours(0,0,0,0),this.switchLabel="All-day",this.myResources=[],this.myInvalids=[],this.repeatDataLeaves=[],this.repeatData=[{value:"norepeat",text:"Does not repeat"},{value:"daily_c",text:"Repeats Daily"},{value:"weekly_c",text:"Repeats Weekly"},{value:"monthly_c",text:"Repeats Monthly"}],this.usersList=[],this.selectedRepeat="1",this.selectedOption="1",this.selectResponsive={xsmall:{touchUi:!0},small:{touchUi:!1}},this.showCustomRepeat=!1,this.repeatType="daily",this.repeatNr=1,this.monthlyDays=["1"],this.monthlyDay="1",this.yearlyDays=["1"],this.yearlyDay=1,this.colors=[{value:"#88D5FF"},{value:"#96F592"},{value:"#cddc39"},{value:"#FEABE4"},{value:"#F9F391"},{value:"#d89aff"},{value:"#ffac8e"},{value:"#aac7eb"},{value:"#ffcf87"},{value:"#64E3C9"}],this.views=[{value:"week",name:"Week"},{value:"timelineMonth",name:"Month"}],this.months=[{value:1,text:"January"},{value:2,text:"February"},{value:3,text:"March"},{value:4,text:"April"},{value:5,text:"May"},{value:6,text:"June"},{value:7,text:"July"},{value:8,text:"August"},{value:9,text:"September"},{value:10,text:"October"},{value:11,text:"November"},{value:12,text:"December"}],this.selectedMonth=1,this.selectedColorWhileAdding=this.colors[0].value,this.selectedColorWhileEditing=this.colors[0].value,this.occurrences=1,this.condition="until",this.rangeText="",this.tooltipTime="",this.optionsLeave={controls:["calendar"],display:"anchored",showRangeLabels:!1,touchUi:!1,onChange:function(g,m){var w,T;"leaveStart"==m.name?null===(w=p.leaveStartDate)||void 0===w||w.setHours(0,0,0,0):null===(T=p.leaveEndDate)||void 0===T||T.setHours(0,0,0,0)}},this.options={controls:["date","timegrid"],display:"anchored",showRangeLabels:!1,touchUi:!1,stepMinute:this.minimumSchMinutes,closeOnOverlayClick:!0,itemHeight:25,rows:5,dateWheels:"|DDD MMM D|",onChange:function(g,m){var w,T,M,E,k,O,D=g.value;if(null==D&&(p.startDateOfSch=p.minStartTime),null==D&&(p.endDateOfSch=p.minEndTime),"startTime"==m.name)p.startDateOfSch.getDate()>p.maxStartTime.getDate()&&p.startDateOfSch.setFullYear(null===(w=p.maxStartTime)||void 0===w?void 0:w.getFullYear(),null===(T=p.maxStartTime)||void 0===T?void 0:T.getMonth(),null===(M=p.maxStartTime)||void 0===M?void 0:M.getDate()),p.startDateOfSch=p.roundTimeQuarterHour(D),p.resetEndTime(),m.close();else{p.endDateOfSch.getTime()>p.maxEndTime.getTime()&&p.endDateOfSch.setFullYear(null===(E=p.maxEndTime)||void 0===E?void 0:E.getFullYear(),null===(k=p.maxEndTime)||void 0===k?void 0:k.getMonth(),null===(O=p.maxEndTime)||void 0===O?void 0:O.getDate()),p.endDateOfSch=p.roundTimeQuarterHour(D);var ne=new Date;ne.getHours()==D.getHours()&&ne.getMinutes()==D.getMinutes()?(p.endDateOfSch.setHours(new Date(p.previousEndTime).getHours(),new Date(p.previousEndTime).getMinutes()),p.closePicker(p.previousEndTime,p.endDateOfSch,m)):(p.closePicker(p.previousEndTime,p.endDateOfSch,m),p.previousEndTime=p.endDateOfSch)}},onOpen:function(g){null==p.startDateOfSch&&(p.startDateOfSch=p.minStartTime),null==p.endDateOfSch&&(p.endDateOfSch=p.minEndTime)}},this.calendarOptions={showEventTooltip:!1,onPageChange:function(g){},onEventCreate:function(g,m){if(p.loading||p.popEventLoading||0==p.myResources.length)return!1;if(p.pausedEvent=g.event,p.setControls(g),g.domEvent.target&&(p.popupAnchor=g.domEvent.target),p.hasOverlap(g,m))return p.notify.toast({message:"Make sure not to double book"}),!1;var w=g.originEvent;return p.selectedScheduleId=null==w?void 0:w.id,!w||!w.recurring||(p.newEvent=g.event,!1)},onEventCreated:function(g,m){return!p.loading&&!p.popEventLoading&&("drag"==g.action&&g.event.job_id?(delete g.event.recurringException,void(null===p.pausedEvent&&(p.loading=!0,p.addSchedule(g.event)))):(setTimeout(function(){p.isEdit=!1,p.tempEvent=g.event,p.eventForForm=g.event,p.tempLeave=g.event;var w=p.myResources.find(function(k){return k.id===p.tempEvent.resource});if(p.copiedObject)p.pasteCopiedEvent(p.tempEvent);else{p.loadPopupForm(g.event),p.popupAnchor=g.target,p.popupHeaderText='<div class="sch-username">'+(null==w?void 0:w.name)+"</div>",p.popupButtons=p.popupAddButtons,p.disableEnableAddUpdateOfPopupViaProperty();var M,T=(0,R.Z)(p.weekDaysCheckBoxes);try{for(T.s();!(M=T.n()).done;){var E=M.value;E.checked=!1,E.disabled=!1,E.invalid=!1}}catch(k){T.e(k)}finally{T.f()}p.setSelectedDay(),p.resetCustomValues(),p.pausedEvent&&p.pausedRecurringEvent||p.popup.open(),p.scrollToBottom()}}),!p.hasOverlap(g,m)&&void 0))},onEventUpdate:function(g,m){if(p.oldEvent=g.oldEvent,p.loading||p.popEventLoading||g&&void 0===g.domEvent)return!1;if(p.cancelRecurrenceUpdate)return p.cancelRecurrenceUpdate=!1,!1;var w=g.event.resource.filter(function(M){return!g.oldEvent.resource.includes(M)});return p.myResources.filter(function(M){return M.id==w[0]}),!0},dragToCreate:!1,dragToResize:!1,firstDay:0,view:{calendar:{type:"month",labels:!0}},timezonePlugin:b.gY,dataTimezone:"utc",displayTimezone:"local",onEventDelete:function(g,m){if(g&&void 0===g.domEvent)return!1},onEventCreateFailed:function(g,m){var w;p.analytics.logEvents("update_leave_modal"),p.scheduleType="leave",p.popupAnchor=g.target,p.isEdit=!0,p.tempLeave=g.invalid,p.selectedLeaveId=p.tempLeave.id;var T=p.myResources.find(function(M){return M.id===p.tempLeave.resource});p.popupHeaderText='<div class="sch-username">Edit '+T.name+'\'s leave</div><div class="employee-shifts-day">'+(0,b.p6)("DDD, MMM DD",new Date(null===(w=g.event)||void 0===w?void 0:w.start))+"</div>",p.popupButtons=p.popupLeaveEditButtons,p.disableEnableAddUpdateOfPopupViaProperty(),p.deleteText="You're about to <b>permanently delete</b> time off. Are you sure?",p.loadLeaveForm(p.tempLeave),setTimeout(function(){p.popup.open()},100)},onEventDragStart:function(g,m){if(p.loading||p.popEventLoading)return!1},onEventDeleted:function(g){setTimeout(function(){p.deleteEvent(g.event)})},onEventUpdated:function(g,m){return!p.loading&&!p.popEventLoading&&(g.event.resource=p.transformResourceArray(g.event.resource),null!==p.pausedEvent?(p.pausedRecurringEvent=g,void p.openConfirmationPopup()):(p.loading=!0,null===g.event.parentId&&delete g.event.parentId,void p.updateSchedule(g.event)))},onEventHoverIn:function(g,m){p.tooltipTimeText(g.event)},onEventHoverOut:function(){}},this.popupAddButtons=[{handler:function(g,m){p.registerTempl()},keyCode:"enter",text:"Add Schedule",disabled:!1,cssClass:"mbsc-popup-button-primary btn-scheduler proceedBtn"},{handler:function(g,m){p.closePopup()},text:"Cancel",cssClass:"mbsc-popup-button-primary cancelbtn"}],this.popupLeaveButtons=[{handler:function(g,m){p.registerTemplLeave()},keyCode:"enter",text:"Add Leave",disabled:!1,cssClass:"mbsc-popup-button-primary btn-scheduler"},{handler:function(g,m){p.closePopup()},text:"Cancel",cssClass:"mbsc-popup-button-primary cancelbtn"}],this.popupLeaveEditButtons=[{handler:function(g,m){p.registerTemplLeave()},keyCode:"enter",text:"Update Leave",disabled:!1,cssClass:"mbsc-popup-button-primary btn-scheduler"},{handler:function(g,m){p.closePopup()},text:"Cancel",cssClass:"mbsc-popup-button-primary cancelbtn"}],this.popupEditButtons=[{handler:function(g){p.registerTempl()},keyCode:"enter",text:"Update Schedule",disabled:!1,cssClass:"mbsc-popup-button-primary btn-scheduler proceedBtn"},{handler:function(g,m){p.closePopup()},text:"Cancel",cssClass:"mbsc-popup-button-primary cancelbtn"}],this.popupButtons=[],this.popupOptions={display:"center",contentPadding:!1,fullScreen:!0,scrollLock:!1,height:500,onClose:function(){p.repeatData=p.repeatData.filter(function(g){return"custom-value"!==g.value}),setTimeout(function(){p.untilDate=null,p.participants=null,p.usersList=[]},20),p.isEdit||(p.allEvents=(0,C.Z)(p.allEvents),p.filter())},onPosition:function(g,m){return!1},responsive:{medium:{display:"anchored",width:550,fullScreen:!1,touchUi:!1}}},this.datePickerControls=["date"],this.datePickerResponsive={medium:{controls:["calendar"],touchUi:!1}},this.datetimePickerControls=["datetime"],this.datetimePickerResponsive={medium:{controls:["calendar","time"],touchUi:!1}},this.datePickerOptions={select:"range",showRangeLabels:!1,touchUi:!0},this.isEdit=!1,this.weekDays=JSON.parse(JSON.stringify(H)),this.dataService.getRoles(!1).then(function(v){p.roles=v}).finally(function(){}),this.dataService.getCompanyUserTags(!1).then(function(v){p.tags=v}).finally(function(){})}return(0,I.Z)(c,[{key:"closeDetails",value:function(){this.showSideBar=!1,this.showSideBarHistory=!1,this.gs.showBackDrop(!1)}},{key:"closePicker",value:function(t,n,a){new Date(t).getDate()===new Date(n).getDate()&&a.close()}},{key:"roundTimeQuarterHour",value:function(t){var n=new Date(t);return n.setMinutes(Math.round(n.getMinutes()/this.minimumSchMinutes)*this.minimumSchMinutes,0),n}},{key:"resetEndTime",value:function(){var t,n,a;null!==this.startDateOfSch&&(this.minEndTime=new Date(this.startDateOfSch),this.minEndTime.setMinutes((null===(t=this.startDateOfSch)||void 0===t?void 0:t.getMinutes())+this.minimumSchMinutes),this.isLeaveOnNextDay()?(this.maxStartTime.setHours(23,30,0,0),this.maxEndTime=new Date(this.maxStartTime),this.maxEndTime.setMinutes((null===(n=this.maxStartTime)||void 0===n?void 0:n.getMinutes())+this.minimumSchMinutes)):(this.maxEndTime=new Date((null===(a=this.startDateOfSch)||void 0===a?void 0:a.getTime())+P.mC),this.maxEndTime.setHours(23,45,0,0)))}},{key:"setMinandMaxDatesOfPicker",value:function(t,n){var a,s,o;this.minStartTime=new Date(t),this.minStartTime.setHours(0,0,0,0),this.maxStartTime=new Date(t),this.minEndTime=new Date(this.startDateOfSch),this.minEndTime.setMinutes((null===(a=this.startDateOfSch)||void 0===a?void 0:a.getMinutes())+this.minimumSchMinutes),this.maxEndTime=this.isEdit?new Date(this.startDateOfSch):new Date(n),this.isLeaveOnNextDay()?(this.maxStartTime.setHours(23,30,0,0),this.maxEndTime=new Date(this.maxStartTime),this.maxEndTime.setMinutes((null===(s=this.maxStartTime)||void 0===s?void 0:s.getMinutes())+this.minimumSchMinutes)):(this.maxStartTime.setHours(23,45,0,0),this.maxEndTime=new Date((null===(o=this.startDateOfSch)||void 0===o?void 0:o.getTime())+P.mC),this.maxEndTime.setHours(23,45,0,0))}},{key:"isLeaveOnNextDay",value:function(){var t=this;return this.myInvalids.filter(function(a){return a.resource==t.tempEvent.resource}).some(function(a){var s;return new Date(a.start).getTime()==new Date((null===(s=t.minStartTime)||void 0===s?void 0:s.getTime())+P.mC).getTime()})}},{key:"setInvalidDays",value:function(){var t=this,n=JSON.parse(JSON.stringify(this.myInvalids));n.forEach(function(s){s.start=new Date(s.start),s.end=new Date(s.end)}),n.filter(function(s){return s.resource==t.tempEvent.resource}).forEach(function(s){for(var o=new Date(s.start);o<=s.end&&o.getTime()>=new Date(t.calendarStartDate).getTime()&&o.getTime()<=new Date(t.calendarEndDate).getTime()-P.mC;)t.weekDaysCheckBoxes.find(function(l){l.id===new Date(o).getDay()&&(l.invalid=!0)}),o.setDate(o.getDate()+1)})}},{key:"setSelectedDay",value:function(){var t=this;this.isTimelineView||this.setInvalidDays(),this.selectedDay=this.weekDaysCheckBoxes.find(function(n){return n.id===new Date(t.tempEvent.start).getDay()}),this.selectedDay.checked=!0,this.selectedDay.disabled=!0,this.selectedDay.buffer=0,this.resetBufferOfWeekDays()}},{key:"resetBufferOfWeekDays",value:function(){var t=this,n=this.weekDaysCheckBoxes.findIndex(function(a){return a.name===t.selectedDay.name});this.weekDaysCheckBoxes.forEach(function(a,s){a.buffer=s-n})}},{key:"tooltipTimeText",value:function(t){var n="";t.recurring&&(n=" \xa0Repeats "+t.recurring.repeat),this.tooltipTime=" \xa0Status: "+(t.isPublished?"Published\xa0":"Unpublished")+"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0"+(0,b.p6)("hh:mm A",new Date(t.start))+" - "+(0,b.p6)("MMM DD, hh:mm A",new Date(t.end))+n}},{key:"loadLeaveForm",value:function(t){var n=t.original?new Date(t.original.start):new Date(t.start),a=t.original?new Date(t.original.end):new Date(t.end);this.leaveStartDate=n,this.leaveEndDate=a,this.leaveStartDate.setHours(0,0,0,0),this.leaveEndDate.setHours(0,0,0,0),this.isEdit&&(this.selectedLeaveOption=t.title)}},{key:"loadPopupForm",value:function(t){var n=this;this.eventInEditMode=t,this.selectedColorWhileEditing=void 0!==t.color?t.color:this.colors[0].value,this.isEdit||this.pausedEvent||(t.color=this.selectedColorWhileAdding),t.allDay=!1,this.recurringEditMode=t.recurring?this.recurringEditModes[1].value:this.recurringEditModes[0].value,this.templateSubmitted=!1,this.leaveTemplateSubmitted=!1,this.setStartAndEndDates(),this.popupEventDescription=t.description,setTimeout(function(){n.getLeaves(t.resource)},20)}},{key:"setStartAndEndDates",value:function(){var n,t=this,a="all"===this.recurringEditMode&&this.eventInEditMode.original?new Date(this.eventInEditMode.original.start):new Date(this.eventInEditMode.start),s="all"===this.recurringEditMode&&this.eventInEditMode.original?new Date(this.eventInEditMode.original.end):new Date(this.eventInEditMode.end);this.startDateOfSch=a,this.endDateOfSch=s,this.previousEndTime=this.endDateOfSch,this.setMinandMaxDatesOfPicker(this.startDateOfSch,this.endDateOfSch),this.resetUntilDate(),this.deleteText=this.isEditingRecurringSchedule&&"current"!==this.recurringEditMode?"<span class='deleteInfo'><span class='colored-text'>"+this.getInfoText()+" deleted.</span><span class='mt-06'>You're about to <b>permanently delete </b>"+(null===(n=this.recurringEditModes.find(function(o){return o.value===t.recurringEditMode}))||void 0===n?void 0:n.deleteHelpingText)+" this schedule. Are you sure?</span></span>":"You're about to <b>permanently delete</b> this schedule. Are you sure?",this.updateCustomForm()}},{key:"setColor",value:function(t){this.isEdit?this.selectedColorWhileEditing=t:this.selectedColorWhileAdding=t}},{key:"toggleView",value:function(){this.gs.logEvents("sch_published_and_unpublished_toggled"),this.showOnlyPublishedSchs=!this.showOnlyPublishedSchs,this.getSchedules()}},{key:"setDateWeekly",value:function(t){this.selectedDateWeekly=this.gs.getWeek(t.start,this.weekStartDay)}},{key:"proceedCopy",value:function(){var t=this;if(this.sharedRegion){var n={region_id:this.sharedRegion,copy_from_week:{start:new Date(this.calendarStartDate).toISOString(),end:new Date(this.calendarEndDate).toISOString()},copy_to_week:{start:new Date(this.selectedDateWeekly.start).toISOString(),end:new Date(this.selectedDateWeekly.end).toISOString()}};this.schedulerService.copySchedules(n).then(function(a){t.gs.showToastSuccess(null==a?void 0:a.message),setTimeout(function(){t.displayPopupCopy=!1,t.calendarSelectedDate=t.selectedDateWeekly.start,t.showOnlyPublishedSchs=!1},100)}).catch(function(a){t.gs.showToastError(null==a?void 0:a.message)}).finally(function(){})}}},{key:"checkHoursCount",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;setTimeout(function(){t.checkTotalHours(null,n)},10)}},{key:"checkTotalHours",value:function(t){var s,u,n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=null===(s=this.calendarInst)||void 0===s?void 0:s.getEvents(new Date(this.calendarStartDate),new Date(this.calendarEndDate)),l=JSON.parse(JSON.stringify(a||this.myResourcesCopy)),d=(0,R.Z)(l);try{for(d.s();!(u=d.n()).done;){var h=u.value;h.minutes=0}}catch(D){d.e(D)}finally{d.f()}var p,f=(0,R.Z)(o);try{for(f.s();!(p=f.n()).done;){var v=p.value;if(new Date(String(v.start)).getTime()>=new Date(String(this.calendarStartDate)).getTime()){var m,g=(0,R.Z)(v.resource);try{for(g.s();!(m=g.n()).done;){var w=m.value,T=0;T=(new Date(String(v.end)).getTime()-new Date(String(v.start)).getTime())/6e4;var k,E=(0,R.Z)(l);try{for(E.s();!(k=E.n()).done;){var O=k.value;w==O.id&&(O.minutes=O.minutes+T)}}catch(D){E.e(D)}finally{E.f()}}}catch(D){g.e(D)}finally{g.f()}}}}catch(D){f.e(D)}finally{f.f()}0!==this.sortFilters.minutes?this.onSortNum(this.sortFilters.minutes,"minutes",l):0!==this.sortFilters.name?this.onSort(this.sortFilters.name,"name",l):0!==this.sortFilters.scheduleTime?this.sortResWrtScheduleTime(this.sortFilters.scheduleTime,"scheduleTime",l):(this.myResources=(0,C.Z)(l),setTimeout(function(){var D;n.emptySearchResults=0==(null===(D=n.myResources)||void 0===D?void 0:D.length)})),this.totalScheduledMinutes(l)}},{key:"totalScheduledMinutes",value:function(t){var n=0;t.forEach(function(a){n+=a.minutes}),this.totalHoursInWeek=n/60}},{key:"resetUntilDate",value:function(){if(this.startDateOfSch){var t=new Date(this.startDateOfSch),n=new Date(this.untilDate);if(t.setHours(0,0,0,0),n.setHours(0,0,0,0),!this.untilDate||n<=t){var a=this.gs.getNextDate(t,30);this.untilDate=(0,b.p6)("YYYY-MM-DD",a),this.minUntilDate=this.gs.getNextDate(t)}}}},{key:"onClick",value:function(t){this.displayPopup&&(this.displayPopup=!1)}},{key:"openConfirmationPopup",value:function(){var t=this;this.dialogService.open($.z,{hasBackdrop:!0,closeOnBackdropClick:!1,context:{heading:"Are you sure?",subHeading:"If yes, this schedule will be removed from the repeat pattern."}}).onClose.subscribe(function(n){if(t.pausedEvent&&t.pausedRecurringEvent)if(n){var a;t.loading=!0,t.tempEvent.is_unpublished_schedule||[t.pausedRecurringEvent.event,t.pausedEvent].forEach(function(s){var o,l;Object.assign(s,{parentId:(null===(o=t.tempEvent)||void 0===o?void 0:o.parentId)?null===(l=t.tempEvent)||void 0===l?void 0:l.parentId:t.selectedScheduleId})}),a=Object.assign(Object.assign({},a),{updatedSchedule:t.pausedRecurringEvent.event,newSchedule:t.pausedEvent}),t.splitSchedule(a)}else t.getSchedules(),t.pausedEvent=null,t.pausedRecurringEvent=null})}},{key:"getPlaceHolder",value:function(t){return"Select "+t}},{key:"onSearch",value:function(t){this.gs.logEvents("search_scheduler"),this.searchOn=t.trim(),this.getSchedules()}},{key:"onSearchAll",value:function(t){this.gs.logEvents("search_scheduler"),this.searchOn=t.trim()}},{key:"transformResourceArray",value:function(t){return Array.isArray(t)||(t=[t]),t}},{key:"compareDates",value:function(t){t.setSeconds(0,0);var n=t.getMonth()+1,a=n<10?"0"+n:n,s=Date.parse(t.getFullYear()+"-"+a+"-"+t.getDate()),o=t.getUTCMonth()+1,l=o<10?"0"+o:o,d=Date.parse(t.getUTCFullYear()+"-"+l+"-"+t.getUTCDate());this.different=d<s?{less:!0}:d>s?{less:!1}:null}},{key:"resetEndDate",value:function(t){this.startDateOfSch&&null==this.endDateOfSch&&(this.endDateOfSch=this.startDateOfSch)}},{key:"convertDateToUTC",value:function(t){return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())}},{key:"setReccurranceRule",value:function(t){var a,n=this,s=new Date(t);switch(this.compareDates(s),this.selectedRepeat){case"daily":a={repeat:"daily"};break;case"weekly":a={repeat:"weekly",weekDays:this.weekDays[s.getDay()].value};break;case"monthly":a={repeat:"monthly",day:s.getDate()};break;case"yearly":a={repeat:"yearly",month:s.getMonth()+1};break;case"weekday":a={repeat:"weekly",weekDays:"MO,TU,WE,TH,FR"};break;case"custom":case"custom-value":switch(a={repeat:this.repeatType,interval:this.repeatNr},this.repeatType){case"weekly":if(this.different)if(this.different.less){var o=[];this.weekDays.forEach(function(h,f){h.checked&&o.push(0===f?n.weekDays[n.weekDays.length-1].value:n.weekDays[f-1].value)}),a.weekDays=o.join(",")}else{var l=[];this.weekDays.forEach(function(h,f){h.checked&&l.push(6===f?n.weekDays[0].value:n.weekDays[f+1].value)}),a.weekDays=l.join(",")}else a.weekDays=this.weekDays.filter(function(h){return h.checked}).map(function(h){return h.value}).join(",");break;case"monthly":a.day=this.different?this.different.less?"1"==this.monthlyDay?"-1":""+(parseInt(this.monthlyDay)-1):"31"==this.monthlyDay?"1":""+(parseInt(this.monthlyDay)+1):this.monthlyDay;break;case"yearly":a.day=this.yearlyDay,a.month=this.selectedMonth}switch(this.condition){case"until":if(this.different){var d=this.convertDateToUTC(new Date(this.untilDate));if(this.different.less)a.until=(0,b.p6)("YYYY-MM-DD",new Date(d));else{var u=this.gs.getNextDate(d);a.until=(0,b.p6)("YYYY-MM-DD",new Date(u))}}else a.until=(0,b.p6)("YYYY-MM-DD",new Date(this.untilDate));break;case"count":a.count=this.occurrences}}return a}},{key:"saveEvent",value:function(){var n,a,s;return(0,S.mG)(this,void 0,void 0,x().mark(function o(){var h,f,p,v,m,w,T,M,l=this;return x().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(h=(0,S._T)(this.tempEvent,["_days"]),this.tempEvent=h,this.participantData=Array.isArray(this.participants)?this.participants.filter(function(O){if(l.usersList.find(function(D){return D.id==O||D.user_id==O}))return O}):[this.participants],!this.isEdit){k.next=14;break}p=this.endDateOfSch,this.tempEvent,v=this.setReccurranceRule(f=this.startDateOfSch),this.saveTempEvent(f,p,v),this.tempEvent.id=this.selectedScheduleId,this.popEventLoading=!0,this.isEditingRecurringSchedule?("current"===this.recurringEditMode&&(delete this.tempEvent.id,delete this.tempEvent.recurring,delete this.tempEvent.recurringException),"all"===this.recurringEditMode?this.updateSchedule(this.tempEvent):(m={},this.subOccurrences=this.breakRecurringEvent(),(w=this.subOccurrences.updatedEvent).id=w.id?w.id:this.selectedScheduleId,this.resetUntilDateAfterSplitingSch(w),this.tempEvent.is_unpublished_schedule||(Object.assign(this.subOccurrences.newEvent,{parentId:(null===(n=this.tempEvent)||void 0===n?void 0:n.parentId)?null===(a=this.tempEvent)||void 0===a?void 0:a.parentId:w.id}),Object.assign(w,{parentId:null===(s=this.tempEvent)||void 0===s?void 0:s.parentId})),m=Object.assign(Object.assign({},m),{updatedSchedule:w,newSchedule:this.subOccurrences.newEvent}),this.splitSchedule(m))):this.updateSchedule(this.tempEvent),k.next=30;break;case 14:T=0;case 15:if(!(T<this.weekDaysCheckBoxes.length)){k.next=29;break}if(this.tempEvent={},!(M=this.weekDaysCheckBoxes[T]).checked){k.next=26;break}return f=new Date(this.startDateOfSch.getTime()+P.mC*M.buffer),p=new Date(this.endDateOfSch.getTime()+P.mC*M.buffer),v=this.setReccurranceRule(f),this.saveTempEvent(f,p,v),this.popEventLoading=!0,k.next=26,this.addSchedule(this.tempEvent);case 26:T++,k.next=15;break;case 29:this.closePopup();case 30:case"end":return k.stop()}},o,this)}))}},{key:"resetUntilDateAfterSplitingSch",value:function(t){var n=new Date(t.start);if(this.compareDates(n),this.different){var s=this.convertDateToUTC(new Date(t.recurring.until));if(!this.different.less){var o=this.gs.getNextDate(s);t.recurring.until=(0,b.p6)("YYYY-MM-DD",new Date(o))}}}},{key:"splitSchedule",value:function(t){var n=this;this.disableEnableAddUpdateOfPopupViaClass(),this.popEventLoading=!0,this.schedulerService.splitSchedule(t,this.sharedRegion).then(function(a){n.getSchedules(),n.gs.showToastSuccess(null==a?void 0:a.message),n.popup.close(),n.enablePublish=!0}).catch(function(a){a.isOverlapping?n.gs.showToastWarning(null==a?void 0:a.message,"Overlapping Detected",4):n.gs.showToastError(null==a?void 0:a.message);var s=n.myEvents.findIndex(function(o){return o.id===t.updatedSchedule.id});n.oldEvent&&-1!==s&&(n.myEvents[s]=n.oldEvent),n.myEvents=n.myEvents.filter(function(o){return null!==o.id})}).finally(function(){n.pausedEvent=null,n.oldEvent=null,n.pausedRecurringEvent=null,n.popEventLoading=!1,n.loading=!!n.gettingSchs,n.disableEnableAddUpdateOfPopupViaClass()})}},{key:"breakRecurringEvent",value:function(){return(0,b.k5)(this.originalRecurringEvent,this.eventOccurrence,this.isEdit?null:this.newEvent,this.isEdit?this.tempEvent:null,this.recurringEditMode)}},{key:"saveTempEvent",value:function(t,n,a){var s=this;this.tempEvent.title=null,this.tempEvent.description=this.popupEventDescription,this.tempEvent.start=t,this.tempEvent.end=n,this.tempEvent.allDay=!1,this.tempEvent.recurring=a,this.tempEvent.color=this.isEdit?this.selectedColorWhileEditing:this.selectedColorWhileAdding,this.tempEvent.resource=this.participantData,this.tempEvent.isPublished=!1;var o={event:this.tempEvent},l=[];this.tempEvent.recurring&&(this.leavesOfSelectedResource.forEach(function(d){var u=new Date(d.start),h=new Date(d.end);if(u<=new Date(s.untilDate))for(var f=new Date(u.getTime()),p=function(){var g=new Date(f.getTime());g.setHours(new Date(s.tempEvent.start).getHours(),new Date(s.tempEvent.start).getMinutes()),0!==l.length&&l.some(function(m){return new Date(m).getTime()===new Date(g).getTime()})||l.push(new Date(g)),f=new Date((null==f?void 0:f.getTime())+P.mC)};f>=u&&f<=h;)p()}),this.tempEvent.recurringException=this.tempEvent.recurringException?[].concat((0,C.Z)(this.tempEvent.recurringException),l):l),this.hasOverlap(o,null)}},{key:"filterLeaves",value:function(t){return this.calendarInst.getInvalids(t)}},{key:"setCheckedDays",value:function(t,n){this.weekDaysCheckBoxes[n].checked=!!t}},{key:"deleteEvent",value:function(t){this.allEvents=this.allEvents.filter(function(n){return n.id!==t.id}),this.filter()}},{key:"deleteLeaveEvent",value:function(t){this.allInvalids=this.allInvalids.filter(function(n){return n.id!==t.id}),this.filterInvalids()}},{key:"onDeleteClick",value:function(){var t,n,a,s;if(!this.popEventLoading)if("leave"==this.scheduleType)this.deleteLeave();else if(this.isEditingRecurringSchedule)switch(this.subOccurrences=null,this.recurringEditMode){case"current":var o=this.tempEvent.recurringException||[];o=[].concat((0,C.Z)(o),[this.startDateOfSch]),this.originalRecurringEvent.recurringException=o,this.tempEvent.id=this.tempEvent.id?this.tempEvent.id:this.selectedScheduleId,Object.assign(this.tempEvent,{parentId:(null===(t=this.tempEvent)||void 0===t?void 0:t.parentId)?null===(n=this.tempEvent)||void 0===n?void 0:n.parentId:this.selectedScheduleId}),this.updateSchedule(this.tempEvent);break;case"following":var l=this.tempEvent.recurringException||[];l=[].concat((0,C.Z)(l),[this.startDateOfSch]),this.originalRecurringEvent.recurringException=l,this.originalRecurringEvent.recurring.until=this.startDateOfSch,Object.assign(this.tempEvent,{parentId:(null===(a=this.tempEvent)||void 0===a?void 0:a.parentId)?null===(s=this.tempEvent)||void 0===s?void 0:s.parentId:this.selectedScheduleId}),this.updateSchedule(this.tempEvent);break;case"all":this.deleteSchedule()}else this.deleteSchedule()}},{key:"resetCustomValues",value:function(){this.repeatType="daily",this.repeatNr=1,this.condition="never",this.occurrences=1,this.selectedMonth=1,this.monthlyDay="1",this.yearlyDay=1,[].concat(H),this.selectedRepeat="norepeat",this.selectedOption="norepeat",this.showCustomRepeat=!1,this.repeatData=this.repeatData.filter(function(n){return"custom-value"!==n.value})}},{key:"repeatsAnalytics",value:function(){this.analytics.logEvents("repeats_dropdown_scheduler")}},{key:"setCondition",value:function(t){var a,n=this;this.popup.position(),"norepeat"!==t?(null===(a=this.weekDaysCheckBoxes)||void 0===a||a.forEach(function(s){var o;s.checked=(null==s?void 0:s.id)===(null===(o=n.selectedDay)||void 0===o?void 0:o.id)}),t=null==t?void 0:t.slice(0,-2),this.repeatType=t,this.selectedRepeat="custom",this.scrollToBottom()):(this.selectedRepeat=t,this.repeatType=null),"custom"===this.selectedRepeat&&(this.condition="until")}},{key:"updateCustomForm",value:function(){var t=this,n=new Date(this.eventForForm.start);this.weekDays=JSON.parse(JSON.stringify(H)),this.weeksArray=[];var d,a=n.getDay(),s=n.getDate(),o=(0,C.Z)(this.repeatData),l=(0,R.Z)(o);try{for(l.s();!(d=l.n()).done;){var u=d.value;switch(u.value){case"weekly":u.text="Weekly on "+H[a].name;break;case"monthly":u.text="Monthly on day "+s;break;case"yearly":u.text="Annually on "+this.months[n.getMonth()].text+" "+s}}}catch(O){l.e(O)}finally{l.f()}this.repeatData=o;var h=this.eventForForm.recurring;if(h)if(this.compareDates(n),this.repeatType=h.repeat,h.interval){this.selectedRepeat="",this.selectedOption="";var f="";switch(this.repeatNr=h.interval,h.repeat){case"daily":f=this.repeatNr>1?"Every "+this.repeatNr+" days":"Repeats Daily";break;case"weekly":var p=JSON.parse(JSON.stringify(H)),v=h.weekDays.split(",");if(null==this.different)for(var g=0;g<p.length;g++)v.includes(p[g].value)&&(this.setCheckedItems(!0,g),p[g].checked=!0);else if(this.different.less)for(var m=0;m<p.length;m++)v.includes(p[m].value)&&(this.setCheckedItems(!0,m),m<6?p[m+1].checked=!0:6==m&&(p[0].checked=!0));else if(!1===this.different.less)for(var w=0;w<p.length;w++)v.includes(p[w].value)&&(this.setCheckedItems(!0,w),w>0?p[w-1].checked=!0:0==w&&(p[6].checked=!0));this.weekDays=p.map(function(O){return Object.assign({},O)}),f=this.repeatNr>1?"Every "+this.repeatNr+" weeks":"Repeats Weekly",f+=" on "+this.weekDays.filter(function(O){return O.checked}).map(function(O){return O.name}).join(", ");break;case"monthly":this.monthlyDay=null==this.different?h.day:this.different.less?"-1"==h.day?"1":""+(parseInt(h.day)+1):"1"==h.day?"-1":""+(parseInt(h.day)-1),f=this.repeatNr>1?"Every "+this.repeatNr+" months":"Repeats Monthly",f+=" on day "+this.monthlyDay;break;case"yearly":this.yearlyDay=h.day,this.selectedMonth=h.month,f=this.repeatNr>1?"Every "+this.repeatNr+" years":"Repeats Annualy",f+=" on "+this.months[this.selectedMonth-1].text+" "+this.yearlyDay}if(h.until){this.condition="until";var T=this.convertDateToUTC(new Date(h.until));if(this.different){var M=T;if(this.different.less){var E=this.gs.getNextDate(M);this.untilDate=new Date(E)}else{var k=this.gs.getPrevDate(M);this.untilDate=new Date(k)}}else this.untilDate=T;f+=" until "+(0,b.p6)("MMMM D, YYYY",new Date(this.untilDate))}else h.count?(this.condition="count",this.occurrences=h.count,f+=", "+this.occurrences+" times"):this.condition="never";this.repeatData=[].concat((0,C.Z)(this.repeatData),[{value:"custom-value",text:f}]),setTimeout(function(){t.selectedRepeat="custom-value",t.selectedOption="custom-value"})}else this.selectedRepeat="MO,TU,WE,TH,FR"===h.weekDays?"weekday":h.repeat;else this.resetCustomValues();this.showCustomRepeat="custom"===this.selectedRepeat||"custom-value"===this.selectedRepeat}},{key:"populateMonthDays",value:function(t,n){for(var a=[2,4,6,9,11],s=[],o=1;o<=31;o++)(31!==o||!a.includes(t))&&(30!==o||2!==t)&&s.push(o.toString());"monthly"===n?(this.monthlyDays=s,this.monthlyDay="1"):(this.yearlyDays=s,this.yearlyDay=1)}},{key:"monthChange",value:function(t){this.selectedMonth=t.value,this.yearlyDay=1,this.populateMonthDays(t.value,"yearly")}},{key:"navigateTo",value:function(){if(this.tempEvent){var t=this.tempEvent.recurring,n=new Date(this.tempEvent.start);n.setHours(0,0,0,0);var a=0;t&&"yearly"===t.repeat?(n.getMonth()+1>+t.month&&n.getDay()>+t.day&&(a=1),this.calendarSelectedDate=new Date(n.getFullYear()+a,t.month-1,t.day)):this.calendarSelectedDate=n}}},{key:"changeModalView",value:function(){switch(this.scheduleType){case"schedule":this.popupButtons=this.popupAddButtons;break;case"leave":this.popupButtons=this.popupLeaveButtons,this.loadLeaveForm(this.tempLeave)}}},{key:"changeView",value:function(){switch(this.view){case"week":this.zoom=!1,0!==this.sortFilters.scheduleTime&&(this.sortFilters={name:1,minutes:0,scheduleTime:0}),this.setWeekView();break;case"timelineMonth":this.showTimelineMonth();break;case"weekSummary":this.showSummaryView();break;case"timelineDay":this.sortFilters={name:0,minutes:0,scheduleTime:-1},this.showDayView();break;case"calMonth":this.calView={calendar:{type:"month",labels:!0}}}}},{key:"zoomIn",value:function(){this.zoom=!0,this.calView={timeline:{type:"week",timeCellStep:120,timeLabelStep:120}}}},{key:"setWeekView",value:function(){this.isTimelineView=!1,this.zoom?this.zoomIn():this.zoomOut(),this.navigateToCurrentDate()}},{key:"showDayView",value:function(){this.calView={timeline:{type:"day",timeCellStep:120,timeLabelStep:120}}}},{key:"showTimelineMonth",value:function(){this.hidePrint=!0,this.isTimelineView=!0,this.calView={timeline:{type:"month",eventList:!0}}}},{key:"showSummaryView",value:function(){this.calView={timeline:{type:"week",eventList:!0}}}},{key:"zoomOut",value:function(){this.zoom=!1,this.hidePrint=!1,this.calView={timeline:{type:"week",eventList:!0}}}},{key:"onEventClick",value:function(t){var n=this;if(this.analytics.logEvents("edit_schedule"),!this.loading)if(this.showOnlyPublishedSchs){if(!this.gs.touchEnabledDevices)return!0;this.tooltipTimeText(t.event)}else{this.isEdit=!0,this.tempEvent=t.event.original?t.event.original:t.event,this.eventForForm=t.event.original?t.event.original:t.event;var a=this.myResources.find(function(s){return s.id===n.tempEvent.resource[0]});this.selectedScheduleId=t.event.id,this.selectedScheduleStatus=t.event.is_unpublished_schedule,this.tempEvent.recurring?(this.isEditingRecurringSchedule=!0,this.originalRecurringEvent=t.event.original,this.eventOccurrence=Object.assign({},t.event)):(this.isEditingRecurringSchedule=!1,this.originalRecurringEvent={}),this.loadPopupForm(t.event),this.setControls(t),this.popupHeaderText='<div class="sch-username">Edit '+(null==a?void 0:a.name)+'\'s hours</div><div class="employee-shifts-day">'+(0,b.p6)("DDD, MMM DD",new Date(t.date))+"</div>",this.popupButtons=this.popupEditButtons,this.disableEnableAddUpdateOfPopupViaProperty(),this.popupAnchor=t.domEvent.currentTarget,this.popup.open(),this.scrollToBottom()}}},{key:"setControls",value:function(t){var n=this;if(this.scheduleType="schedule",this.isEdit&&Array.isArray(t.event.resource)&&t.event.resource.length>1)setTimeout(function(){n.participants=t.event.resource},20);else if(t.event.resource){var a=t.event.resource;this.participants=Array.isArray(a)?a[0]:a;var s=this.myResources.filter(function(l){return l.id==a});this.usersList=s}}},{key:"onEventCreated",value:function(t){}},{key:"getLeaves",value:function(t){var a,n=this;this.loadingLeaves=!0;var s=document.getElementsByClassName("proceedBtn").item(0);null===(a=null==s?void 0:s.classList)||void 0===a||a.add("disable-btn");var o="?start_date="+new Date(this.minStartTime).toISOString()+"&end_date="+new Date(this.maxDate.setHours(0,0,0,0)).toISOString();this.schedulerService.getLeaves(o,this.sharedRegion,t).then(function(l){n.leavesOfSelectedResource=l.leaves}).catch(function(l){n.gs.showToastError(null==l?void 0:l.message)}).finally(function(){n.loadingLeaves=!1,null==s||s.classList.remove("disable-btn")})}},{key:"disableEnableAddUpdateOfPopupViaProperty",value:function(){0!==this.popupButtons.length&&(this.popupButtons[0].disabled=this.popEventLoading)}},{key:"disableEnableAddUpdateOfPopupViaClass",value:function(){var t,n,a,s=null===(t=document.getElementsByClassName("proceedBtn"))||void 0===t?void 0:t.item(0);this.popEventLoading?null===(n=null==s?void 0:s.classList)||void 0===n||n.add("disable-btn"):null===(a=null==s?void 0:s.classList)||void 0===a||a.remove("disable-btn")}},{key:"getSchedules",value:function(){var t=this;if(0!==this.sharedRegion&&null!=this.sharedRegion){this.loading=!0,this.gettingSchs=!0;var n=[];this.filterOn=this.sharedRegion?{region_id:this.sharedRegion}:null;var a="?start_date="+new Date(this.calendarStartDate).toISOString()+"&end_date="+new Date(this.calendarEndDate).toISOString();this.schedulerService.getSchedules(this.searchOn,this.filterOn,a,this.showOnlyPublishedSchs).then(function(s){var l,o=(0,R.Z)(n=s.users);try{for(o.s();!(l=o.n()).done;)Object.assign(l.value,{minutes:0})}catch(u){o.e(u)}finally{o.f()}t.myEvents=s.schedules,t.myInvalids=s.leaves,t.isTimeOffNoti=s.is_timeoff_notification,t.isOpenSwapNoti=!!s.is_open_swap_notification,t.enablePublish=s.is_unpublished_schedule||s.is_unpublished_leaves,t.allEvents=t.myEvents.slice(),t.myInvalids.forEach(function(u){u.start=new Date(u.start),u.end=new Date(u.end),u.cssClass=u.isPublished?"published_leave":"unpublished_leave"}),t.allInvalids=t.myInvalids.slice(),t.emptySearchResults=!(0!==(null==n?void 0:n.length)||!(t.searchOn||t.filters.role||t.filters.tag)),t.emptyResults=0===(null==n?void 0:n.length)&&!t.searchOn&&!t.filters.tag&&!t.filters.role,t.setEmpty(),t.filter(),t.filterInvalids()}).catch(function(s){}).finally(function(){t.loading=!1,t.gettingSchs=!1,setTimeout(function(){var s,o,l,d;t.myResourcesCopy=JSON.parse(JSON.stringify(n)),(null===(s=t.form.controls.role.value)||void 0===s?void 0:s.length)>0&&(null===(o=t.form.controls.tag.value)||void 0===o?void 0:o.length)>0?(t.filterByRole(),setTimeout(function(){t.filterByTags()},20)):(null===(l=t.form.controls.role.value)||void 0===l?void 0:l.length)>0?t.filterByRole():(null===(d=t.form.controls.tag.value)||void 0===d?void 0:d.length)>0?t.filterByTags():t.checkHoursCount()}),t.myEvents.forEach(function(s){s.isPublished=!s.is_unpublished_schedule}),setTimeout(function(){t.schedulesOfUserExitsOrNot()})})}else this.myResources=[],this.myEvents=[]}},{key:"schedulesOfUserExitsOrNot",value:function(){var t,o,n=null===(t=this.calendarInst)||void 0===t?void 0:t.getEvents(new Date(this.calendarStartDate),new Date(this.calendarEndDate)),a=this.calendarInst.getInvalids(new Date(this.calendarStartDate),new Date(this.calendarEndDate)),s=(0,R.Z)(this.myResourcesCopy);try{var l=function(){var u=o.value;u.isSchedules=n.some(function(h){return h.resource[0]===u.id}),u.isLeaves=a.some(function(h){return h.resource===u.id})};for(s.s();!(o=s.n()).done;)l()}catch(d){s.e(d)}finally{s.f()}}},{key:"deleteSchedule",value:function(){var t=this;this.popEventLoading=!0,this.disableEnableAddUpdateOfPopupViaClass(),this.schedulerService.deleteSchedule({id:this.selectedScheduleId,is_unpublished_schedule:this.selectedScheduleStatus,region_id:this.sharedRegion}).then(function(a){t.deleteEvent(t.tempEvent),t.checkHoursCount(t.myResources),t.gs.showToastSuccess(null==a?void 0:a.message),t.enablePublish=a.is_unpublished_schedule}).catch(function(a){t.gs.showToastError(null==a?void 0:a.message)}).finally(function(){t.popEventLoading=!1,t.disableEnableAddUpdateOfPopupViaClass(),t.schedulesOfUserExitsOrNot(),t.popup.close()})}},{key:"extractHoursAndMins",value:function(t,n){return this.minutes=(n.getTime()-t.getTime())/6e4,this.minutes}},{key:"addSchedule",value:function(t){return(0,S.mG)(this,void 0,void 0,x().mark(function n(){var a=this;return x().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t.is_unpublished_schedule=!0,t.isPublished=!1,this.popEventLoading=!0,this.disableEnableAddUpdateOfPopupViaClass(),o.next=6,this.schedulerService.addSchedule(t,this.sharedRegion).then(function(l){setTimeout(function(){var d,u;(null===(d=t.recurringException)||void 0===d?void 0:d.length)>0?a.getSchedules():(t.id=null===(u=null==l?void 0:l.data)||void 0===u?void 0:u.id,t.start=new Date(t.start).toISOString(),t.end=new Date(t.end).toISOString(),a.allEvents=[].concat((0,C.Z)(a.allEvents),[t]),a.checkHoursCount(a.myResources),a.filter(),a.filterInvalids(),a.schedulesOfUserExitsOrNot())},20),a.loading||(a.gs.showToastSuccess(null==l?void 0:l.message),a.enablePublish=!0)}).catch(function(l){var d;(null==l?void 0:l.isOverlapping)?a.gs.showToastWarning(null==l?void 0:l.message,"Overlapping Detected",4):a.gs.showToastError(null==l?void 0:l.message),a.myEvents=a.myEvents.filter(function(u){return null!==u.id}),a.pausedEvent&&a.pausedRecurringEvent&&(null===(d=a.pausedRecurringEvent.event.recurringException)||void 0===d||d.pop())}).finally(function(){a.pausedEvent=null,a.pausedRecurringEvent=null,a.loading=!!a.gettingSchs,a.popEventLoading=!1,a.disableEnableAddUpdateOfPopupViaClass()});case 6:case"end":return o.stop()}},n,this)}))}},{key:"addLeave",value:function(t){return(0,S.mG)(this,void 0,void 0,x().mark(function n(){var a=this;return x().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.popEventLoading=!0,this.disableEnableAddUpdateOfPopupViaClass(),o.next=4,this.schedulerService.addLeave(t,this.sharedRegion).then(function(l){t.id=null==l?void 0:l.id,l.otherDelSchs.length>0?a.getSchedules():setTimeout(function(){return(0,S.mG)(a,void 0,void 0,x().mark(function d(){return x().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.deleteAlreadyAddedSchedules(l.simpleDelSchs);case 2:this.allInvalids=[].concat((0,C.Z)(this.allInvalids),[t]),l.simpleDelSchs.length>0&&this.checkHoursCount(),this.filterInvalids(),this.filter();case 6:case"end":return h.stop()}},d,this)}))},20),a.gs.showToastSuccess(null==l?void 0:l.message),a.enablePublish=!0}).catch(function(l){a.gs.showToastError(null==l?void 0:l.message)}).finally(function(){a.popEventLoading=!1,a.disableEnableAddUpdateOfPopupViaClass(),a.closePopup()});case 4:case"end":return o.stop()}},n,this)}))}},{key:"deleteAlreadyAddedSchedules",value:function(t){return(0,S.mG)(this,void 0,void 0,x().mark(function n(){return x().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:this.allEvents=this.allEvents.filter(function(o){return!t.find(function(l){return l.id===o.id&&l.is_unpublished_schedule===o.is_unpublished_schedule})});case 1:case"end":return s.stop()}},n,this)}))}},{key:"updateSchedule",value:function(t){var n=this;this.popEventLoading=!0,this.disableEnableAddUpdateOfPopupViaClass(),t.isPublished=!1,t.allDay=!1,this.schedulerService.updateSchedule(t).then(function(a){t.recurringException||(t.start=new Date(t.start).toISOString(),t.end=new Date(t.end).toISOString(),n.allEvents=n.allEvents.filter(function(s){return s.id!==t.id}),t.is_unpublished_schedule=!0,t.id=a.unpublished_schedule_id?a.unpublished_schedule_id:t.id,n.allEvents=[].concat((0,C.Z)(n.allEvents),[t]),setTimeout(function(){n.checkHoursCount(n.myResources),n.schedulesOfUserExitsOrNot(),n.filter()},20)),n.gs.showToastSuccess(null==a?void 0:a.message),n.enablePublish=!0,t.recurringException?(n.popup.close(),n.getSchedules()):(n.loading=!1,n.popup.close())}).catch(function(a){a.isOverlapping?n.gs.showToastWarning(null==a?void 0:a.message,"Overlapping Detected",4):n.gs.showToastError(null==a?void 0:a.message),n.oldEvent&&n.myEvents.splice(n.myEvents.findIndex(function(s){return s.id===t.id}),1,n.oldEvent),n.myEvents=n.myEvents.filter(function(s){return null!==s.id})}).finally(function(){n.pausedEvent=null,n.oldEvent=null,n.pausedRecurringEvent=null,n.popEventLoading=!1,n.loading=!!n.gettingSchs,n.disableEnableAddUpdateOfPopupViaClass()})}},{key:"publishSchedule",value:function(t){var n=this;this.loading=!0,this.schedulerService.publishSchedule(this.sharedRegion,t).then(function(a){n.gs.showToastSuccess(null==a?void 0:a.message)}).catch(function(a){n.gs.showToastError(null==a?void 0:a.message)}).finally(function(){n.loading=!1,n.getSchedules()})}},{key:"getLeaveTypes",value:function(){var t=this;this.loading=!0,this.schedulerService.getLeaveTypes().then(function(n){t.repeatDataLeaves=n}).catch(function(n){t.gs.showToastError(null==n?void 0:n.message)}).finally(function(){t.loading=!1})}},{key:"updateLeave",value:function(t){var n=this;this.popEventLoading=!0,this.disableEnableAddUpdateOfPopupViaClass(),this.schedulerService.updateLeave(t).then(function(a){a.otherDelSchs.length>0?n.getSchedules():(n.allInvalids=n.allInvalids.filter(function(s){return s.id!==t.id}),t.isPublished=!1,t.id=a.unpublishedLeaveId?a.unpublishedLeaveId:t.id,n.allInvalids=[].concat((0,C.Z)(n.allInvalids),[t]),setTimeout(function(){a.simpleDelSchs.length>0&&n.checkHoursCount(),n.filterInvalids()},20)),n.gs.showToastSuccess(null==a?void 0:a.message),n.enablePublish=!0}).catch(function(a){n.gs.showToastError(null==a?void 0:a.message)}).finally(function(){n.popEventLoading=!1,n.loading=!1,n.disableEnableAddUpdateOfPopupViaClass(),n.popup.close()})}},{key:"deleteLeave",value:function(){var t=this;this.popEventLoading=!0,this.disableEnableAddUpdateOfPopupViaClass(),this.schedulerService.deleteLeave({id:this.selectedLeaveId,isPublished:this.tempLeave.isPublished,regionId:this.sharedRegion}).then(function(a){t.deleteLeaveEvent(t.tempLeave),t.gs.showToastSuccess(null==a?void 0:a.message),t.enablePublish=a.is_unpublished_leaves}).catch(function(a){t.gs.showToastError(null==a?void 0:a.message)}).finally(function(){t.popEventLoading=!1,t.popup.close(),t.disableEnableAddUpdateOfPopupViaClass()})}},{key:"closePopup",value:function(){var n,t=(0,R.Z)(this.weekDaysCheckBoxes);try{for(t.s();!(n=t.n()).done;){var a=n.value;a.checked=!1,a.disabled=!1,a.invalid=!1}}catch(s){t.e(s)}finally{t.f()}this.popup.close()}},{key:"filter",value:function(){this.myEvents=this.allEvents}},{key:"filterInvalids",value:function(){this.myInvalids=this.allInvalids}},{key:"temp",value:function(t){}},{key:"onInit",value:function(t){}},{key:"updateConfig",value:function(t){var n=this;!this.isSchedulingEnabled||!t||(this.pageLoading=!0,this.dataService.getRegionConfig(!0,t).then(function(a){n.weekStartDay=null!==(null==a?void 0:a.week_start_day)?a.week_start_day:n.companyWeekStartDay,n.setDaysSeqAccToFirstDay(te,n.weekStartDay)}).finally(function(){n.calendarOptions.firstDay=n.weekStartDay,n.pageLoading=!1}))}},{key:"onPageLoading",value:function(t){var n=this;this.calendarStartDate=null==t?void 0:t.firstDay,this.calendarEndDate=null==t?void 0:t.lastDay,this.selectedDateWeekly=this.gs.getWeek(this.gs.getNextDate(new Date(null==t?void 0:t.firstDay),7),this.weekStartDay);var a=new Date(null==t?void 0:t.lastDay.getFullYear(),null==t?void 0:t.lastDay.getMonth(),t.lastDay.getDate()-1,0);this.rangeText=this.getFormattedRange(null==t?void 0:t.firstDay,a),this.navigateToCurrentDate(t),this.sharedRegion?this.isSchedulingEnabled&&this.getSchedules():(this.subscriptioSingle=this.dataService.SingleRegionId.subscribe(function(s){s!==n.sharedRegion?(n.storeLevelSettings&&n.updateConfig(s),n.sharedRegion=s,n.storeLevelSettings||n.getSchedules()):n.isSchedulingEnabled&&n.getSchedules()}),this.sharedRegion||(this.subscription=this.dataService.SharingRegionData.subscribe(function(s){s!==n.sharedRegion?(n.storeLevelSettings&&n.updateConfig(s),n.sharedRegion=s,n.storeLevelSettings||n.getSchedules()):n.isSchedulingEnabled&&n.getSchedules()})))}},{key:"getFormattedRange",value:function(t,n){return(0,b.p6)("MMM, YYYY",new Date(t))+(n&&!this.checkMonths(t,n)?" - "+(0,b.p6)("MMM, YYYY",new Date(n)):"")}},{key:"checkMonths",value:function(t,n){return t.getMonth()==n.getMonth()}},{key:"setCheckedItems",value:function(t,n){t?(this.weekDays[n].checked=!0,this.weeksArray.push(t)):(this.weekDays[n].checked=!1,this.weeksArray.pop())}},{key:"ngOnInit",value:function(){var t=this;this.filtersCopy=JSON.parse(JSON.stringify(this.sortFilters)),this.sortFilters={name:1,minutes:0,scheduleTime:0},this.filters={role:null,tag:null},this.isFiltered={role:!1,tag:!1},this.showSideBar=!1,this.showSideBarHistory=!1,this.printView=!1,this.opacity=P.ZF,this.singleOrDouble=!!this.gs.touchEnabledDevices||"single",this.scheduleOpacity=P._i,this.pausedEvent=null,this.pausedRecurringEvent=null,this.pageLoading=!0,this.emptyResults=!1,this.emptySearchResults=!1,this.dataService.getConfigurations(!1).then(function(n){var a,s,o,l,d,u,h,f;t.pageLoading=!1,t.isHistory=1==(null===(a=n.company)||void 0===a?void 0:a.is_swap_shift)||1==n.company.is_open_shift,t.roleConfig=null===(s=n.role)||void 0===s?void 0:s.modules,t.nameConfig=null===(o=n.company)||void 0===o?void 0:o.custom_names,t.weekStartDay=(null===(d=null===(l=n.company)||void 0===l?void 0:l.timesheet)||void 0===d?void 0:d.week_start_day)?null===(u=n.company)||void 0===u?void 0:u.timesheet.week_start_day:0,t.companyWeekStartDay=t.weekStartDay,t.isSchedulerNotification=null===(h=n.company)||void 0===h?void 0:h.is_scheduler_notification,t.isSchedulingEnabled=1===n.company.is_scheduler&&t.roleConfig.Schedules.enabled,t.isTimeOff=1===n.company.is_timeoff,t.calendarOptions.firstDay=t.weekStartDay,t.storeLevelSettings=1==(null===(f=n.company)||void 0===f?void 0:f.store_level_settings),t.setDaysSeqAccToFirstDay(te,t.weekStartDay),t.getLeaveTypes()}).finally(function(){t.changeView(),t.selectedDateWeekly=t.gs.getWeek(t.gs.getNextDate(new Date,7),t.weekStartDay)}),this.weeksArray=[],this.minDate=this.gs.getPrevDate(new Date,365),this.maxDate=this.gs.getNextDate(new Date,365),this.allEvents=[],this.myEvents=[],this.allInvalids=[],this.myInvalids=[],this.view="week",this.scheduleType="schedule",this.showFilterResponsive=!1,this.gs.hideSplashScreen(),this.populateMonthDays(1,"monthly"),this.populateMonthDays(1,"yearly"),this.form=this.fb.group({role:[],tag:[]})}},{key:"setDaysSeqAccToFirstDay",value:function(t,n){var a=t.length,s=t.slice(0,n%=a),o=t.slice(n,a);(t=[].concat((0,C.Z)(o),(0,C.Z)(s))).forEach(function(l,d){l.buffer=d}),this.weekDaysCheckBoxes=JSON.parse(JSON.stringify(t))}},{key:"ngAfterViewChecked",value:function(){this.cdRef.detectChanges()}},{key:"scrollToBottom",value:function(){setTimeout(function(){var t=document.getElementById("scrollContent");null!==t&&(t.scrollTop=null==t?void 0:t.scrollHeight)},10)}},{key:"hasOverlap",value:function(t,n){return!1}},{key:"saveTempLeave",value:function(){var n,t=this;this.tempLeave.leaveTypeId=this.selectedLeaveOption,this.tempLeave.title=null===(n=this.repeatDataLeaves.find(function(a){return a.value===t.selectedLeaveOption}))||void 0===n?void 0:n.text,this.tempLeave.start=new Date(this.leaveStartDate),this.tempLeave.end=new Date(this.leaveEndDate),this.tempLeave.allDay=!0,this.tempLeave.color=null,this.isEdit?this.updateLeave(this.tempLeave):(this.tempLeave.isPublished=!1,this.addLeave(this.tempLeave))}},{key:"registerTemplLeave",value:function(){if(this.leaveTemplateSubmitted=!0,this.templateSubmitted=!1,!this.popEventLoading&&this.leaveForm&&this.leaveForm.valid){if(null==this.leaveStartDate||null==this.leaveStartDate)return;this.saveTempLeave()}}},{key:"registerTempl",value:function(){if(this.templateSubmitted=!0,this.leaveTemplateSubmitted=!1,!this.popEventLoading&&this.templateForm&&this.templateForm.valid){if(null==this.startDateOfSch||null==this.endDateOfSch)return;var t=new Date(this.startDateOfSch),n=new Date(this.endDateOfSch);if(t.toString()==n.toString())return;var a=(n.getTime()-t.getTime())/1e3;if(("custom"===this.selectedRepeat||"custom-value"===this.selectedRepeat)&&a>86400)return;this.saveEvent()}}},{key:"getCustomErrorDate",value:function(t,n){if(t){var s=t.control.get(n);if(s){if(null==s.value)return this.errorMessages[n].required;var l=new Date(this.startDateOfSch),d=new Date(this.endDateOfSch);if(l.toString()==d.toString())return this.errorMessages[n].sameDates;var u=(d.getTime()-l.getTime())/1e3;if(("custom"===this.selectedRepeat||"custom-value"===this.selectedRepeat)&&u>86400)return this.errorMessages[n].recurring}}}},{key:"getErrorMessage",value:function(t,n){if(t){var a=t.control,s="";if(a){var o=a.get(n);if(o&&o.errors)for(var l in o.errors)!s&&o.errors[l]&&(s=this.errorMessages[n][l]);o&&o.disabled&&(s=this.errorMessages[n].required)}return s}}},{key:"navigateToCurrentDate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=new Date;"week"==this.view&&(n>=new Date(this.calendarStartDate)&&n<=new Date(this.calendarEndDate)?this.calendarSelectedDate=n:t&&(this.calendarSelectedDate=new Date(+t.firstDay+1)))}},{key:"openPicker",value:function(t){t&&this.pickerInst.setActiveDate("end"),this.pickerInst.open()}},{key:"openUntilPicker",value:function(){this.untilPickerInst.open()}},{key:"defaultTime",value:function(t){var n=t.start,a=new Date(n.getFullYear(),n.getMonth(),n.getDate(),9),s=new Date(n.getFullYear(),n.getMonth(),n.getDate(),17);return{title:(0,b.p6)("hh:mm A",a)+" - "+(0,b.p6)("hh:mm A",s),start:a,end:s,resource:t.resource}}},{key:"helpingText",value:function(){return{title:"Pasting..."}}},{key:"isCornerGraveyard",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=t.original,s=new Date(a.start).getDate()!==new Date(a.end).getDate(),o=new Date(a.start).getTime()<new Date(this.calendarStartDate).getTime()||new Date(a.end).getTime()>new Date(this.calendarEndDate).getTime(),l=new Date(a[n]).getDate()!==new Date(t.date).getDate();return s&&o&&l}},{key:"printCal",value:function(t){return(0,S.mG)(this,void 0,void 0,x().mark(function n(){var s,o,l,a=this;return x().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(s=(0,C.Z)(this.myEvents),o=s.filter(function(h){var f=new Date(h.start).getDate()!==new Date(h.end).getDate(),p=h.recurring,v=new Date(h.end).getTime()===new Date(a.calendarStartDate).getTime();return!(f&&!p&&v)}),this.myEvents=(0,C.Z)(o),this.analytics.logEvents("scheduler_print_button"),l=(0,C.Z)(this.myResources),"onlyScheduled"!==t){u.next=12;break}this.analytics.logEvents("scheduler_print_onlyScheduled"),this.myResources=this.myResources.filter(function(h){return h.isSchedules||h.isLeaves}),this.calendarInst.print(),setTimeout(function(){a.myResources=l},2e3),u.next=15;break;case 12:return this.analytics.logEvents("scheduler_print_all"),u.next=15,this.calendarInst.print();case 15:this.displayPopup=!1;case 16:case"end":return u.stop()}},n,this)}))}},{key:"showHideRowsInPrint",value:function(t,n,a,s){var o,l,d,u,h,f,p,v;h=document.getElementsByClassName(n);for(var g=0;g<h.length;g++){var m=h[g];if(v=null==(f=null===(o=m.children)||void 0===o?void 0:o.item(0))?void 0:f.children.item(0),"events"===t){var w=null===(l=null==(p=m.children.item(1))?void 0:p.classList)||void 0===l?void 0:l.contains(s);null===v&&!w&&(this.onlyScheduled?null===(d=null==m?void 0:m.classList)||void 0===d||d.add("forPrint"):null===(u=null==m?void 0:m.classList)||void 0===u||u.remove("forPrint"))}else"resources"===t&&(null==v?void 0:v.classList.contains(a))&&(this.onlyScheduled?null==m||m.classList.add("forPrint"):null==m||m.classList.remove("forPrint"))}}},{key:"showHideRows",value:function(t,n,a){var s,o;s=document.getElementsByClassName(n);for(var l=0;l<s.length;l++){var d=s[l];o=d.querySelector(a),this.printView?(null!==o&&"resources"===t||null===o&&"resources"!==t)&&(d.style.height="0px",d.style.minHeight="0px",d.style.borderBottom="none"):("none"===d.style.borderBottom&&(d.style.borderBottom="1px solid #e6e6e6"),d.style.height="4.5em")}}},{key:"setCopyText",value:function(){this.copyText="<span>This action is <span class='colored-text'>irreversible</span>. Are you sure?<span><br><br><span class='purple-txt'>Note: The copied schedules will be <span class='colored-text'> unpublished </span> in the new week.</span>"}},{key:"formatDate",value:function(t){return t.toLocaleString("default",{month:"long"})+" "+t.toLocaleString("default",{day:"numeric"})}},{key:"hideShowPopup",value:function(){this.displayPopup=!this.displayPopup,this.displayPopupCopy=!1}},{key:"hideShowPopupCopy",value:function(){this.displayPopupCopy=!this.displayPopupCopy,this.displayPopup=!1,setTimeout(function(){var t=document.getElementById("copyLabel");t&&t.click()},100)}},{key:"removeClass",value:function(){document.querySelectorAll(".mbsc-timeline-event").forEach(function(n){n.classList.remove("mbsc-schedule-event")})}},{key:"closeFilter",value:function(t){var n;this.form.controls[t].setValue(null===(n=this.filters)||void 0===n?void 0:n[t])}},{key:"getTagsToolTip",value:function(t){return t.slice(1,t.length).map(function(a){return a.tag}).join(", ")}},{key:"onSort",value:function(t,n){var a=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.gs.logEvents("scheduler_"+n+"_sort"),this.sortFilters=JSON.parse(JSON.stringify(this.filtersCopy)),this.sortFilters[n]=t,s=s||this.myResources,-1==t?s.sort(function(o,l){return o[n].toLowerCase()<l[n].toLowerCase()?1:-1}):1==t&&s.sort(function(o,l){return o[n].toLowerCase()>l[n].toLowerCase()?1:-1}),setTimeout(function(){a.myResources=(0,C.Z)(s)})}},{key:"onSortNum",value:function(t,n){var a=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.gs.logEvents("scheduler_"+n+"_sort"),s=s||this.myResources,this.sortFilters=JSON.parse(JSON.stringify(this.filtersCopy)),this.sortFilters[n]=t,-1==t?s.sort(function(o,l){return o[n]<l[n]?1:-1}):1==t&&s.sort(function(o,l){return o[n]>l[n]?1:-1}),setTimeout(function(){a.myResources=(0,C.Z)(s)})}},{key:"onEnter",value:function(t){this[t].applyEnter()}},{key:"applyFilterMulti",value:function(t){this.gs.logEvents("users_filtered_by_"+t+"_scheduler");var n=this.form.controls[t].value;n&&n.length>0?(this.isFiltered[t]=!0,this.filters[t]=n):(this.filters[t]=null,this.isFiltered[t]=!1),this.filterBy(t)}},{key:"filterBy",value:function(t){"tag"===t?this.filterByTags():this.filterByRole()}},{key:"removeFilter",value:function(t){var n=this;for(var a in this.filters[t]=null,this.isFiltered[t]=!1,this.filters)if(this.filters[a])return void("tag"==a?this.filterByTags():this.filterByRole());var s=JSON.parse(JSON.stringify(this.myResourcesCopy));setTimeout(function(){var o,l;n.myResources=(0,C.Z)(s),n.emptySearchResults=!(!n.searchOn||0!==(null===(o=n.myResources)||void 0===o?void 0:o.length)&&"id"in n.myResources[0]),n.emptyResults=!(n.searchOn||0!==(null===(l=n.myResources)||void 0===l?void 0:l.length)&&"id"in n.myResources[0]),n.setEmpty(),n.checkHoursCount()},160)}},{key:"filterByRole",value:function(){var n,t=this,a=JSON.parse(JSON.stringify((null===(n=this.filters)||void 0===n?void 0:n.tag)?this.myResources:this.myResourcesCopy)),s=null==this.filters.role?a:a.filter(function(o){return t.form.controls.role.value.includes(o.role_id)});this.checkHoursCount(s),setTimeout(function(){var o;t.emptySearchResults=0===(null===(o=t.myResources)||void 0===o?void 0:o.length)||!("id"in t.myResources[0]),t.setEmpty()},160)}},{key:"filterByTags",value:function(){var n,s,t=this,a=JSON.parse(JSON.stringify((null===(n=this.filters)||void 0===n?void 0:n.role)?this.myResources:this.myResourcesCopy));if(null==this.filters.tag)s=a;else{var o=this.form.controls.tag.value;s=a.filter(function(l){var d=l.tags.map(function(h){return h.id});return o.some(function(h){return d.includes(h)})?l:null})}this.checkHoursCount(s),setTimeout(function(){var l;t.emptySearchResults=0===(null===(l=t.myResources)||void 0===l?void 0:l.length)||!("id"in t.myResources[0]),t.setEmpty()},160)}},{key:"setEmpty",value:function(){this.emptySearchResults&&(this.myResources=[{}])}},{key:"ngOnDestroy",value:function(){var t,n;this.subscription&&(null===(t=this.subscription)||void 0===t||t.unsubscribe()),null===(n=this.subscriptioSingle)||void 0===n||n.unsubscribe()}},{key:"onPublishClick",value:function(){var t=this;this.analytics.logEvents("publish_schedule"),this.dialogService.open($.z,{hasBackdrop:!0,closeOnBackdropClick:!1,context:{heading:"Are you sure?",subHeading:"Once published, mobile users will be able to see this schedule.",dynamicElems:{isSchedulerNotification:1==this.isSchedulerNotification}}}).onClose.subscribe(function(n){n.isActionConfirmed&&t.publishSchedule(n.isSendNotification)})}},{key:"isCurrentDay",value:function(t){return t.date.getTime()==this.todaysDate}},{key:"sortResWrtScheduleTime",value:function(t,n){var o,l,a=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.sortFilters=JSON.parse(JSON.stringify(this.filtersCopy)),this.sortFilters[n]=t,s=s||JSON.parse(JSON.stringify((null===(o=this.filters)||void 0===o?void 0:o.role)||(null===(l=this.filters)||void 0===l?void 0:l.tag)?this.myResources:this.myResourcesCopy)),-1==t&&s.sort(function(d,u){var h=a.calendarInst.getEvents(new Date(a.calendarStartDate),new Date(a.calendarEndDate)),f=h.filter(function(m){return m.resource.includes(d.id)}),p=h.filter(function(m){return m.resource.includes(u.id)}),v=Math.min.apply(Math,(0,C.Z)(f.map(function(m){return new Date(m.start).getTime()}))),g=Math.min.apply(Math,(0,C.Z)(p.map(function(m){return new Date(m.start).getTime()})));return void 0===v&&void 0===g?0:void 0===v?1:void 0===g?-1:v-g}),this.myResources=(0,C.Z)(s),setTimeout(function(){var d;a.emptySearchResults=0===(null===(d=a.myResources)||void 0===d?void 0:d.length)||!("id"in a.myResources[0]),a.setEmpty()},100)}},{key:"goToDayView",value:function(t){this.gs.logEvents("scheduler_day_view_viewed_from_date_header"),this.calendarSelectedDate=t.date,this.view="timelineDay",this.changeView()}},{key:"copyShortcut",value:function(t){var a,n=this;null===(a=this.gs)||void 0===a||a.logEvents("schedule_copied_via_shortcut"),this.animate=!1,this.copiedObject=JSON.parse(JSON.stringify(t.original)),setTimeout(function(){n.animate=!0},20)}},{key:"pasteCopiedEvent",value:function(t){var n;null===(n=this.gs)||void 0===n||n.logEvents("copied_schedule_pasted");var a=new Date(this.copiedObject.start),s=new Date(this.copiedObject.end),o=this.gs.getDayDifference(a,s),l=new Date(t.start),d=new Date(t.end),u=new Date(l.getFullYear(),l.getMonth(),l.getDate(),a.getHours(),a.getMinutes()),h=new Date(d.getFullYear(),d.getMonth(),d.getDate()+o,s.getHours(),s.getMinutes());this.addSchedule({id:null,title:this.copiedObject.title,allDay:!1,is_unpublished_schedule:!0,color:this.copiedObject.color,start:u,end:h,resource:[t.resource]})}},{key:"clearClipboard",value:function(){var t;null===(t=this.gs)||void 0===t||t.logEvents("copied_schedule_cleared"),this.copiedObject=null}},{key:"onRecEditModeChange",value:function(){var t;null===(t=this.gs)||void 0===t||t.logEvents("recurring_edit_mode_changed");var n=JSON.parse(JSON.stringify(this.tempEvent));if(n.recurring)switch(this.recurringEditMode){case"current":delete n.recurring,delete n.recurringException,this.eventForForm=n;break;case"following":var a=this.breakRecurringEvent();this.eventForForm=a.newEvent;break;case"all":this.eventForForm=this.tempEvent}this.setStartAndEndDates()}},{key:"getInfoText",value:function(){var n,t=this;return null===(n=this.recurringEditModes.find(function(a){return a.value===t.recurringEditMode}))||void 0===n?void 0:n.info}},{key:"isOriginalEventRecurring",value:function(){return null!=this.originalRecurringEvent&&0!==Object.keys(this.originalRecurringEvent).length}},{key:"toggleAnalytics",value:function(){var t="scheduler_"+this.view.replace("timeline","")+"_view_toggled";this.gs.logEvents(t)}},{key:"isFilterClosedOnSmallDevices",value:function(){var t=document.getElementsByClassName("filter-mainwrapper").item(0);return!(this.gs.isRespMode&&t)}}]),c}();return r.\u0275fac=function(i){return new(i||r)(e.Y36(J.qu),e.Y36(q.Gln),e.Y36(B.s),e.Y36(e.sBO),e.Y36(U.F0),e.Y36(b.Tx),e.Y36(j),e.Y36(N.m),e.Y36(oe.eN),e.Y36(e.sBO),e.Y36(le.C))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-scheduler"]],viewQuery:function(i,t){var n;1&i&&(e.Gf(qe,5),e.Gf(Re,5),e.Gf(Ie,5),e.Gf(Le,5),e.Gf(Je,5),e.Gf(Ne,5)),2&i&&(e.iGM(n=e.CRH())&&(t.pickerInst=n.first),e.iGM(n=e.CRH())&&(t.untilPickerInst=n.first),e.iGM(n=e.CRH())&&(t.templateForm=n.first),e.iGM(n=e.CRH())&&(t.leaveForm=n.first),e.iGM(n=e.CRH())&&(t.calendarInst=n.first),e.iGM(n=e.CRH())&&(t.popup=n.first))},hostBindings:function(i,t){1&i&&e.NdJ("click",function(){return t.onClick()},!1,e.evT)},decls:21,vars:24,consts:[[1,"scheduling_page"],[3,"loading"],[1,"comment-sidebar",3,"showSideBar","closeDetails"],[3,"regionId","show","refreshData"],[1,"modes-wrapper"],[1,"mode"],[1,"mode-details",3,"ngClass"],[4,"ngIf"],["class","flex sche_bod",4,"ngIf"],[3,"options","anchor","buttons","headerText"],["popup",""],[1,"fas","fa-times","hidden",2,"position","absolute","top","10px","right","10px","cursor","pointer",3,"click"],["class","toggle-options",4,"ngIf"],["class","new-schedule",3,"ngSubmit",4,"ngIf"],["class","mbsc-button-group","style","position: absolute; bottom:20px;left: 8px;",3,"ngClass",4,"ngIf"],[2,"font-size","15px",3,"click"],[1,"flex","sche_bod"],["class","colored-column-warning calendar_flex print-scheduler","style","height: 75vh; padding-top: 0px",4,"ngIf"],[1,"colored-column-warning","calendar_flex","print-scheduler",2,"height","75vh","padding-top","0px"],["id","calendar-timeline",1,"md-switching-timeline-view-cont",3,"ngClass"],[1,"main-wrapper"],[1,"sche_header"],[1,"flex","responsiveness-scheduler",2,"align-items","center"],[1,"ml_10","mr_10"],[3,"placeholder","showHelperButton","searchEvent","searchAll"],[1,"sort",2,"position","relative"],["class","sort-popup copy-popup",4,"ngIf"],[1,"right-actions"],["class","print_span mr_10","nbTooltip","Print","nbTooltipPlacement","top",3,"nbTooltipDisabled","click",4,"ngIf"],["class","sort-popup",4,"ngIf"],["class","mr_10","nbButton","","status","primary","type","submit",3,"ngClass","disabled","click",4,"ngIf"],["class","notification-btn mr_10",3,"click",4,"ngIf"],["class","notification-btn",3,"click",4,"ngIf"],[1,"hours"],[2,"font-weight","600"],["class","float-container",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[1,"header-sch-page"],["newEventText","New Schedule","dataTimezone","utc","displayTimezone","local",3,"modules","dayTemplate","clickToCreate","dragToMove","data","view","options","resources","invalid","exclusiveEndDates","extendDefaultEvent","headerTemplate","resourceTemplate","scheduleEventTemplate","resourceHeaderTemplate","selectedDate","timezonePlugin","onPageLoading","onInit","onEventClick","selectedDateChange"],["eventCalendar",""],["myHeaderTemplate",""],["dayTemp",""],["eventTemplate",""],["myResourceTemplate",""],["resourceHeaderTemplate",""],[1,"no-store",3,"display","isScheduler","animation","animation2"],[1,"no-user",3,"display","isScheduler","animation"],[1,"no-records",3,"display"],[1,"sort-popup","copy-popup"],[1,"context-menu"],[1,"copy-sch"],[1,"label-heading"],[1,"options"],[1,"input_datepicker"],["nbInput","","placeholder","Pick Date Range",1,"datepicker-input",3,"nbDatepicker"],["dateInput",""],[1,"rangepicker",3,"min","range","rangeChange"],["formpicker",""],["id","copyLabel",1,"datepicker_span","weekday_toggle",3,"click"],["aria-hidden","true",1,"fa-solid","fa-calendar-days","arrow-down"],[1,"labeltxt"],[1,"flex","btns-row"],["nbTooltip","Any changes done will be discarded.",3,"click"],[3,"type","title","textToDisplay","status","proceedDelete"],["nbButton","","type","button","status","primary",1,"copy-btn",3,"click"],["nbTooltip","Print","nbTooltipPlacement","top",1,"print_span","mr_10",3,"nbTooltipDisabled","click"],["aria-hidden","true",1,"fa","fa-print"],[1,"sort-popup"],[1,"sorting"],[1,"options",2,"cursor","pointer",3,"click"],["nbButton","","status","primary","type","submit",1,"mr_10",3,"ngClass","disabled","click"],[1,"notification-btn","mr_10",3,"click"],[1,"btn-container"],[1,"fa-solid","fa-bell","bell",3,"ngClass"],["class","fa-solid fa-circle bubble-notification",4,"ngIf"],[1,"fa-solid","fa-circle","bubble-notification"],[1,"notification-btn",3,"click"],[1,"float-container"],[1,"copy-floating"],["size","medium","type","submit","nbButton","","status","primary",1,"clear-btn",3,"click"],[3,"ngClass"],[1,"fa","fa-exclamation-triangle",2,"margin-right","10px","color","#fe7e21"],[1,"unpublish-txt"],["class","md-work-week-picker","style","margin-right: 10px;",4,"ngIf"],[1,"date-controls"],["class","md-work-week-today today-txt","style","margin-left: 10px; font-size: 14px; text-decoration: underline; color:#7b68ee",3,"click",4,"ngIf"],[1,"md-work-week-prev"],[1,"md-work-week-next"],[1,"mbsc-calendar-title","hideInPrint"],[1,"print-header"],[1,"mbsc-calendar-title","print-hours"],[1,"md-work-week-picker",2,"margin-right","10px"],["name","view",3,"ngModel","ngModelChange","change"],["value","timelineDay"],["value","week"],["value","timelineMonth"],[1,"md-work-week-today","today-txt",2,"margin-left","10px","font-size","14px","text-decoration","underline","color","#7b68ee",3,"click"],["nbTooltip","Click to view in detail","nbTooltipPlacement","top",1,"md-date-header",3,"ngClass","nbTooltipDisabled","click"],[1,"md-date-header-day-nr"],["class","fa-solid fa-magnifying-glass-plus fa-xs day-view","aria-hidden","true",4,"ngIf"],[1,"md-date-header-day-name"],["aria-hidden","true",1,"fa-solid","fa-magnifying-glass-plus","fa-xs","day-view"],["class","md-timeline-template-event unpublished-schs",3,"ngStyle","nbTooltipDisabled","nbTooltip",4,"ngIf"],["class","md-timeline-template-event normalView",3,"nbTooltipDisabled","ngStyle","nbTooltip",4,"ngIf"],["class","md-timeline-template-event onlyPrint",3,"ngStyle",4,"ngIf"],[1,"md-timeline-template-event","unpublished-schs",3,"ngStyle","nbTooltipDisabled","nbTooltip"],[1,"md-timeline-template-event-cont"],["class","fa fa-copy","aria-hidden","true","nbTooltip","Click to copy","nbTooltipPlacement","bottom",3,"click",4,"ngIf"],["nbTooltipPlacement","left",1,"md-timeline-template-time"],["aria-hidden","true","nbTooltip","Click to copy","nbTooltipPlacement","bottom",1,"fa","fa-copy",3,"click"],[1,"md-timeline-template-event","normalView",3,"nbTooltipDisabled","ngStyle","nbTooltip"],[1,"md-timeline-template-event","onlyPrint",3,"ngStyle"],[1,"md-timeline-template-time","relative"],[1,"flex"],[2,"position","relative"],["class","gray-text",4,"ngIf"],[1,"gray-text"],["src","../../../../assets/graveyard.png","aria-hidden","true",2,"width","12px"],["aria-hidden","true",1,"fa-solid","fa-moon"],[1,"md-work-week-cont",2,"margin-top","4px",3,"ngClass"],["shape","semi-round","size","medium","nbTooltipPlacement","top",1,"scheduler_user",3,"showBadge","picture","showInitials","name","color","initialColor","title","scheduledHours","nbTooltip"],[1,"printResourceInfo"],["class","tags-container",4,"ngIf"],["class","tags-container hideInPrint",4,"ngIf"],["class","individual-hrs-print",4,"ngIf"],[1,"individual-hrs-print"],["class","tags",4,"ngFor","ngForOf"],["class","tags",4,"ngIf"],[1,"tags"],[1,"tags-container"],[1,"tags-container","hideInPrint"],["class","tags",3,"background-color",4,"ngFor","ngForOf"],["class","tags",3,"nbTooltipDisabled","nbTooltip","background-color",4,"ngIf"],[1,"tags",3,"nbTooltipDisabled","nbTooltip"],[1,"filter-wrapper"],[1,"user-count"],[2,"margin-left","4px"],[1,"sort","hideInPrint",3,"order","isSelected","iconType","onSort"],[1,"hideInPrint",3,"label","hideRespLabel","isFiltered","nbTooltip","onClose","onApply","onClear","onOpen"],[3,"label","defaultOpen","selected","key","optionId","Data","placeholder","controlName","form","show"],["style","margin-left: 4px;",4,"ngIf"],[1,"hideInPrint","sort",3,"order","isSelected","iconType","onSort"],[1,"hideInPrint",3,"icon","label","hideRespLabel","isFiltered","nbTooltip","onClose","onApply","onClear","onOpen"],[3,"label","defaultOpen","selected","optionClass","key","key2","type","optionId","Data","placeholder","controlName","form","show"],[1,"toggle-options"],["name","scheduleType",3,"ngModel","ngModelChange","change"],["value","schedule"],["value","leave"],[1,"new-schedule",3,"ngSubmit"],["templateForm","ngForm"],["class","scheduler-prompt",4,"ngIf"],["id","scrollContent",1,"mbsc-form-group",2,"overflow","auto"],[4,"ngFor","ngForOf"],[1,"scheduler-fields","recEdit",2,"width","100%","padding-top","15px"],[1,"mbsc-form-group",2,"width","100%"],[1,"scheduler-fields"],["nbTooltip","Start time & End time","nbTooltipPlacement","top",1,"fa","fa-clock","icon-color"],[1,"mandatory"],["name","startTime","required","",2,"width","94%",3,"options","ngModel","error","errorMessage","min","max","ngModelChange"],["startTimeGrid",""],[1,"fa","fa-arrow-right","icon-color"],["name","endTime","required","",2,"width","94%",3,"options","ngModel","error","errorMessage","min","max","ngModelChange"],["endTimeGrid",""],["class","scheduler-fields week-days",4,"ngIf"],[1,"scheduler-fields","mt-08"],["nbTooltip","Repeats","nbTooltipPlacement","top",1,"fa","fa-undo","icon-color"],["name","b",2,"width","96%",3,"ngModel","disabled","data","responsive","ngModelChange","click"],["style","padding-left: 20px;padding-right: 20px;padding-bottom: 10px;",4,"ngIf"],[2,"display","none"],["src","../../../../../assets/info-icon.svg","alt","reason icon",1,"label-info-icon"],[1,"scheduler-prompt"],[1,"red","fa","fa-exclamation-triangle",2,"margin-right","10px"],[2,"padding","0px"],["aria-hidden","true",1,"fa","fa-circle","color-label",3,"ngClass","click"],["nbTooltip","Update","nbTooltipPlacement","top",1,"fa","fa-calendar-days","icon-color"],["name","recEditMode",1,"recEdit",2,"width","94%",3,"ngModel","data","responsive","ngModelChange"],[1,"scheduler-fields","week-days"],["name","nonRec","status","primary",1,"mr23",3,"disabled","checked","ngClass","checkedChange"],[2,"padding-left","20px","padding-right","20px","padding-bottom","10px"],[1,"custom-repeat-settings","txt-scheduler","label-txt"],[1,"modal-roundness"],["type","number","pattern","^[1-9]+[0-9]*","maxlength","3","name","repeat","min","0","inputStyle","outline","required","",1,"custom-repeat-input","repeat-input",3,"error","errorMessage","ngModel","ngModelChange"],["repeat","ngModel"],["style","width: 30%;",4,"ngIf"],["class","custom-repeat-text custom-repeat-monthly","style","width: 30%;",4,"ngIf"],["class","custom-repeat-text custom-repeat-monthly",4,"ngIf"],[2,"width","100%","margin-left","5px"],[1,"schedule-run-until"],[1,"custom-condition-cont",3,"ngClass"],["name","dateUntil","display","anchored","dateFormat","MM/DD/YYYY","inputStyle","outline","required","",1,"custom-repeat-input","custom-specific-date",3,"showOnClick","showOnFocus","min","max","error","errorMessage","controls","touchUi","ngModel","ngModelChange","click"],["untilPicker","","dateUntil","ngModel"],[1,"scheduler-calender",2,"right","20px","top","15px","left","auto","position","absolute"],["aria-hidden","true",1,"fa","fa-calendar",3,"click"],["class","week-rec-checkboxes",4,"ngIf"],[2,"width","30%"],[1,"custom-repeat-text","custom-repeat-monthly",2,"width","30%"],["name","monthlyDay","inputStyle","outline",1,"custom-repeat-input","custom-repeat-select-nr",3,"ngModel","data","ngModelChange"],[1,"custom-repeat-text","custom-repeat-monthly"],["name","selectedMonth","inputStyle","outline",1,"custom-repeat-input","custom-repeat-select-month",3,"ngModel","data","ngModelChange","onChange"],["name","yearlyDay","inputStyle","outline",1,"custom-repeat-input","custom-repeat-select-nr",3,"ngModel","data","ngModelChange"],[1,"week-rec-checkboxes"],["pattern","^[1-7]","name","selectedWeeks","required","",1,"custom-repeat-checkbox-cont","hide_input",3,"ngModel","error","errorMessage","ngModelChange"],["selectedWeeks","ngModel"],["name","h","status","primary",1,"mr_08",3,"checked","checkedChange"],["leaveForm","ngForm"],["class","mbsc-form-group","style","overflow: auto;","id","scrollContent",4,"ngIf"],[1,"scheduler-fields","disabled-sdate"],["nbTooltip","Start date & End date","nbTooltipPlacement","top",1,"fa","fa-clock","icon-color"],["name","leaveStart","required","","required","",2,"width","94%",3,"options","disabled","ngModel","error","errorMessage","ngModelChange"],["startLeaveDate",""],["name","leaveEnd","required","",2,"width","94%",3,"options","ngModel","error","min","errorMessage","ngModelChange"],["endLeaveDate",""],["nbTooltip","Leave type","nbTooltipPlacement","top",1,"fas","fa-calendar-times","icon-color"],["placeholder","Select leave type","name","leaveType","required","",2,"width","96%",3,"ngModel","data","responsive","error","errorMessage","ngModelChange"],[1,"note-txt"],[1,"mbsc-button-group",2,"position","absolute","bottom","20px","left","8px",3,"ngClass"],[3,"title","textToDisplay","proceedDelete"],[1,"pointer","red-color",2,"position","relative"],[1,"fas","fa-trash","pointer","mr_10"]],template:function(i,t){1&i&&(e.TgZ(0,"span",0),e._UZ(1,"app-loader",1),e.TgZ(2,"app-sidebar",2),e.NdJ("closeDetails",function(){return t.closeDetails()}),e.TgZ(3,"app-leaves-request",3),e.NdJ("refreshData",function(){return t.getSchedules()}),e.qZA(),e.qZA(),e.TgZ(4,"app-sidebar",2),e.NdJ("closeDetails",function(){return t.closeDetails()}),e.TgZ(5,"app-open-swap-request",3),e.NdJ("refreshData",function(){return t.getSchedules()}),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"span",5),e.TgZ(8,"span",6),e.TgZ(9,"span"),e.YNc(10,Ue,4,0,"span",7),e.YNc(11,Fe,5,0,"span",7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(12,Et,2,1,"div",8),e.TgZ(13,"mbsc-popup",9,10),e.TgZ(15,"i",11),e.NdJ("click",function(){return t.closePopup()}),e.qZA(),e._UZ(16,"app-loader",1),e.YNc(17,Pt,6,1,"div",12),e.YNc(18,Wt,28,21,"form",13),e.YNc(19,Gt,3,1,"form",13),e.YNc(20,Xt,8,10,"div",14),e.qZA(),e.qZA()),2&i&&(e.xp6(1),e.Q6J("loading",t.loading||t.pageLoading),e.xp6(1),e.Q6J("showSideBar",t.showSideBar),e.xp6(1),e.Q6J("regionId",t.sharedRegion)("show",t.showSideBar),e.xp6(1),e.Q6J("showSideBar",t.showSideBarHistory),e.xp6(1),e.Q6J("regionId",t.sharedRegion)("show",t.showSideBarHistory),e.xp6(1),e.Tol(t.pageLoading||t.loading||t.emptyResults||t.emptySearchResults||0==t.sharedRegion||null==t.sharedRegion?"notVisible":""),e.xp6(2),e.Q6J("ngClass",e.VKq(22,en,!t.showOnlyPublishedSchs)),e.xp6(2),e.Q6J("ngIf",t.showOnlyPublishedSchs),e.xp6(1),e.Q6J("ngIf",!t.showOnlyPublishedSchs),e.xp6(1),e.Q6J("ngIf",!t.pageLoading),e.xp6(1),e.Q6J("options",t.popupOptions)("anchor",t.popupAnchor)("buttons",t.popupButtons)("headerText",t.popupHeaderText),e.xp6(3),e.Q6J("loading",t.popEventLoading),e.xp6(1),e.Q6J("ngIf",!t.isEdit),e.xp6(1),e.Q6J("ngIf","schedule"===t.scheduleType),e.xp6(1),e.Q6J("ngIf","leave"===t.scheduleType),e.xp6(1),e.Q6J("ngIf",t.isEdit))},directives:[z.R,re.k,ge,Me,_.mk,_.O5,q.dP_,De.J,q.h8i,q.$kf,q.MGu,Oe.r,q.jNv,W.D,q.DPz,b.h_,b.h5,J.JJ,J.On,ee.x0,ee.bf,b.z5,b.wY,b.Aq,b.eN,_.PC,G.k,_.sg,Ze.x,Ee.u,Pe.x,V.k,Ae.V,b.h9,J._Y,J.JL,J.F,b.jK,b.FB,J.Q7,q.NTf,b.hP,J.c5,J.nD],pipes:[_.uU,_.OU,K.X,_.rS],styles:['.main-wrapper[_ngcontent-%COMP%] {\n  position: relative;\n}\n\n.sche_header[_ngcontent-%COMP%] {\n  position: absolute;\n  z-index: 10;\n  right: 14px;\n  top: 5px;\n}\n\n.calendar_flex[_ngcontent-%COMP%] {\n  flex-grow: 4 !important;\n}\n\nul[_ngcontent-%COMP%] {\n  padding-left: 0;\n  padding-left: 0;\n  overflow: auto;\n  max-height: 73vh;\n}\n\nul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n  list-style-type: none;\n  display: block;\n  padding: 9px;\n  background: #fff;\n  cursor: pointer;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.02), 0 1px 3px rgba(0, 0, 0, 0.14);\n}\n\n.custom-repeat-settings[_ngcontent-%COMP%] {\n  padding-bottom: 1px;\n  padding-top: 0px;\n}\n\n.md-event-listing[_ngcontent-%COMP%]   .mbsc-segmented[_ngcontent-%COMP%] {\n  max-width: 350px;\n  margin: 0 auto;\n  padding: 1px;\n}\n\n.scheduler-prompt[_ngcontent-%COMP%] {\n  color: #222b45;\n  background-color: #fff0c4;\n  text-align: center;\n  box-shadow: none;\n  font-size: 0.9375rem;\n  font-weight: 500;\n  line-height: 1.2rem;\n  padding: 0.5rem 0.125rem;\n  color: black;\n  margin: auto;\n}\n\n.schedule-run-until[_ngcontent-%COMP%] {\n  line-height: 4em;\n  width: 45%;\n}\n\n.txt-scheduler[_ngcontent-%COMP%] {\n  line-height: 2em;\n  font-size: 14px;\n  color: #000 !important;\n  font-family: "Nunito" !important;\n}\n\n@media (max-width: 450px) {\n  .schedule-run-until[_ngcontent-%COMP%] {\n    line-height: 4rem;\n    font-size: 12px;\n    width: 62%;\n  }\n\n  .txt-scheduler[_ngcontent-%COMP%] {\n    line-height: 2rem;\n    font-size: 12px;\n  }\n}\n\n.scheduler-calender[_ngcontent-%COMP%] {\n  position: relative;\n  bottom: 35px;\n  left: 170px;\n  color: #4c30e8c9;\n  cursor: pointer;\n}\n\n@media (max-width: 450px) {\n  .scheduler-calender[_ngcontent-%COMP%] {\n    position: relative;\n    bottom: 38px;\n    left: 165px;\n    color: #4c30e8c9;\n    cursor: pointer;\n  }\n}\n\n@media (max-width: 400px) {\n  .scheduler-calender[_ngcontent-%COMP%] {\n    position: relative;\n    bottom: 38px;\n    left: 132px;\n    color: #4c30e8c9;\n    cursor: pointer;\n  }\n}\n\n@media (max-width: 1100px) and (min-width: 930px) {\n  .responsiveness-scheduler[_ngcontent-%COMP%] {\n    margin-left: 55px !important;\n  }\n}\n\n.individual-hrs[_ngcontent-%COMP%] {\n  color: #7a7a7a;\n  font-size: 14px;\n  font-weight: 600;\n  position: absolute;\n  left: 55px;\n  top: 45px;\n  background: #eae7ff;\n  border: 5px;\n  border-radius: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  padding-top: 2px;\n  padding-bottom: 1px;\n}\n\n.color-label[_ngcontent-%COMP%] {\n  font-size: 25px;\n  margin-top: 20px;\n  margin-left: 19.5px;\n  margin-right: 7.5px;\n  position: relative;\n  top: 0;\n  transition: top ease 0.2s;\n  cursor: pointer;\n}\n\n.color-label[_ngcontent-%COMP%]:hover {\n  top: -5px;\n}\n\n.color-selected[_ngcontent-%COMP%] {\n  border: 2px solid #7b68ee;\n  color: #e6beff;\n  border-radius: 50%;\n  padding: 2px;\n}\n\n.hours[_ngcontent-%COMP%] {\n  margin-left: 10px;\n  background: #eae7ff;\n  border-radius: 14px;\n  padding: 5px;\n  padding-left: 10px;\n  color: #5c5c5c;\n  padding-right: 10px;\n  font-size: 15px;\n}\n\n.label-info-icon[_ngcontent-%COMP%] {\n  vertical-align: top;\n  width: 13px;\n  margin-left: 10px;\n  margin-right: 5px;\n  cursor: pointer;\n}\n\n.height[_ngcontent-%COMP%] {\n  margin-top: 20px;\n}\n\n.empty-scheduler[_ngcontent-%COMP%] {\n  visibility: hidden;\n}\n\n.print_span[_ngcontent-%COMP%] {\n  background: #ffffff;\n  padding: 7px 9px;\n  border-radius: 10px;\n  color: #7b68ee !important;\n  cursor: pointer;\n  font-weight: 500;\n  border-radius: 2px;\n  min-width: 30px;\n  border-radius: 52%;\n  width: 32px;\n  height: 32px;\n  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\n}\n\n.copy_span[_ngcontent-%COMP%] {\n  background: #ffffff;\n  padding: 7px 9px;\n  border-radius: 10px;\n  color: #7b68ee !important;\n  cursor: pointer;\n  font-weight: 500;\n  border-radius: 2px;\n  min-width: 30px;\n  border-radius: 52%;\n  width: 32px;\n  height: 32px;\n  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\n}\n\n.enable-publish[_ngcontent-%COMP%] {\n  background-color: #7b68ee !important;\n  color: white !important;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.02), 0 1px 3px rgba(0, 0, 0, 0.14);\n}\n\n.disable-publish[_ngcontent-%COMP%] {\n  background-color: #f3f3f3 !important;\n  color: #7b68ee !important;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.02), 0 1px 3px rgba(0, 0, 0, 0.14);\n  border: 1px solid #dbdbdb !important;\n  color: #ccc !important;\n}\n\n.unpublish-data[_ngcontent-%COMP%] {\n  margin-top: 10px;\n  display: flex;\n  justify-content: center;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  background: white;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n  border: 1px solid #ffac90;\n  position: absolute;\n  z-index: 5;\n  \n  top: 50px;\n  width: 100%;\n}\n\n.unpublish-data[_ngcontent-%COMP%]   .unpublish-txt[_ngcontent-%COMP%] {\n  font-size: 13px;\n  font-weight: 600;\n}\n\n.scheduler-fields[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  padding-left: 20px;\n  padding-right: 20px;\n  width: 100%;\n}\n\n@page {\n  margin: 2mm 4mm 2mm 4mm !important;\n  size: landscape;\n}\n\n.md-work-week-picker[_ngcontent-%COMP%], .md-work-week-today[_ngcontent-%COMP%], .normalView[_ngcontent-%COMP%]   .unpublished-schs[_ngcontent-%COMP%] {\n  display: block;\n}\n\n.onlyPrint[_ngcontent-%COMP%] {\n  display: none;\n}\n\n  .onlyPrint .gray-text {\n  color: #707070;\n}\n\n  .mbsc-calendar-wrapper-fixed {\n  height: 90px;\n  background: #f9faff;\n}\n\n  .mbsc-timeline {\n  max-height: 70vh;\n  min-height: 40vh;\n  position: relative;\n}\n\n  .empty-data .mbsc-timeline {\n  min-height: 60vh;\n  height: auto !important;\n}\n\n  .empty-data .mbsc-timeline-column,   .empty-data .mbsc-timeline-resource.mbsc-ltr {\n  border-right-style: none !important;\n}\n\n  .view-mode .mbsc-windows.mbsc-schedule-invalid {\n  z-index: 1;\n  background: #ffefe8;\n  color: #6e689b;\n}\n\n  .mbsc-windows.mbsc-schedule-invalid {\n  color: #6e689b;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 20px;\n  font-weight: 600;\n  border-right: 1px solid;\n  border-right-width: 1px;\n  border-color: #e6e6e6;\n}\n\n  .published_leave {\n  background: #ffefe8 !important;\n  color: #6e689b !important;\n}\n\n  .mbsc-timegrid-cell {\n  display: block;\n}\n\n  .mbsc-datepicker-tab-timegrid.mbsc-datepicker-tab {\n  width: 9.5em;\n}\n\n@media print {\n    img {\n    -webkit-print-color-adjust: exact;\n  }\n    .print-header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 87%;\n  }\n    .description {\n    color: #63689b !important;\n    font-weight: bold;\n    font-size: 18px;\n  }\n    .md-timeline-template-event-cont {\n    display: flex;\n    flex-direction: column;\n  }\n    .md-timeline-template-event-cont .md-timeline-template-time {\n    font-size: 11px;\n  }\n    .md-timeline-template-event-cont .date {\n    font-size: 10px;\n    color: grey;\n    margin-top: 5px;\n    margin-bottom: 2px;\n  }\n    .mbsc-timeline-day {\n    min-width: 7em !important;\n  }\n    .mbsc-timeline {\n    height: auto !important;\n    display: initial !important;\n  }\n    .mbsc-calendar-wrapper-fixed {\n    height: auto !important;\n    background: white !important;\n  }\n    .scheduler_user {\n    display: none !important;\n  }\n    .printResourceInfo {\n    display: block;\n  }\n    .md-work-week-cont .individual-hrs {\n    display: none;\n  }\n    .hideInPrint {\n    display: none;\n  }\n    .print-hours {\n    display: block;\n  }\n    .mbsc-timeline-header-row-1,   .mbsc-timeline-header-month,   .mbsc-timeline-header-date,   .mbsc-timeline-header-week {\n    height: 4em !important;\n  }\n    .mbsc-font {\n    font-family: "Nunito Sans" !important;\n  }\n    .mbsc-font,   .mbsc-windows {\n    font-family: "Nunito Sans" !important;\n  }\n    mbsc-windows.mbsc-calendar-controls {\n    font-size: 16px !important;\n    font-weight: bold !important;\n  }\n    * {\n    color-adjust: exact !important;\n    -webkit-print-color-adjust: exact !important;\n    overflow: visible !important;\n  }\n    .mbsc-calendar-wrapper-fixed .mbsc-calendar-header {\n    position: initial;\n  }\n    .mbsc-windows.mbsc-calendar-controls {\n    position: inherit;\n  }\n    .mbsc-windows.mbsc-calendar-width-md .mbsc-calendar-title {\n    color: #63689b !important;\n    font-weight: bold;\n    font-size: 25px;\n  }\n    .mbsc-timeline-resource-bg,   .mbsc-timeline-grid {\n    display: block;\n  }\n    .mbsc-timeline-resource,   .mbsc-timeline-row {\n    page-break-inside: avoid;\n  }\n    .md-work-week-picker,   .md-work-week-today,   .normalView,   .published-schs,   .unpublished-schs {\n    display: none;\n  }\n    .mbsc-timeline-resource-col {\n    width: 100px;\n  }\n    .onlyPrint {\n    display: block;\n  }\n}\n\n  .view-mode .mbsc-timeline-row {\n  background-color: #f3f3f3;\n}\n\n  .week-days {\n  margin-top: 10px;\n  margin-left: 33px;\n  padding-top: 5px;\n  padding-bottom: 5px;\n}\n\n  .week-days nb-checkbox .text:not(:empty) {\n  padding-left: 2px !important;\n  font-size: 12.6px;\n  font-weight: 500;\n}\n\n  .week-rec-checkboxes {\n  margin-top: 15px;\n}\n\n  .week-rec-checkboxes nb-checkbox .label {\n  padding: var(--checkbox-padding);\n  padding-left: 2px !important;\n  font-size: 12.6px !important;\n  font-weight: 500 !important;\n  padding-right: 15px !important;\n}\n\n  .week-rec-checkboxes nb-checkbox .text:not(:empty) {\n  padding-left: 2px !important;\n  font-size: 12.6px;\n  font-weight: 500;\n}\n\n  #scrollContent {\n  overflow-x: hidden !important;\n}\n\n  .new-schedule .hide_input {\n  padding: 0px !important;\n  margin: 0px !important;\n}\n\n.notVisible[_ngcontent-%COMP%] {\n  visibility: hidden;\n}\n\n.modes-wrapper[_ngcontent-%COMP%] {\n  position: sticky;\n  top: 50px;\n  z-index: 20;\n}\n\n.mode[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n}\n\n.mode[_ngcontent-%COMP%]   .mode-details[_ngcontent-%COMP%] {\n  background: #ff9e7c;\n  padding: 8px;\n  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\n  border-bottom-left-radius: 8px;\n  border-bottom-right-radius: 8px;\n  padding-left: 20px;\n  padding-right: 20px;\n  font-weight: 700;\n  color: white;\n  margin-top: 3px;\n}\n\n.mode[_ngcontent-%COMP%]   .mode-details[_ngcontent-%COMP%]   .mode-switch[_ngcontent-%COMP%] {\n  text-decoration: underline;\n  cursor: pointer;\n}\n\n@media (max-width: 750px) {\n  .print_span[_ngcontent-%COMP%] {\n    display: none;\n  }\n}\n\n@media (max-width: 885px) {\n  .sort-popup[_ngcontent-%COMP%] {\n    right: -180px !important;\n    z-index: 180 !important;\n    \n  }\n\n  .copy-popup[_ngcontent-%COMP%] {\n    min-width: 300px !important;\n  }\n\n  .copy-sch[_ngcontent-%COMP%]   .datepicker-input[_ngcontent-%COMP%] {\n    position: initial !important;\n  }\n}\n\n.custom-condition-cont[_ngcontent-%COMP%] {\n  display: inline-block;\n  width: 54.5%;\n  position: relative;\n}\n\n.weekUntilPicker[_ngcontent-%COMP%] {\n  width: 53%;\n}\n\n.monthUntilPicker[_ngcontent-%COMP%] {\n  width: 27%;\n}\n\n.disabled-checkbox[_ngcontent-%COMP%] {\n  pointer-events: none;\n}\n\n@media (max-width: 500px) and (min-width: 320px) {\n  .week-days[_ngcontent-%COMP%] {\n    display: block !important;\n    line-height: 2 !important;\n  }\n\n  .custom-condition-cont[_ngcontent-%COMP%] {\n    width: -moz-fit-content;\n    width: fit-content;\n  }\n\n  .weekUntilPicker[_ngcontent-%COMP%] {\n    width: -moz-fit-content;\n    width: fit-content;\n  }\n\n  .monthUntilPicker[_ngcontent-%COMP%] {\n    width: -moz-fit-content;\n    width: fit-content;\n  }\n\n  .modal-roundness[_ngcontent-%COMP%]   .repeat-input[_ngcontent-%COMP%] {\n    width: 25% !important;\n  }\n\n  .custom-repeat-monthly[_ngcontent-%COMP%]   .mbsc-input[_ngcontent-%COMP%] {\n    width: 19% !important;\n  }\n}\n\n.sort-popup[_ngcontent-%COMP%] {\n  position: absolute;\n  min-width: 215px;\n  width: -moz-fit-content;\n  width: fit-content;\n  right: 10px;\n  \n  z-index: 2;\n  top: 20px;\n  height: 2px;\n}\n\n.context-menu[_ngcontent-%COMP%] {\n  position: relative;\n}\n\n.sorting[_ngcontent-%COMP%] {\n  padding-left: 0;\n  border-radius: 10px !important;\n  box-shadow: 0 19px 38px rgba(0, 0, 0, 0.3), 0 15px 12px rgba(0, 0, 0, 0.22) !important;\n}\n\n.sorting[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n  list-style: none !important;\n  display: block !important;\n  padding: 9px !important;\n  padding-top: 15px !important;\n  padding-bottom: 15px !important;\n  background: #fff;\n  cursor: pointer !important;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.02), 0 1px 3px rgba(0, 0, 0, 0.14) !important;\n}\n\n.options[_ngcontent-%COMP%] {\n  list-style: none;\n  font-size: 13px;\n  color: #6e689b;\n}\n\n.sorting[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover {\n  background-color: #eae6ff !important;\n  color: #7b68ee;\n  font-weight: 600;\n}\n\n.mt-08[_ngcontent-%COMP%] {\n  margin-top: 8px !important;\n}\n\n.repeat-input[_ngcontent-%COMP%] {\n  width: 10%;\n  display: inline-block;\n}\n\n.toggle-options[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  padding-left: 20px;\n  padding-right: 20px;\n  width: 100%;\n  padding-top: 15px;\n  padding-bottom: 5px;\n}\n\n.printResourceInfo[_ngcontent-%COMP%] {\n  display: none;\n}\n\n.print-hours[_ngcontent-%COMP%] {\n  display: none;\n}\n\n.note-txt[_ngcontent-%COMP%] {\n  font-size: 12px;\n  margin-bottom: 10px;\n  margin-top: 13px;\n  color: #e91e63;\n}\n\n.copy-popup[_ngcontent-%COMP%] {\n  min-width: 315px;\n}\n\n.copy-sch[_ngcontent-%COMP%] {\n  padding-left: 0;\n  border-radius: 3px !important;\n  box-shadow: 0 19px 38px rgba(0, 0, 0, 0.09), 0 15px 12px rgba(0, 0, 0, 0.09) !important;\n}\n\n.copy-sch[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n  list-style: none !important;\n  display: block !important;\n  padding: 9px !important;\n  background: #fff;\n  cursor: auto !important;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.02), 0 1px 3px rgba(0, 0, 0, 0.14) !important;\n}\n\n.copy-sch[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%] {\n  padding-top: 15px !important;\n  padding-bottom: 15px !important;\n}\n\n.copy-sch[_ngcontent-%COMP%]   .datepicker-input[_ngcontent-%COMP%] {\n  visibility: hidden;\n  height: 0px !important;\n  width: 0px !important;\n  max-width: 0px !important;\n  padding: 0 !important;\n  position: absolute;\n  left: -140px !important;\n  top: -30px;\n}\n\n.copy-sch[_ngcontent-%COMP%]   .rangepicker[_ngcontent-%COMP%] {\n  display: block;\n}\n\n.label-heading[_ngcontent-%COMP%] {\n  color: black !important;\n  padding: 9px !important;\n  font-size: 13px;\n}\n\n.labeltxt[_ngcontent-%COMP%] {\n  margin-top: 10px;\n  color: #878787;\n  font-size: 12px;\n}\n\n.btns-row[_ngcontent-%COMP%] {\n  justify-content: flex-end;\n}\n\n.datepicker_span[_ngcontent-%COMP%] {\n  cursor: pointer;\n  color: #6e689b !important;\n  font-size: 14px;\n}\n\n.datepicker_span[_ngcontent-%COMP%]:hover {\n  font-weight: 700;\n}\n\n.filter-wrapper[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin-top: -2px;\n  margin-bottom: 5px;\n}\n\n.edit-banner[_ngcontent-%COMP%] {\n  background-color: #a2d963 !important;\n}\n\n.external-container[_ngcontent-%COMP%] {\n  margin-top: 5px;\n  font-size: 12px;\n  display: flex;\n  align-items: center;\n}\n\n.external-container[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%] {\n  color: white !important;\n}\n\n.tags-container[_ngcontent-%COMP%] {\n  margin-top: 5px;\n  font-size: 12px;\n  display: flex;\n  align-items: center;\n  \n  margin-left: 47px;\n}\n\n.tags[_ngcontent-%COMP%] {\n  padding: 1px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-radius: 10px;\n  margin-right: 5px;\n  display: inline-block;\n  margin-bottom: 5px;\n  color: #060606;\n  font-size: 10px;\n}\n\n.user-count[_ngcontent-%COMP%] {\n  background-color: #d8d3ff;\n  padding-left: 5px !important;\n  padding-right: 5px !important;\n  padding: 1px;\n  border-radius: 100px;\n  font-size: 11px;\n  font-weight: 600;\n  margin-left: 5px;\n}\n\n.copy-sch-btn[_ngcontent-%COMP%] {\n  color: #7b68ee !important;\n  background-color: white !important;\n}\n\n@media (min-width: 1000px) {\n  .md-timeline-template-event[_ngcontent-%COMP%]   .fa-copy[_ngcontent-%COMP%] {\n    display: none !important;\n  }\n\n  .md-timeline-template-event[_ngcontent-%COMP%]:hover   .fa-copy[_ngcontent-%COMP%] {\n    display: inline !important;\n  }\n}\n\n.fa-copy[_ngcontent-%COMP%] {\n  float: left;\n  color: #E91E63;\n  margin-top: 1px;\n  margin-left: 5px;\n}\n\n.paste_info_span[_ngcontent-%COMP%] {\n  background: #E91E63;\n  padding: 3px 9px;\n  border-radius: 14px;\n  color: #ffffff !important;\n  cursor: pointer;\n  font-weight: 500;\n  min-width: 59px;\n  width: 32px;\n  height: 32px;\n  \n  margin-left: 10px;\n  border-radius: 7px;\n}\n\n.fa-eraser[_ngcontent-%COMP%] {\n  margin-left: 5px;\n  color: white;\n}\n\n.day-view[_ngcontent-%COMP%] {\n  color: #6e689b;\n}\n\n.float-container[_ngcontent-%COMP%] {\n  position: absolute;\n  top: 48px;\n  right: -43px;\n  display: flex;\n  flex-direction: column;\n  width: auto;\n  align-items: flex-end;\n  z-index: 10;\n}\n\n.copy-floating[_ngcontent-%COMP%] {\n  z-index: 10;\n  display: flex;\n  width: 145px;\n  height: 40px;\n  margin-right: -100px;\n  margin-bottom: 10px;\n  padding: 5px 15px;\n  text-decoration: none;\n  color: white;\n  border-color: #2adecf;\n  border-radius: 5px 0 0 5px;\n  background-color: #ff2d75;\n  box-shadow: 0 2px 4px #7d7d7d;\n  align-items: center;\n  justify-content: flex-start;\n  font-size: 14px;\n  font-weight: 600;\n  margin-right: 0;\n  background-color: #ff377c;\n  box-shadow: 0 2px 4px #7d7d7d;\n  width: auto;\n  transition: all 0.25s ease-in-out;\n  position: relative;\n}\n\n.float-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before {\n  font-family: "Font Awesome 5 Free";\n  margin-right: 15px;\n  transition: all 0.25s ease-in-out;\n}\n\n.icon.one[_ngcontent-%COMP%]:before {\n  content: "\\f057";\n  font-size: 15px !important;\n  margin-left: 5px;\n  color: white;\n  text-decoration: none;\n}\n\n.clear-sch[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  margin-left: 5px;\n  color: #3817ff;\n  font-weight: 700;\n  text-decoration: underline;\n  cursor: pointer;\n}\n\n.mbsc-windows.mbsc-timeline-header-date[_ngcontent-%COMP%]:hover {\n  background-color: red !important;\n}\n\n.clear-btn[_ngcontent-%COMP%] {\n  background-color: white !important;\n  color: #7b68ee !important;\n  height: 24px;\n  margin-left: 10px;\n  box-shadow: rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset !important;\n}\n\n.disabled-delete[_ngcontent-%COMP%] {\n  pointer-events: none !important;\n}\n\n.disabled-delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .disabled-delete[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n  color: #b6b6b6 !important;\n}\n\n@media (max-width: 929px) {\n  .sche_header[_ngcontent-%COMP%] {\n    position: initial !important;\n  }\n}\n\n@media (max-width: 929px) and (min-width: 471px) {\n  .unpublish-data[_ngcontent-%COMP%] {\n    top: 139px !important;\n  }\n}\n\n@media (max-width: 470px) and (min-width: 320px) {\n  .unpublish-data[_ngcontent-%COMP%] {\n    top: 150px !important;\n  }\n}\n\n@media (max-width: 767px) {\n    .mbsc-windows.mbsc-popup {\n    max-height: -moz-fit-content !important;\n    max-height: fit-content !important;\n    height: -moz-fit-content !important;\n    height: fit-content !important;\n  }\n    .mbsc-popup {\n    height: -moz-fit-content !important;\n    height: fit-content !important;\n  }\n}\n\n@media (max-width: 470px) {\n    .mbsc-calendar-wrapper-fixed {\n    height: 120px !important;\n  }\n}\n\n@media (max-width: 929px) and (min-width: 320px) {\n    .responsiveness-scheduler {\n    margin-bottom: 2px;\n    justify-content: flex-end;\n  }\n    .mbsc-timeline-header-sticky {\n    z-index: 300;\n  }\n    .responsiveness-scheduler {\n    flex-direction: column;\n    align-items: flex-end !important;\n  }\n    .mbsc-calendar-title {\n    margin-top: 3px;\n  }\n    .hours {\n    font-size: 12px !important;\n  }\n    .float-container {\n    top: 126px !important;\n    right: -12px !important;\n  }\n    .copy-floating {\n    width: 400px !important;\n  }\n}\n\n.right-actions[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n}\n\n.date-controls[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n}'],data:{animation:[(0,F.X$)("slideIn",[(0,F.eR)(":enter",[(0,F.oB)({transform:"translateX(100%)"}),(0,F.jt)("500ms",(0,F.oB)({transform:"translateX(0)"}))])])]}}),r}(),an=[{path:"",component:function(){var r=function(){function c(i){(0,L.Z)(this,c),this.gs=i}return(0,I.Z)(c,[{key:"ngOnInit",value:function(){this.gs.hideSplashScreen()}}]),c}();return r.\u0275fac=function(i){return new(i||r)(e.Y36(N.m))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-scheduler-page"]],decls:1,vars:0,template:function(i,t){1&i&&e._UZ(0,"app-scheduler")},directives:[tn],styles:[""]}),r}()}],sn=function(){var r=(0,I.Z)(function c(){(0,L.Z)(this,c)});return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[U.Bz.forChild(an)],U.Bz]}),r}(),on=y(5032),ln=function(){var r=(0,I.Z)(function c(){(0,L.Z)(this,c)});return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[_.ez,on.m,sn]]}),r}()},3963:function(ie,Y,y){y.d(Y,{x:function(){return R}});var I=y(5671),L=y(3144),_=y(5e3),U=y(9808),e=y(4825);function N(A,x){if(1&A){var S=_.EpF();_.TgZ(0,"span",2),_.NdJ("click",function(){return _.CHM(S),_.oxw().toggleSort()}),_._uU(1),_._UZ(2,"i",3),_.qZA()}if(2&A){var b=_.oxw();_.Tol(b.isSelected?"sort-selected":""),_.xp6(1),_.hij(" ",b.label," "),_.xp6(1),_.Tol(b.isAscending?b.ascendingClass:b.descendingClass)}}function C(A,x){if(1&A){var S=_.EpF();_.TgZ(0,"span"),_.TgZ(1,"button",4),_.NdJ("click",function(){return _.CHM(S),_.oxw().toggleSort()}),_._UZ(2,"i",5),_._uU(3,"Sort"),_.qZA(),_.qZA()}}var R=function(){var A=function(){function x(){(0,I.Z)(this,x),this.onSort=new _.vpe,this.icons={number:{ascending:"fas fa-arrow-down-1-9",descending:"fas fa-arrow-down-9-1"},alpha:{ascending:"fas fa-arrow-down-a-z",descending:"fas fa-arrow-down-z-a"}},this.label=this.label?this.label:"",this.iconType=this.iconType?this.iconType:"alpha",this.isSelected=!!this.isSelected&&this.isSelected}return(0,L.Z)(x,[{key:"ngOnInit",value:function(){this.isAscending=!0,this.order=this.order?this.order:1,this.isAscending=this.order>0,this.ascendingClass=this.icons[this.iconType].ascending,this.descendingClass=this.icons[this.iconType].descending}},{key:"ngOnChanges",value:function(b){b.isSelected&&b.isSelected.currentValue!==b.isSelected.previousValue&&(this.isSelected=b.isSelected.currentValue)}},{key:"toggleSort",value:function(){this.isAscending=!this.isAscending,this.onSort.emit(this.isAscending?1:-1)}}]),x}();return A.\u0275fac=function(S){return new(S||A)},A.\u0275cmp=_.Xpm({type:A,selectors:[["app-sort"]],inputs:{label:"label",isSelected:"isSelected",iconType:"iconType",order:"order",isBtnStyle:"isBtnStyle"},outputs:{onSort:"onSort"},features:[_.TTD],decls:2,vars:2,consts:[["class","sort-icon",3,"class","click",4,"ngIf"],[4,"ngIf"],[1,"sort-icon",3,"click"],["nbTooltip","Sort","aria-hidden","true",2,"margin-right","4px"],["size","medium","type","button","nbButton","","status","secondary",3,"click"],[1,"fa-regular","fa-arrow-down-arrow-up",2,"margin-right","10px"]],template:function(S,b){1&S&&(_.YNc(0,N,3,5,"span",0),_.YNc(1,C,4,0,"span",1)),2&S&&(_.Q6J("ngIf",!b.isBtnStyle),_.xp6(1),_.Q6J("ngIf",b.isBtnStyle))},directives:[U.O5,e.jNv,e.DPz],styles:['.sort-icon[_ngcontent-%COMP%] {\n  position: relative;\n  cursor: pointer;\n  font-weight: 600;\n  color: #bbbbbb;\n}\n.sort-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\n  font-size: 15px;\n  color: #bbbbbb;\n}\n.sort-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover {\n  color: #6e689b !important;\n}\n.sort-selected[_ngcontent-%COMP%] {\n  color: #6e689b !important;\n}\n.sort-selected[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\n  color: #6e689b !important;\n}\n@media (max-width: 380px) {\n  .sort-selected[_ngcontent-%COMP%] {\n    display: flex;\n  }\n}\n.status-secondary[_ngcontent-%COMP%] {\n  color: #344054;\n  border: 1px solid #D0D5DD !important;\n  font-weight: 700 !important;\n  font-family: "Inter" !important;\n  border-radius: 6px !important;\n  height: 35px !important;\n  margin-right: 10px;\n}']}),A}()}}]);