"use strict";(self.webpackChunkAzal_FE=self.webpackChunkAzal_FE||[]).push([[130],{4130:function(Y,N,d){d.r(N),d.d(N,{RecognitionModule:function(){return ae}});var O=d(3144),A=d(5671),a=d(9808),T=d(4202),n=d(5e3),k=d(5837),U=d(6300),J=d(7757),v=d.n(J),w=d(655),P=d(7243),R=d(7756),D=function(){var i=function(){function s(e){var t=this;(0,A.Z)(this,s),this.http=e,this.badges=null,this.maxNumberOfBadges=10,this.sendAnnouncement=function(o){return(0,w.mG)(t,void 0,void 0,v().mark(function r(){var l=this;return v().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",new Promise(function(g,x){l.http.post(P.J.recognition.post.addAnnouncement,o).subscribe(function(C){g(C)},function(C){console.log(C),x(C)})}));case 1:case"end":return c.stop()}},r)}))},this.recogniseUser=function(o){return(0,w.mG)(t,void 0,void 0,v().mark(function r(){var l=this;return v().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",new Promise(function(g,x){l.http.post(P.J.recognition.post.recognize,o).subscribe(function(C){g(C)},function(C){console.log(C),x(C)})}));case 1:case"end":return c.stop()}},r)}))},this.resetPoints=function(o){return(0,w.mG)(t,void 0,void 0,v().mark(function r(){var l=this;return v().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",new Promise(function(g,x){l.http.post(P.J.recognition.post.resetPoints,o).subscribe(function(C){g(C)},function(C){console.log(C),x(C)})}));case 1:case"end":return c.stop()}},r)}))},this.exportPointsReport=function(o){return(0,w.mG)(t,void 0,void 0,v().mark(function r(){var l=this;return v().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",new Promise(function(g,x){var _=P.J.recognition.get.downloadPointsReport;o.region_id&&(_+="?region_id="+o.region_id),l.http.get(_).subscribe(function(C){g(C)},function(C){console.log(C),x(C)})}));case 1:case"end":return c.stop()}},r)}))},this.setMaxBadgesAllowed()}return(0,O.Z)(s,[{key:"setMaxBadgesAllowed",value:function(){var t=document.body.clientWidth;t<600?this.maxNumberOfBadges=3:t<1200&&(this.maxNumberOfBadges=6)}},{key:"setDefaultBadges",value:function(t){this.badges=t}},{key:"getDefaultBadges",value:function(){return this.badges}},{key:"getGoals",value:function(){var t=this;return new Promise(function(o,r){t.http.get(P.J.recognition.get.goals).subscribe(function(p){o(p)},function(p){console.log(p),r(p)})})}},{key:"getUserPointsTableData",value:function(t){var o=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{pageIndex:0,pageSize:25},l=arguments.length>2?arguments[2]:void 0;return new Promise(function(p,c){var g=P.J.recognition.get.userPoints+"?page_size="+r.pageSize+"&page_no="+(r.pageIndex+1);t&&(g+="&search="+t),(null==l?void 0:l.region_id)&&(g+="&region_id="+l.region_id),o.http.get(g).subscribe(function(x){p(x)},function(x){console.log(x),c(x)})})}},{key:"getGiftCardRequests",value:function(t){var o=this;return new Promise(function(r,l){o.http.get(P.J.recognition.get.giftCardRequests+"?region_id="+t).subscribe(function(c){r(c)},function(c){console.log(c),l(c)})})}},{key:"markAsDelivered",value:function(t){var o=this;return new Promise(function(r,l){o.http.post(P.J.recognition.post.markAsDelivered,t).subscribe(function(c){r(c)},function(c){console.log(c),l(c)})})}},{key:"respondToGiftRequest",value:function(t){var o=this;return new Promise(function(r,l){o.http.post(P.J.recognition.post.respondToGiftRequest,t).subscribe(function(c){r(c)},function(c){console.log(c),l(c)})})}}]),s}();return i.\u0275fac=function(e){return new(e||i)(n.LFG(R.s))},i.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i}(),S=d(263),I=d(6253),b=d(4825),m=d(8279),f=d(3075),u=d(9489),h=d(4266),y=d(8719),M=d(42),q=d(82),B=d(1062),F=function(s){return{selected:s}};function j(i,s){if(1&i){var e=n.EpF();n.ynx(0),n.TgZ(1,"div",31),n.TgZ(2,"span",32),n.NdJ("click",function(){var p=n.CHM(e).$implicit;return n.oxw(2).selectedBadge=p}),n._UZ(3,"app-user-avatar",33),n.ALo(4,"async"),n.ALo(5,"imageAuth"),n.qZA(),n.TgZ(6,"span",34),n._uU(7),n.qZA(),n.qZA(),n.BQk()}if(2&i){var t=s.$implicit,o=n.oxw(2);n.xp6(3),n.Q6J("ngClass",n.VKq(8,F,(null==o.selectedBadge?null:o.selectedBadge.id)===t.id))("picture",n.lcZ(4,4,n.lcZ(5,6,null==t?null:t.image_url)))("showInitials",!1),n.xp6(4),n.Oqu(t.title)}}function L(i,s){if(1&i){var e=n.EpF();n.ynx(0),n.TgZ(1,"form",5,6),n.NdJ("ngSubmit",function(){n.CHM(e);var l=n.MAs(2);return n.oxw().submit(l)}),n.TgZ(3,"div",7),n.TgZ(4,"div",8),n.TgZ(5,"span",9),n._uU(6," Select a Badge "),n.qZA(),n.TgZ(7,"div",10),n.TgZ(8,"div",11),n.YNc(9,j,8,10,"ng-container",12),n.qZA(),n.qZA(),n.qZA(),n.TgZ(10,"div",13),n._UZ(11,"div",14),n.TgZ(12,"div"),n.TgZ(13,"div",15),n.TgZ(14,"span",16),n._uU(15),n.ALo(16,"titlecase"),n.qZA(),n.TgZ(17,"span",17),n._uU(18," has recognized you with the badge "),n.qZA(),n.qZA(),n.TgZ(19,"div",18),n.TgZ(20,"span",19),n._uU(21),n.qZA(),n.TgZ(22,"span",20),n._UZ(23,"app-user-avatar",21),n.ALo(24,"async"),n.ALo(25,"imageAuth"),n.qZA(),n.qZA(),n.TgZ(26,"div",22),n._UZ(27,"textarea",23),n._UZ(28,"app-error-message",24),n.TgZ(29,"span",25),n._uU(30," Note: All the employees in your store will be notified. "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(31,"div",26),n.TgZ(32,"div",27),n.TgZ(33,"span",28),n.TgZ(34,"app-button",29),n.NdJ("onClick",function(){return n.CHM(e),n.oxw().close()}),n._uU(35,"Cancel"),n.qZA(),n._UZ(36,"app-submit-button",30),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.BQk()}if(2&i){var t=n.MAs(2),o=n.oxw();n.xp6(1),n.Q6J("formGroup",o.form),n.xp6(8),n.Q6J("ngForOf",o.badges),n.xp6(6),n.hij(" ",n.lcZ(16,13,o.webUserName)," "),n.xp6(5),n.Udp("color",null==o.selectedBadge?null:o.selectedBadge.color),n.xp6(1),n.hij(" ",null==o.selectedBadge?null:o.selectedBadge.title," "),n.xp6(2),n.Q6J("picture",n.lcZ(24,15,n.lcZ(25,17,null==o.selectedBadge?null:o.selectedBadge.image_url)))("showInitials",!1),n.xp6(5),n.Q6J("key","description")("form",o.form)("isSubmitted",t.submitted),n.xp6(8),n.Q6J("form",o.form)("label","Send")}}var V=function(){var i=function(){function s(e,t,o,r,l){var p=this;(0,A.Z)(this,s),this.dataService=e,this.gs=t,this.service=o,this.fb=r,this.ref=l,this.sendReward=function(){return(0,w.mG)(p,void 0,void 0,v().mark(function c(){var g,x,_;return v().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(!this.loading){Z.next=2;break}return Z.abrupt("return");case 2:return this.loading=!0,x={badge_id:this.selectedBadge.id,awarded_to:this.data.id,region_id:null===(g=this.filterInput)||void 0===g?void 0:g.region_id,note:this.form.get("description").value},Z.prev=4,Z.next=7,this.service.recogniseUser(x);case 7:this.gs.showToastSuccess(null==(_=Z.sent)?void 0:_.message),this.close(!0),Z.next=16;break;case 12:Z.prev=12,Z.t0=Z.catch(4),console.log(Z.t0),this.gs.showToastError(Z.t0.message);case 16:return Z.prev=16,this.loading=!1,Z.finish(16);case 19:case"end":return Z.stop()}},c,this,[[4,12,16,19]])}))},this.webUserName=this.dataService.getUserName()}return(0,O.Z)(s,[{key:"ngOnInit",value:function(){this.selectedUser=this.data,this.form=this.fb.group({description:["",[f.kI.maxLength(255)]],photo:[]}),this.badges=this.service.getDefaultBadges(),this.selectedBadge=this.badges[0]}},{key:"submit",value:function(t){t.valid&&this.sendReward()}},{key:"close",value:function(t){this.ref.close(t)}}]),s}();return i.\u0275fac=function(e){return new(e||i)(n.Y36(k.s),n.Y36(U.m),n.Y36(D),n.Y36(f.qu),n.Y36(b.X4l))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-new-reward"]],inputs:{data:"data",filterInput:"filterInput"},decls:8,vars:3,consts:[[1,"modal_wrapper","new-reward"],[1,"card_header"],[1,"title",2,"text-align","center"],[3,"nbSpinner"],[4,"ngIf"],["id","form",1,"reward-form",3,"formGroup","ngSubmit"],["ngForm","ngForm"],[1,"two-column_reward"],[1,"left-wrapper"],[1,"label-txt"],[1,"badge-container"],[1,"small-badge-row"],[4,"ngFor","ngForOf"],[1,"flex_item3"],[1,"main-container"],[1,"text-wrapper"],[1,"name"],[1,"recognize-txt"],[1,"badge-info"],[1,"badge-title"],[1,"badge-reward-image"],["size","medium","onlyPicture","",3,"picture","showInitials"],[1,"",2,"padding","15px","padding-top","0px"],["maxlength","255","aria-label","description input","nbInput","","fullWidth","","name","message","formControlName","description","placeholder","Add a personalized note (optional)."],[3,"key","form","isSubmitted"],[1,"note"],[1,"two-column_Marathon"],[1,"flex_item2"],[1,"footer-reward"],[3,"onClick"],[3,"form","label"],[1,"badge-box"],[1,"badges",3,"click"],["size","medium","onlyPicture","",3,"ngClass","picture","showInitials"],[1,"title-badge"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"nb-card"),n.TgZ(2,"nb-card-header",1),n.TgZ(3,"span"),n.TgZ(4,"label",2),n._uU(5),n.qZA(),n.qZA(),n.qZA(),n.TgZ(6,"nb-card-body",3),n.YNc(7,L,37,19,"ng-container",4),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(5),n.hij("Recognize ",t.selectedUser.user_name,""),n.xp6(1),n.Q6J("nbSpinner",t.loading),n.xp6(1),n.Q6J("ngIf",t.form))},directives:[b.Asz,b.ndF,b.yKW,b.Q7R,a.O5,f._Y,f.JL,f.sg,u.w5,a.sg,h.k,a.mk,b.h8i,f.Fj,f.nD,f.JJ,f.u,u.x0,u.bf,y.H,M.r,q.w],pipes:[a.Ov,B.z,a.rS],styles:[".two-column_reward[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n}\n.two-column_reward[_ngcontent-%COMP%]   .flex_item1[_ngcontent-%COMP%] {\n  display: flex;\n  flex: 1.5;\n  justify-content: center;\n}\n.two-column_reward[_ngcontent-%COMP%]   .flex_item1[_ngcontent-%COMP%]   .reward_img[_ngcontent-%COMP%] {\n  padding-left: 33px;\n  padding-top: 29px;\n}\n.two-column_reward[_ngcontent-%COMP%]   .flex_item3[_ngcontent-%COMP%] {\n  margin-top: 10px;\n  background: white;\n  border-radius: 10px;\n}\n.two-column_Marathon[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  margin-top: 20px;\n  margin-bottom: 5px;\n}\n.two-column_Marathon[_ngcontent-%COMP%]   .flex_item1[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n}\n.container[_ngcontent-%COMP%] {\n  width: 25%;\n  margin: 7px auto;\n}\n.circle[_ngcontent-%COMP%] {\n  position: relative;\n  width: 100%;\n  height: 0;\n  padding: 100% 0 0;\n  border-radius: 50%;\n  overflow: hidden;\n  background-color: #f1f1f1;\n}\n.overlay[_ngcontent-%COMP%] {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 100%;\n  width: 100%;\n  opacity: 0;\n  transition: 0.5s ease;\n  background-color: #717171;\n}\n.circle[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%] {\n  opacity: 1;\n  cursor: pointer;\n}\n.text[_ngcontent-%COMP%] {\n  font-size: 16px;\n  color: white;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  text-align: center;\n}\n.upload[_ngcontent-%COMP%] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n.default[_ngcontent-%COMP%] {\n  position: absolute;\n  top: 9px;\n  left: 12px;\n  width: 82%;\n  \n  object-fit: cover;\n}\n.card_style[_ngcontent-%COMP%] {\n  padding-bottom: 0px !important;\n}\n.subheading[_ngcontent-%COMP%] {\n  margin-top: 0;\n}\n@media (max-width: 930px) {\n  .two-column_reward[_ngcontent-%COMP%]   .flex_item1[_ngcontent-%COMP%] {\n    flex: 2.5 !important;\n  }\n\n  .small-badge-row[_ngcontent-%COMP%] {\n    flex-wrap: inherit !important;\n  }\n\n  .badge-container[_ngcontent-%COMP%] {\n    flex-direction: row;\n  }\n\n  .left-wrapper[_ngcontent-%COMP%] {\n    max-height: 29vh;\n    width: 100% !important;\n  }\n\n  .label-txt[_ngcontent-%COMP%] {\n    margin-left: 0px;\n  }\n\n  .two-column_reward[_ngcontent-%COMP%] {\n    flex-direction: column;\n  }\n\n  .badge-box[_ngcontent-%COMP%] {\n    margin-right: 10px !important;\n    margin-left: 10px !important;\n  }\n\n  .text-wrapper[_ngcontent-%COMP%] {\n    margin-left: 10px;\n    margin-right: 10px;\n    flex-direction: column;\n    align-items: center;\n  }\n  .text-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%] {\n    margin-bottom: 10px;\n  }\n\n  .new-reward[_ngcontent-%COMP%]   .reward-form[_ngcontent-%COMP%] {\n    height: 60vh;\n  }\n\n  .note[_ngcontent-%COMP%] {\n    margin-left: 0px !important;\n  }\n\n  .two-column_Marathon[_ngcontent-%COMP%] {\n    padding-bottom: 15px;\n  }\n}\n.new-reward[_ngcontent-%COMP%] {\n  width: 750px;\n}\n.new-reward[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-header.card_header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%] {\n  margin: 0;\n  font-size: 20px;\n}\n.new-reward[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%] {\n  background-image: linear-gradient(to left, #7f84ea, #404275);\n}\n.note[_ngcontent-%COMP%] {\n  color: #7b68ee;\n  margin-left: 10px;\n}\n.footer-reward[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: flex-end;\n}\n.selected-badge[_ngcontent-%COMP%] {\n  margin-top: 30px;\n  margin-left: 13px;\n}\n.main-container[_ngcontent-%COMP%] {\n  background-image: url('confetti-modal.ae6cadc3cbbc1432.png');\n  background-repeat: no-repeat;\n  background-size: cover;\n  height: 50px;\n}\n.text-wrapper[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  margin-top: 25px;\n}\n.name[_ngcontent-%COMP%] {\n  font-size: 15px;\n  color: #6e689b;\n  font-weight: 600;\n  margin-right: 5px;\n}\n.recognize-txt[_ngcontent-%COMP%] {\n  font-size: 15px;\n  color: #aaaaaa;\n  font-weight: 400;\n}\n.badge-info[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  padding: 15px;\n  flex-direction: column;\n}\n.badge-title[_ngcontent-%COMP%] {\n  color: #dbab52;\n  font-size: 18px;\n  font-weight: 900;\n  margin-top: 15px;\n  text-align: center;\n}\n.badge-container[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  padding-right: 10px;\n}\n.small-badge-row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  width: 65px;\n  height: 65px;\n}\n.small-badge-row[_ngcontent-%COMP%] {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n.badge-box[_ngcontent-%COMP%] {\n  width: 90px;\n  margin-top: 10px;\n  margin-bottom: 15px;\n  margin-left: 1px;\n  margin-right: 1px;\n}\n.left-wrapper[_ngcontent-%COMP%] {\n  max-height: calc(73vh - 55px);\n  overflow: auto;\n  width: 57%;\n  margin-right: 10px;\n  margin-top: 10px;\n}\n.badges[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  cursor: pointer;\n}\n.title-badge[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  text-align: center;\n  margin-top: 5px;\n  color: #6e689b;\n  font-size: 13px;\n  font-weight: 600;\n}\n.badge-reward-image[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  margin: auto;\n  margin-top: 20px;\n}\n.badge-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  height: 85px;\n  width: 85px;\n}\n.two-column_reward[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%] {\n  height: 115px;\n  background: #f7f9fc;\n}\n.label-txt[_ngcontent-%COMP%] {\n  font-size: 14px;\n  color: #000000;\n  font-weight: 600;\n  margin-left: 15px;\n}"]}),i}(),z=d(6271),Q=d(1201);function H(i,s){if(1&i&&(n.TgZ(0,"div",21),n.TgZ(1,"div",22),n.TgZ(2,"span",23),n._uU(3,"Last announcement sent:"),n.qZA(),n._uU(4),n.qZA(),n.TgZ(5,"div",24),n.TgZ(6,"span"),n.TgZ(7,"span",23),n._uU(8,"By:"),n.qZA(),n._uU(9),n.ALo(10,"date"),n._UZ(11,"i",25),n._uU(12),n.qZA(),n.qZA(),n.qZA()),2&i){var e=n.oxw(2);n.xp6(4),n.hij(" ",e.lastAnnouncement.announcement," "),n.xp6(5),n.AsE(" ",e.lastAnnouncement.created_by," on ",n.lcZ(10,4,e.lastAnnouncement.created_on)," to "),n.xp6(3),n.hij(" ",e.regionId?e.lastAnnouncement.store?e.lastAnnouncement.store:"Current store":"All stores"," ")}}var $=function(s){return{"no-announcement":s}},W=function(){return{standalone:!0}};function K(i,s){if(1&i){var e=n.EpF();n.ynx(0),n.TgZ(1,"form",5,6),n.NdJ("ngSubmit",function(){n.CHM(e);var l=n.MAs(2);return n.oxw().submit(l)}),n.TgZ(3,"div",7),n._UZ(4,"app-no-records",8),n.TgZ(5,"div",9),n.TgZ(6,"div",10),n._uU(7," Send message to: "),n.TgZ(8,"nb-radio-group",11),n.NdJ("ngModelChange",function(l){return n.CHM(e),n.oxw().isAllStores=l}),n.TgZ(9,"nb-radio",12),n._uU(10,"All stores"),n.qZA(),n.TgZ(11,"nb-radio",13),n._uU(12,"Current store"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(13,"div"),n._UZ(14,"textarea",14),n._UZ(15,"app-error-message",15),n.qZA(),n.YNc(16,H,13,6,"div",16),n.qZA(),n.qZA(),n.TgZ(17,"div",17),n.TgZ(18,"div",18),n.TgZ(19,"app-button",19),n.NdJ("onClick",function(){return n.CHM(e),n.oxw().close(null)}),n._uU(20,"Cancel"),n.qZA(),n._UZ(21,"app-submit-button",20),n.qZA(),n.qZA(),n.qZA(),n.BQk()}if(2&i){var t=n.MAs(2),o=n.oxw();n.xp6(1),n.Q6J("formGroup",o.form),n.xp6(2),n.Q6J("ngClass",n.VKq(14,$,!o.lastAnnouncement)),n.xp6(1),n.Q6J("display",!0)("animation","announcement")("textMessage",""),n.xp6(4),n.Q6J("ngModel",o.isAllStores)("ngModelOptions",n.DdM(16,W))("disabled",null==o.selectedRegion),n.xp6(7),n.Q6J("key","message")("form",o.form)("isSubmitted",t.submitted),n.xp6(1),n.Q6J("ngIf",o.lastAnnouncement),n.xp6(5),n.Q6J("form",o.form)("label","Send")}}var X=function(){var i=function(){function s(e,t,o,r){var l=this;(0,A.Z)(this,s),this.fb=e,this.ref=t,this.service=o,this.gs=r,this.sendAnnouncement=function(){return(0,w.mG)(l,void 0,void 0,v().mark(function p(){var c,g;return v().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(!this.loading){_.next=2;break}return _.abrupt("return");case 2:return this.loading=!0,c={region_id:"1"==this.isAllStores?null:this.selectedRegion,announcement:this.form.get("message").value},_.prev=4,_.next=7,this.service.sendAnnouncement(c);case 7:this.gs.showToastSuccess(null==(g=_.sent)?void 0:g.message),this.close(!0),_.next=16;break;case 12:_.prev=12,_.t0=_.catch(4),console.log(_.t0),this.gs.showToastError(_.t0.message);case 16:return _.prev=16,this.loading=!1,_.finish(16);case 19:case"end":return _.stop()}},p,this,[[4,12,16,19]])}))},this.form=this.fb.group({message:["",[f.kI.maxLength(255)]]})}return(0,O.Z)(s,[{key:"ngOnInit",value:function(){this.isAllStores=this.regionId?"0":"1",this.lastAnnouncement=this.lastAnnouncement,this.selectedRegion=this.selectedRegion}},{key:"submit",value:function(t){t.valid&&this.sendAnnouncement()}},{key:"close",value:function(t){this.ref.close(t)}}]),s}();return i.\u0275fac=function(e){return new(e||i)(n.Y36(f.qu),n.Y36(b.X4l),n.Y36(D),n.Y36(U.m))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-new-announcement"]],inputs:{regionId:"regionId",selectedRegion:"selectedRegion",lastAnnouncement:"lastAnnouncement"},decls:8,vars:2,consts:[[1,"modal_wrapper","new-reward"],[1,"card_header"],[1,"title",2,"text-align","center"],[3,"nbSpinner"],[4,"ngIf"],["id","form",1,"reward-form",3,"formGroup","ngSubmit"],["ngForm","ngForm"],[1,"body",3,"ngClass"],[1,"new-announcement",3,"display","animation","textMessage"],[1,"details"],[1,"send-to"],[1,"send-option",3,"ngModel","ngModelOptions","disabled","ngModelChange"],["value","1",1,"option-txt"],["value","0",1,"option-txt"],["maxlength","255","aria-label","description input","nbInput","","fullWidth","","name","message","formControlName","message","placeholder","Use this space to send a message to announce an award or to entice your team. This message will appear on the AzalioPlay app for all users."],[3,"key","form","isSubmitted"],["class","note",4,"ngIf"],[1,"footer-row"],[1,"footer-reward"],[1,"cancel-announcement",3,"onClick"],[1,"send",3,"form","label"],[1,"note"],[2,"font-size","13px"],[1,"label-announcement"],[1,"sent-details"],[1,"fas","fa-store"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"nb-card"),n.TgZ(2,"nb-card-header",1),n.TgZ(3,"span"),n.TgZ(4,"label",2),n._uU(5,"Send message to AzalioPlay"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(6,"nb-card-body",3),n.YNc(7,K,22,17,"ng-container",4),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(6),n.Q6J("nbSpinner",t.loading),n.xp6(1),n.Q6J("ngIf",t.form))},directives:[b.Asz,b.ndF,b.yKW,b.Q7R,a.O5,f._Y,f.JL,f.sg,u.w5,a.mk,Q.k,b.MFI,f.JJ,f.On,u.x0,u.bf,b.r3g,b.h8i,f.Fj,f.nD,f.u,y.H,M.r,q.w],pipes:[a.uU],styles:[".new-reward[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%] {\n  background: #160647;\n  border-bottom: none !important;\n  padding-bottom: 0px !important;\n}\n\n.new-reward[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-header.card_header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%] {\n  margin: 0;\n  font-size: 20px;\n}\n\n.new-reward[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%]   nb-card-body[_ngcontent-%COMP%] {\n  background: #160647 !important;\n}\n\n.footer-reward[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: flex-end;\n}\n\n.footer-row[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  margin-top: 10px;\n  margin-bottom: 5px;\n}\n\n.details[_ngcontent-%COMP%] {\n  position: absolute;\n  top: 10px;\n  padding: 0px;\n  padding-top: 0px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.details[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%] {\n  height: 130px !important;\n}\n\n.note[_ngcontent-%COMP%] {\n  margin-top: 5px;\n  color: white !important;\n}\n\n.label-announcement[_ngcontent-%COMP%] {\n  color: #f2b82c;\n  color: #b49bff;\n  font-weight: 800;\n}\n\n.sent-details[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 5px;\n}\n\n.sent-details[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\n  color: #b49bff;\n  font-size: 15px;\n}\n\n.cancel-announcement[_ngcontent-%COMP%] {\n  z-index: 200;\n}\n\n.send-option[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  margin-left: 10px;\n}\n\n.option-txt[_ngcontent-%COMP%] {\n  margin-right: 15px;\n}\n\n.option-txt[_ngcontent-%COMP%]   nb-radio.status-basic[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%] {\n  color: white !important;\n}\n\n.send-to[_ngcontent-%COMP%] {\n  display: flex;\n  color: #b49bff;\n  font-weight: 800;\n  margin-bottom: 10px;\n  font-size: 13px;\n  align-items: center;\n}\n\n.body[_ngcontent-%COMP%] {\n  position: relative;\n  height: 40vh;\n  overflow: auto;\n}\n\n.no-announcement[_ngcontent-%COMP%] {\n  height: 37vh !important;\n}\n\n@media (max-width: 500px) {\n  .send-option[_ngcontent-%COMP%] {\n    width: 100%;\n  }\n}"]}),i}(),E=d(605),nn=d(6664),en=d(4617),G=d(2125),tn=function(){return["/tasks/report"]};function on(i,s){1&i&&(n.TgZ(0,"div",9),n._UZ(1,"i",10),n._uU(2," To review how users earned points, "),n.TgZ(3,"a",11),n._uU(4," click here"),n.qZA(),n._uU(5,".\n"),n.qZA()),2&i&&(n.xp6(3),n.Q6J("routerLink",n.DdM(1,tn)))}function an(i,s){1&i&&(n.TgZ(0,"span",26),n._UZ(1,"i",27),n._uU(2," Approved "),n.qZA())}function sn(i,s){if(1&i){var e=n.EpF();n.TgZ(0,"span",28),n.TgZ(1,"span",29),n.TgZ(2,"span",29),n.TgZ(3,"app-confirm-popup",30),n.NdJ("proceedDelete",function(r){n.CHM(e);var l=n.oxw().$implicit;return n.oxw().respondToGiftRequest(r,l.id)})("proceedCancel",function(){return n.CHM(e),n.oxw(2).selectedRow=null})("proceedWithComment",function(r){n.CHM(e);var l=n.oxw().$implicit;return n.oxw().rejectWithComment(r,l.id)}),n.TgZ(4,"span",31),n.NdJ("click",function(){n.CHM(e);var r=n.oxw().$implicit;return n.oxw().setRejectText(r)}),n._UZ(5,"i",32),n.qZA(),n.TgZ(6,"button",33),n.NdJ("click",function(){n.CHM(e);var r=n.oxw().$implicit;return n.oxw().setRejectText(r)}),n._uU(7,"Reject"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(8,"span",34),n.TgZ(9,"app-confirm-popup",35),n.NdJ("proceedDelete",function(){n.CHM(e);var r=n.oxw().$implicit;return n.oxw().respondToGiftRequest(!0,r.id)})("proceedCancel",function(){return n.CHM(e),n.oxw(2).selectedRow=null}),n.TgZ(10,"span",36),n.NdJ("click",function(){n.CHM(e);var r=n.oxw().$implicit;return n.oxw().setApproveText(r)}),n._UZ(11,"i",37),n.qZA(),n.TgZ(12,"button",38),n.NdJ("click",function(){n.CHM(e);var r=n.oxw().$implicit;return n.oxw().setApproveText(r)}),n._uU(13,"Approve"),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&i){var t=n.oxw(2);n.xp6(3),n.Q6J("isComment",!0)("type","Reject")("title","Gift Card Request")("textToDisplay",t.rejectText),n.xp6(6),n.Q6J("type","Approve")("title","Gift Card Request")("status","primary")("textToDisplay",t.approveText)}}function rn(i,s){if(1&i){var e=n.EpF();n.TgZ(0,"span",39),n.TgZ(1,"span",29),n.TgZ(2,"app-confirm-popup",40),n.NdJ("proceedDelete",function(){n.CHM(e);var r=n.oxw().$implicit;return n.oxw().markAsDelivered(r.id)})("proceedWithComment",function(r){n.CHM(e);var l=n.oxw().$implicit;return n.oxw().deliverWithComment(r,l.id)})("proceedCancel",function(){return n.CHM(e),n.oxw(2).selectedRow=null}),n.TgZ(3,"span",41),n.NdJ("click",function(){n.CHM(e);var r=n.oxw().$implicit;return n.oxw().setText(r)}),n._UZ(4,"i",42),n.qZA(),n.TgZ(5,"button",43),n.NdJ("click",function(){n.CHM(e);var r=n.oxw().$implicit;return n.oxw().setText(r)}),n._uU(6,"Mark as delivered"),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&i){var t=n.oxw(2);n.xp6(2),n.Q6J("isComment",!0)("type","Delivered")("title","Gift Card")("status","primary")("textToDisplay",t.markAsText)}}function ln(i,s){if(1&i&&(n.ynx(0),n._uU(1),n.ALo(2,"date"),n.BQk()),2&i){var e=n.oxw().$implicit;n.xp6(1),n.hij("Approved on: ",n.xi3(2,1,e.approved_on,"MMM d, h:mm a")," ")}}function pn(i,s){if(1&i&&(n.TgZ(0,"div",12),n.TgZ(1,"span",13),n.TgZ(2,"span",14),n._UZ(3,"app-user-avatar",15),n.YNc(4,an,3,0,"span",16),n.qZA(),n.TgZ(5,"span",17),n.YNc(6,sn,14,8,"span",18),n.YNc(7,rn,7,5,"span",19),n.qZA(),n.qZA(),n.TgZ(8,"span",20),n._uU(9," has requested a "),n.TgZ(10,"span",21),n._uU(11),n.qZA(),n._uU(12," in exchange for "),n.TgZ(13,"span",22),n._uU(14),n.qZA(),n.qZA(),n.TgZ(15,"span",23),n.YNc(16,ln,3,4,"ng-container",24),n.TgZ(17,"span",25),n._uU(18),n.ALo(19,"date"),n.qZA(),n.qZA(),n.qZA()),2&i){var e=s.$implicit,t=n.oxw();n.Tol(1==e.is_expired?"disabled-row":""),n.xp6(3),n.Q6J("name",e.user_name)("color",e.user_color+t.opacity)("initialColor",e.color)("title","")("nbTooltip",e.user_name),n.xp6(1),n.Q6J("ngIf",e.is_approved),n.xp6(2),n.Q6J("ngIf",!e.is_approved),n.xp6(1),n.Q6J("ngIf",(null==t.storageService?null:t.storageService.companyId)&&e.is_approved),n.xp6(4),n.AsE(" $",e.cost," ",e.card_title," Gift Card "),n.xp6(3),n.hij("",e.points," points."),n.xp6(2),n.Q6J("ngIf",e.is_approved),n.xp6(2),n.hij(" Requested on: ",n.xi3(19,15,e.requested_on,"MMM d, h:mm a"),"")}}var cn=function(){var i=function(){function s(e,t,o,r){(0,A.Z)(this,s),this.storageService=e,this.service=t,this.gs=o,this.dataService=r,this.refreshData=new n.vpe,this.opacity=z.ZF}return(0,O.Z)(s,[{key:"ngOnInit",value:function(){this.dataService.setRewardsNotiCache(null)}},{key:"ngOnChanges",value:function(t){t.regionId&&t.regionId.currentValue!==t.regionId.previousValue&&(this.regionId=t.regionId.currentValue,this.requests=null,this.emptyResults=!1,this.show&&this.getData()),t.show&&t.show.currentValue!==t.show.previousValue&&(this.show=t.show.currentValue,1==t.show.currentValue&&this.getData())}},{key:"setText",value:function(t){this.selectedRow=t,this.markAsText="<span>You're about to confirm the delivery of <b> Gift Card </b> requested by </span> <b>"+this.titleCase(t.user_name)+". <span class='colored-text'> <br> This will be visible to the user on the mobile app. </span><b><br> Are you sure?</b>"}},{key:"setRejectText",value:function(t){this.selectedRow=t,this.rejectText="<span>You're about to reject <b> Gift Card </b> requested by </span> <b>"+this.titleCase(t.user_name)+". <span class='colored-text'> <br> This will be visible to the user on the mobile app.</span><b><br> Are you sure?</b>"}},{key:"setApproveText",value:function(t){this.selectedRow=t,this.approveText="<span>You're about to approve <b> Gift Card</b> requested by </span> <b>"+this.titleCase(t.user_name)+". </b><span class='colored-text'> <br> This will be visible to the user on the mobile app.</span><b><br> Are you sure?</b>"}},{key:"rejectWithComment",value:function(t,o){this.reason=t.reason&&""!==t.reason?t.reason:null,this.respondToGiftRequest(t.isChecked,o)}},{key:"deliverWithComment",value:function(t,o){this.reason=t.reason&&""!==t.reason?t.reason:null,this.markAsDelivered(o)}},{key:"titleCase",value:function(t){return t.toLowerCase().split(" ").map(function(o){return o.charAt(0).toUpperCase()+o.slice(1)}).join(" ")}},{key:"markAsDelivered",value:function(t){return(0,w.mG)(this,void 0,void 0,v().mark(function o(){var r,l;return v().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this.actionLoading=!0,r={id:t},this.reason&&Object.assign(r,{reason:this.reason}),c.prev=3,c.next=6,this.service.markAsDelivered(r);case 6:return this.gs.showToastSuccess(null==(l=c.sent)?void 0:l.message),c.next=10,this.getData();case 10:this.emptyResults&&this.dataService.updateRecallRewardsNotifications(!0),this.reason="",c.next=18;break;case 14:c.prev=14,c.t0=c.catch(3),this.gs.showToastError(c.t0.message),console.log(c.t0);case 18:return c.prev=18,this.actionLoading=!1,c.finish(18);case 21:case"end":return c.stop()}},o,this,[[3,14,18,21]])}))}},{key:"respondToGiftRequest",value:function(t,o){return(0,w.mG)(this,void 0,void 0,v().mark(function r(){var l,p;return v().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return this.actionLoading=!0,l={id:o,is_accept:!!t},this.reason&&Object.assign(l,{reason:this.reason}),g.prev=3,g.next=6,this.service.respondToGiftRequest(l);case 6:return this.gs.showToastSuccess(null==(p=g.sent)?void 0:p.message),g.next=10,this.getData();case 10:(this.emptyResults||this.requests.every(function(x){return 1===x.is_approved}))&&this.dataService.updateRecallRewardsNotifications(!0),(t||this.requests.every(function(x){return 1===x.is_approved}))&&this.refreshData.emit(),this.reason="",g.next=19;break;case 15:g.prev=15,g.t0=g.catch(3),this.gs.showToastError(g.t0.message),console.log(g.t0);case 19:return g.prev=19,this.actionLoading=!1,g.finish(19);case 22:case"end":return g.stop()}},r,this,[[3,15,19,22]])}))}},{key:"getData",value:function(){var t;return(0,w.mG)(this,void 0,void 0,v().mark(function o(){var r;return v().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(null!=this.regionId&&null!=this.regionId){p.next=2;break}return p.abrupt("return");case 2:return this.loading=!0,p.prev=3,p.next=6,this.service.getGiftCardRequests(this.regionId);case 6:this.requests=null==(r=p.sent)?void 0:r.requests,this.emptyResults=this.requests&&0==(null===(t=this.requests)||void 0===t?void 0:t.length),p.next=16;break;case 11:p.prev=11,p.t0=p.catch(3),this.requests=[],this.gs.showToastError(p.t0.message),console.log(p.t0);case 16:return p.prev=16,this.loading=!1,p.finish(16);case 19:case"end":return p.stop()}},o,this,[[3,11,16,19]])}))}}]),s}();return i.\u0275fac=function(e){return new(e||i)(n.Y36(en.n),n.Y36(D),n.Y36(U.m),n.Y36(k.s))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-gift-requests"]],inputs:{show:"show",regionId:"regionId"},outputs:{refreshData:"refreshData"},features:[n.TTD],decls:10,vars:6,consts:[[3,"loading"],[1,"header-container"],[1,"header"],[1,"heading"],["class","sub-heading",4,"ngIf"],["id","tasks-wrapper",1,"tasks-wrapper"],[3,"display","animation","textMessage"],[1,"mt-25"],["class","request-details",3,"class",4,"ngFor","ngForOf"],[1,"sub-heading"],[1,"fa","fa-exclamation-triangle","ng-tns-c472-4",2,"margin-right","10px","color","#fe7e21"],[3,"routerLink"],[1,"request-details"],[1,"row1"],[1,"user-details"],["size","medium","nbTooltipPlacement","top",1,"scheduler_user",3,"name","color","initialColor","title","nbTooltip"],["class","approve-tag",4,"ngIf"],[1,"right-info"],["class","markdone-container",4,"ngIf"],["class","markdone-container deliver",4,"ngIf"],[1,"row2"],[1,"spacing"],[1,"pts"],[1,"requested_on"],[4,"ngIf"],[1,"created"],[1,"approve-tag"],[1,"fa","fa-check",2,"margin-right","2px"],[1,"markdone-container"],[1,"task-done"],[3,"isComment","type","title","textToDisplay","proceedDelete","proceedCancel","proceedWithComment"],["nbTooltip","Reject","nbTooltipPlacement","top",1,"circle-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-xmark",2,"color","#e91e63"],["nbButton","","type","button","status","primary",1,"reject-btn",3,"click"],[1,"task-done","approve"],[3,"type","title","status","textToDisplay","proceedDelete","proceedCancel"],["nbTooltip","Approve","nbTooltipPlacement","top",1,"circle-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-check"],["nbButton","","type","button","status","primary",1,"approve-btn",3,"click"],[1,"markdone-container","deliver"],[3,"isComment","type","title","status","textToDisplay","proceedDelete","proceedWithComment","proceedCancel"],["nbTooltip","Mark as delivered","nbTooltipPlacement","top",1,"circle-btn",3,"click"],["aria-hidden","true",1,"fa-solid","fa-share"],["nbButton","","type","button","status","primary",1,"deliver-btn",3,"click"]],template:function(e,t){1&e&&(n._UZ(0,"app-loader",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"span",3),n._uU(4," Gift Card Requests "),n.qZA(),n.qZA(),n.qZA(),n.YNc(5,on,6,2,"div",4),n.TgZ(6,"div",5),n._UZ(7,"app-no-records",6),n._UZ(8,"div",7),n.YNc(9,pn,20,18,"div",8),n.qZA()),2&e&&(n.Q6J("loading",t.loading||t.actionLoading),n.xp6(5),n.Q6J("ngIf",!t.loading&&!t.emptyResults),n.xp6(2),n.Q6J("display",t.emptyResults)("animation","timeoff")("textMessage","No history"),n.xp6(2),n.Q6J("ngForOf",t.requests))},directives:[E.R,a.O5,T.yS,Q.k,a.sg,h.k,b.jNv,G.D,b.DPz],pipes:[a.uU],styles:[".tasks-wrapper[_ngcontent-%COMP%] {\n  overflow: auto;\n  padding: 8px;\n  margin-top: 2px;\n  max-height: 81vh;\n  min-height: 81vh;\n  padding-left: 10px;\n  padding-right: 10px;\n  padding-bottom: 28px;\n}\n.tasks-wrapper[_ngcontent-%COMP%]   .request-details[_ngcontent-%COMP%] {\n  background: white;\n  padding: 5px;\n  border-radius: 10px;\n  margin-top: 9px;\n}\n.tasks-wrapper[_ngcontent-%COMP%]   .request-details[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  padding: 10px;\n  padding-left: 12px;\n  padding-right: 12px;\n  align-items: center;\n  padding-bottom: 8px;\n}\n.tasks-wrapper[_ngcontent-%COMP%]   .request-details[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%] {\n  font-size: 11px;\n  font-weight: 600;\n  display: inline-flex;\n  align-items: center;\n}\n.row2[_ngcontent-%COMP%] {\n  display: block;\n  padding-left: 49px;\n  padding-right: 12px;\n  padding-bottom: 10px;\n  font-size: 13px;\n}\n.requested_on[_ngcontent-%COMP%] {\n  padding-left: 46px;\n  padding-right: 12px;\n  display: flex;\n  justify-content: flex-end;\n  font-size: 12px;\n  padding-bottom: 3px;\n  padding-top: 3px;\n  color: #ABABAB;\n}\n.created[_ngcontent-%COMP%] {\n  margin-left: 20px;\n  margin-right: 5px;\n}\n.pts[_ngcontent-%COMP%] {\n  color: #FC962F;\n  font-weight: 600;\n}\n.approve-tag[_ngcontent-%COMP%] {\n  border-radius: 20px;\n  padding: 2px;\n  padding-left: 10px;\n  padding-right: 10px;\n  display: flex;\n  align-items: baseline;\n  background: #E3FFD8;\n  color: #3BAA4B;\n  font-size: 12px;\n  margin-left: 12px;\n}\n.deliver-btn[_ngcontent-%COMP%] {\n  background: #7b68ee !important;\n  border: 1px solid #7b68ee !important;\n  color: white !important;\n  height: 26px;\n}\n.deliver[_ngcontent-%COMP%] {\n  justify-content: center;\n}\n.spacing[_ngcontent-%COMP%] {\n  font-weight: 600;\n  color: #7A7474;\n}\n.sub-heading[_ngcontent-%COMP%] {\n  background: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 13px;\n  height: 25px;\n}\n.sub-heading[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n  font-weight: 600;\n  margin-left: 2px;\n}"]}),i}(),dn=d(4605),gn=d(8457),un=d(5116);function mn(i,s){if(1&i&&(n.TgZ(0,"span",36),n._uU(1," Competition began on: "),n.TgZ(2,"span",37),n._uU(3),n.ALo(4,"date"),n.qZA(),n.qZA()),2&i){var e=n.oxw(4);n.xp6(3),n.hij(" ",n.xi3(4,1,e.resetDate,"MMM d, y")," ")}}function _n(i,s){if(1&i&&(n.ynx(0),n.YNc(1,mn,5,4,"span",35),n.BQk()),2&i){var e=n.oxw(3);n.xp6(1),n.Q6J("ngIf",e.resetDate&&(e.isAzalioPlay||e.isBoringPlay))}}function fn(i,s){if(1&i){var e=n.EpF();n.TgZ(0,"span",41),n.NdJ("click",function(){return n.CHM(e),n.oxw(4).openMessageModal()}),n._UZ(1,"i",42),n.qZA()}}function hn(i,s){if(1&i){var e=n.EpF();n.TgZ(0,"span"),n.TgZ(1,"app-confirm-popup",43),n.NdJ("proceedDelete",function(){return n.CHM(e),n.oxw(4).resetPoints()}),n.TgZ(2,"button",44),n._UZ(3,"img",45),n._uU(4," Reset points"),n.qZA(),n.TgZ(5,"button",46),n._UZ(6,"img",45),n.qZA(),n.qZA(),n.qZA()}if(2&i){var t=n.oxw(4);n.xp6(1),n.Q6J("type","Reset")("title","Points")("textToDisplay",t.resetText),n.xp6(1),n.Q6J("nbTooltip","current_store"===t.selectedTab?"Reset points for current store":"Reset points for all stores"),n.xp6(3),n.Q6J("nbTooltip","current_store"===t.selectedTab?"Reset points for current store":"Reset points for all stores")}}function vn(i,s){1&i&&n._UZ(0,"i",51)}function bn(i,s){if(1&i){var e=n.EpF();n.TgZ(0,"span",47),n.NdJ("click",function(){n.CHM(e);var r=n.oxw(4);return r.showSideBar=!0,null==r.gs?null:r.gs.logEvents("viewed_rewardsRequests")}),n.TgZ(1,"span",48),n._UZ(2,"i",49),n.YNc(3,vn,1,0,"i",50),n.qZA(),n._uU(4," Requests "),n.qZA()}if(2&i){var t=n.oxw(4);n.xp6(2),n.Q6J("ngClass",t.isRewardsNoti?"Noti":" "),n.xp6(1),n.Q6J("ngIf",t.isRewardsNoti)}}function xn(i,s){if(1&i&&(n.TgZ(0,"span",38),n.YNc(1,fn,2,0,"span",39),n.YNc(2,hn,7,5,"span",33),n.YNc(3,bn,5,2,"span",40),n.qZA()),2&i){var e=n.oxw(3);n.xp6(1),n.Q6J("ngIf",e.isAzalioPlay),n.xp6(1),n.Q6J("ngIf",!e.isRewardsGateway&&(null==e.permissions||null==e.permissions.Rewards?null:e.permissions.Rewards.reset_points)),n.xp6(1),n.Q6J("ngIf",e.isRewardsGateway)}}function Cn(i,s){if(1&i&&(n.TgZ(0,"div",32),n.YNc(1,_n,2,1,"ng-container",33),n.YNc(2,xn,4,3,"span",34),n.qZA()),2&i){var e=n.oxw(2);n.xp6(1),n.Q6J("ngIf",!e.isRewardsGateway),n.xp6(1),n.Q6J("ngIf",e.paginator)}}function wn(i,s){if(1&i){var e=n.EpF();n.TgZ(0,"span",52),n.TgZ(1,"nb-button-group"),n.TgZ(2,"button",53),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).setTab("current_store")}),n._uU(3," Current store "),n.qZA(),n.TgZ(4,"button",54),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).setTab("all_store")}),n._uU(5," All stores "),n.qZA(),n.qZA(),n.qZA()}if(2&i){var t=n.oxw(2);n.xp6(2),n.Q6J("status","current_store"===t.selectedTab?"primary":""),n.xp6(2),n.Q6J("status","all_store"===t.selectedTab?"primary":"")}}function Tn(i,s){if(1&i){var e=n.EpF();n.TgZ(0,"span",41),n.NdJ("click",function(){return n.CHM(e),n.oxw(3).downloadReport()}),n._UZ(1,"i",60),n.qZA()}}function Pn(i,s){if(1&i){var e=n.EpF();n.TgZ(0,"span",55),n.TgZ(1,"span",56),n.TgZ(2,"app-search-input",57),n.NdJ("searchEvent",function(r){return n.CHM(e),n.oxw(2).onSearch(r)})("click",function(){return n.CHM(e),n.oxw(2).addSearchAnalytics()}),n.qZA(),n.YNc(3,Tn,2,0,"span",39),n.qZA(),n.TgZ(4,"div",58),n.TgZ(5,"mat-paginator",59),n.NdJ("page",function(r){n.CHM(e);var l=n.oxw(2);return l.pageEvent=r,l.getData()}),n.qZA(),n.qZA(),n.qZA()}if(2&i){var t=n.oxw(2);n.xp6(2),n.Q6J("placeholder","Search by name or role")("showHelperButton",t.showHelperButton),n.xp6(1),n.Q6J("ngIf",t.isAzalioPlay||t.isBoringPlay),n.xp6(2),n.Q6J("length",t.paginator.total_records)("pageIndex",t.paginator.page_no-1)("pageSize",t.paginator.page_size)("pageSizeOptions",t.pageSizes)}}function Zn(i,s){1&i&&(n.TgZ(0,"th",61),n._uU(1,"Name"),n.qZA())}function yn(i,s){if(1&i&&(n.TgZ(0,"td",62),n.TgZ(1,"span",63),n.TgZ(2,"label",64),n._uU(3,"Name"),n.qZA(),n._UZ(4,"app-user-avatar",65),n.ALo(5,"titlecase"),n.qZA(),n.qZA()),2&i){var e=s.$implicit,t=n.oxw(2);n.xp6(4),n.Q6J("name",n.lcZ(5,5,null==e?null:e.user_name))("title",e.user_role)("color",e.user_color+t.opacity)("initialColor",e.user_color)("nbTooltip",e.user_name)}}function Mn(i,s){1&i&&(n.TgZ(0,"th",66),n._uU(1,"Store"),n.qZA())}function On(i,s){if(1&i&&(n.TgZ(0,"span",70),n._uU(1),n.qZA()),2&i){var e=n.oxw().$implicit,t=n.oxw(2);n.Q6J("nbTooltip",t.displayStores(e)),n.xp6(1),n.hij(" ",null==e.stores?null:e.stores.length," stores ")}}function An(i,s){if(1&i&&(n.TgZ(0,"span",71),n._uU(1),n.qZA()),2&i){var e=n.oxw().$implicit;n.xp6(1),n.Oqu(e.stores)}}function kn(i,s){if(1&i&&(n.TgZ(0,"td",67),n.TgZ(1,"span",63),n.TgZ(2,"label",64),n._uU(3,"Store"),n.qZA(),n.YNc(4,On,2,2,"span",68),n.YNc(5,An,2,1,"span",69),n.qZA(),n.qZA()),2&i){var e=s.$implicit;n.xp6(4),n.Q6J("ngIf",(null==e.stores?null:e.stores.length)>1),n.xp6(1),n.Q6J("ngIf",1===(null==e.stores?null:e.stores.length))}}function qn(i,s){1&i&&(n.TgZ(0,"th",66),n._uU(1,"Rank"),n.qZA())}function Un(i,s){if(1&i&&(n.TgZ(0,"span",74),n.TgZ(1,"span",75),n._UZ(2,"img",76),n._uU(3),n.qZA(),n.qZA()),2&i){var e=n.oxw().$implicit;n.xp6(2),n.Udp("visibility",e.rank>3?"hidden":"visible"),n.Q6J("src",e.rank<=3?"assets/rank"+e.rank+".png":null,n.LSH),n.xp6(1),n.hij(" #",e.rank," ")}}function Rn(i,s){if(1&i&&(n.TgZ(0,"td",72),n.TgZ(1,"span",63),n.TgZ(2,"label",64),n._uU(3,"Rank"),n.qZA(),n.YNc(4,Un,4,4,"span",73),n.qZA(),n.qZA()),2&i){var e=s.$implicit;n.xp6(4),n.Q6J("ngIf",e.rank)}}function Dn(i,s){1&i&&(n.TgZ(0,"th",66),n._uU(1,"Points"),n.qZA())}function In(i,s){if(1&i&&(n.TgZ(0,"td",72),n.TgZ(1,"span",63),n.TgZ(2,"label",64),n._uU(3,"Points"),n.qZA(),n.TgZ(4,"span",77),n._UZ(5,"img",78),n._uU(6),n.qZA(),n.qZA(),n.qZA()),2&i){var e=s.$implicit;n.xp6(6),n.hij(" ",e.points,"")}}function Nn(i,s){1&i&&(n.TgZ(0,"th",79),n._uU(1,"Badges "),n._UZ(2,"i",80),n.qZA())}function Jn(i,s){if(1&i&&(n.ynx(0),n.TgZ(1,"span",83),n.ALo(2,"titlecase"),n.ALo(3,"date"),n._UZ(4,"app-user-avatar",84),n.ALo(5,"async"),n.ALo(6,"imageAuth"),n.qZA(),n.BQk()),2&i){var e=s.$implicit;n.xp6(1),n.Q6J("nbTooltip","Awarded by "+n.lcZ(2,3,(null==e?null:e.awarded_by)+" ("+(null==e?null:e.awarded_by_role)+")")+" on "+n.xi3(3,5,e.awarded_on,"MMM d")),n.xp6(3),n.Q6J("picture",n.lcZ(5,8,n.lcZ(6,10,null==e?null:e.image_url)))("showInitials",!1)}}function Sn(i,s){if(1&i&&(n.TgZ(0,"td",81),n.TgZ(1,"span",63),n.TgZ(2,"label",64),n._uU(3,"Badges"),n.qZA(),n.YNc(4,Jn,7,12,"ng-container",82),n.qZA(),n.qZA()),2&i){var e=s.$implicit,t=n.oxw(2);n.xp6(4),n.Q6J("ngForOf",null==e.badges?null:e.badges.slice(0,t.maxNumberOfBadges))}}function Bn(i,s){1&i&&(n.TgZ(0,"th",79),n._uU(1,"Gift cards "),n.qZA())}function zn(i,s){if(1&i&&(n.ynx(0),n.TgZ(1,"span",83),n.ALo(2,"titlecase"),n.ALo(3,"date"),n._UZ(4,"app-user-avatar",84),n.ALo(5,"async"),n.ALo(6,"imageAuth"),n.qZA(),n.BQk()),2&i){var e=s.$implicit;n.xp6(1),n.Q6J("nbTooltip","$"+(null==e?null:e.cost)+" Gift card worth "+(null==e?null:e.points_used)+" points approved by "+n.lcZ(2,3,(null==e?null:e.approved_by)+" ("+(null==e?null:e.approved_by_role)+")")+" on "+n.xi3(3,5,e.approved_on,"MMM d")),n.xp6(3),n.Q6J("picture",n.lcZ(5,8,n.lcZ(6,10,null==e?null:e.image_url)))("showInitials",!1)}}function Qn(i,s){if(1&i&&(n.TgZ(0,"td",81),n.TgZ(1,"span",63),n.TgZ(2,"label",64),n._uU(3,"Gift cards"),n.qZA(),n.YNc(4,zn,7,12,"ng-container",82),n.qZA(),n.qZA()),2&i){var e=s.$implicit,t=n.oxw(2);n.xp6(4),n.Q6J("ngForOf",null==e.gifts?null:e.gifts.slice(0,t.maxNumberOfBadges))}}function En(i,s){1&i&&(n.TgZ(0,"th",85),n._uU(1,"Action"),n.qZA())}function Yn(i,s){if(1&i){var e=n.EpF();n.TgZ(0,"td",86),n.TgZ(1,"span",63),n.TgZ(2,"label",64),n._uU(3,"Award Badge"),n.qZA(),n.TgZ(4,"span",87),n.TgZ(5,"span",88),n.NdJ("click",function(){var l=n.CHM(e).$implicit;return n.oxw(2).openRewardModal(l)}),n.ALo(6,"titlecase"),n._UZ(7,"img",89),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&i){var t=s.$implicit;n.xp6(5),n.MGl("nbTooltip","Award badge to ",n.lcZ(6,1,null==t?null:t.user_name),"")}}function Gn(i,s){1&i&&n._UZ(0,"tr",90)}var Fn=function(s){return{disable_row:s}};function jn(i,s){1&i&&n._UZ(0,"tr",91),2&i&&n.Q6J("ngClass",n.VKq(1,Fn,s.$implicit.is_empty))}var Ln=function(s,e,t){return{"azalio-play":s,"azal-site":e,"boring-toplay":t}};function Vn(i,s){if(1&i&&(n.TgZ(0,"div",4),n.YNc(1,Cn,3,2,"div",5),n.TgZ(2,"div",6),n.YNc(3,wn,6,2,"span",7),n.YNc(4,Pn,6,7,"span",8),n.qZA(),n.TgZ(5,"div",9),n.TgZ(6,"table",10),n.ynx(7,11),n.YNc(8,Zn,2,0,"th",12),n.YNc(9,yn,6,7,"td",13),n.BQk(),n.ynx(10,14),n.YNc(11,Mn,2,0,"th",15),n.YNc(12,kn,6,2,"td",16),n.BQk(),n.ynx(13,17),n.YNc(14,qn,2,0,"th",15),n.YNc(15,Rn,5,1,"td",18),n.BQk(),n.ynx(16,19),n.YNc(17,Dn,2,0,"th",15),n.YNc(18,In,7,1,"td",18),n.BQk(),n.ynx(19,20),n.YNc(20,Nn,3,0,"th",21),n.YNc(21,Sn,5,1,"td",22),n.BQk(),n.ynx(22,23),n.YNc(23,Bn,2,0,"th",21),n.YNc(24,Qn,5,1,"td",22),n.BQk(),n.ynx(25,24),n.YNc(26,En,2,0,"th",25),n.YNc(27,Yn,8,3,"td",26),n.BQk(),n.YNc(28,Gn,1,0,"tr",27),n.YNc(29,jn,1,3,"tr",28),n.qZA(),n.qZA(),n._UZ(30,"app-no-records",29),n._UZ(31,"app-no-records",30),n._UZ(32,"app-no-search-records",31),n.qZA()),2&i){var e=n.oxw();n.Q6J("ngClass",n.kEZ(16,Ln,e.isAzalioPlay,!e.isAzalioPlay&&!e.isBoringPlay,!e.isAzalioPlay&&e.isBoringPlay)),n.xp6(1),n.Q6J("ngIf",e.isAzalioPlay||e.isBoringPlay),n.xp6(2),n.Q6J("ngIf",e.isAzalioPlay||e.isBoringPlay),n.xp6(1),n.Q6J("ngIf",e.paginator),n.xp6(2),n.Q6J("dataSource",e.dataSource.data),n.xp6(22),n.Q6J("matHeaderRowDef",e.displayedColumns),n.xp6(1),n.Q6J("matRowDefColumns",e.displayedColumns),n.xp6(1),n.Q6J("display",0==e.sharedRegion&&!e.singleRegion&&(!e.isAzalioPlay&&!e.isBoringPlay||(e.isAzalioPlay||e.isBoringPlay)&&"current_store"===e.selectedTab))("isScheduler",!1)("animation","selectStoreForRecognition")("animation2","arrowTop"),n.xp6(1),n.Q6J("display",e.emptyResults)("animation","organization")("animation2",e.animation2)("textMessage","No active users."),n.xp6(1),n.Q6J("display",!e.emptyResults&&e.emptySearchResults)}}var Hn=function(){var i=function(){function s(e,t,o,r,l){var c,p=this;(0,A.Z)(this,s),this.gs=e,this.analytics=t,this.dataService=o,this.service=r,this.dialogService=l,this.displayedColumns=["name","badges","action"],this.dataSource=new m.by([]),this.resetText="You're about to <b> permanently reset </b> points earned by all users. Are you sure?",this.onTabChange=new n.vpe,this.maxNumberOfBadges=null===(c=this.service)||void 0===c?void 0:c.maxNumberOfBadges,this.dataService.getConfigurations(!1).then(function(g){var x,_,C;p.selectedTab="",p.isAzalioPlay=1===(null===(x=g.company)||void 0===x?void 0:x.is_azalio_play),p.isBoringPlay=1===(null===(_=g.company)||void 0===_?void 0:_.boring2Fun),p.isRewardsGateway=1==(null===(C=g.company)||void 0===C?void 0:C.is_rewards_gateway),p.permissions=g.permissions}).finally(function(){p.isRewardsGateway&&(p.isBoringPlay||p.isAzalioPlay)?p.displayedColumns=["name","points","badges","gifts","action"]:(p.isAzalioPlay||p.isBoringPlay)&&(p.pageLoading=!0,p.maxNumberOfBadges=p.maxNumberOfBadges>5?5:p.maxNumberOfBadges,p.displayedColumns=["name","rank","points","badges","action"])}),this.pageSizes=z.Wv,this.opacity=z.ZF,this.subscriptioSingle=this.dataService.SingleRegionId.subscribe(function(g){p.sharedRegion=g,p.singleRegion=g,p.pageEvent&&(p.pageEvent.pageIndex=0),p.selectedTab="current_store",p.getData()}),this.singleRegion||(this.subscription=this.dataService.SharingRegionData.subscribe(function(g){p.sharedRegion=g,p.pageEvent&&(p.pageEvent.pageIndex=0),p.selectedTab="current_store",p.getData()}))}return(0,O.Z)(s,[{key:"ngOnInit",value:function(){var t=this;setTimeout(function(){t.selectedTab="current_store"},2)}},{key:"resetPoints",value:function(){var t;return(0,w.mG)(this,void 0,void 0,v().mark(function o(){var r,l;return v().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.loading){c.next=2;break}return c.abrupt("return");case 2:return this.loading=!0,r={region_id:"all_store"==this.selectedTab?null:null===(t=this.filterInput)||void 0===t?void 0:t.region_id},c.prev=4,c.next=7,this.service.resetPoints(r);case 7:l=c.sent,this.getData(),this.gs.showToastSuccess(null==l?void 0:l.message),c.next=16;break;case 12:c.prev=12,c.t0=c.catch(4),console.log(c.t0),this.gs.showToastError(c.t0.message);case 16:return c.prev=16,this.loading=!1,c.finish(16);case 19:case"end":return c.stop()}},o,this,[[4,12,16,19]])}))}},{key:"downloadReport",value:function(){var o,t=this;this.loading=!0;var r={region_id:"all_store"==this.selectedTab?null:null===(o=this.filterInput)||void 0===o?void 0:o.region_id};this.service.exportPointsReport(r).then(function(l){t.gs.exportAsExcelFile(l.csv,"Points Report")}).catch(function(l){t.gs.showToastError(l.message),console.log(l)}).finally(function(){t.loading=!1})}},{key:"setTab",value:function(t){t!=this.selectedTab&&("all_store"===t?(this.displayedColumns=this.isRewardsGateway?["name","store","points","badges","gifts"]:["name","store","rank","points","badges"],this.onTabChange.emit(!1)):"current_store"===t&&(this.paginator=null,this.displayedColumns=this.isRewardsGateway?["name","points","badges","gifts","action"]:["name","rank","points","badges","action"],this.onTabChange.emit(!0)),this.selectedTab=t,this.getData())}},{key:"openRewardModal",value:function(t){var o=this;this.dialogService.open(V,{hasBackdrop:!0,closeOnBackdropClick:!1,context:{data:t,filterInput:this.filterInput}}).onClose.subscribe(function(r){r&&o.getData()})}},{key:"openMessageModal",value:function(){var o,t=this;this.dialogService.open(X,{hasBackdrop:!0,closeOnBackdropClick:!1,context:{selectedRegion:"current_store"==this.sharedRegion?null:this.sharedRegion,regionId:"all_store"==this.selectedTab?null:null===(o=this.filterInput)||void 0===o?void 0:o.region_id,lastAnnouncement:this.lastAnnouncement}}).onClose.subscribe(function(r){r&&t.getData()})}},{key:"closeDetails",value:function(){this.showSideBar=!1,this.gs.showBackDrop(!1)}},{key:"onSearch",value:function(t){this.gs.logEvents("search_recognition_page"),this.searchOn=t.trim(),this.pageEvent&&(this.pageEvent.pageIndex=0),this.getData()}},{key:"addSearchAnalytics",value:function(){this.analytics.logEvents("search_user_recognition")}},{key:"getData",value:function(){var t=this;this.filterInput={region_id:this.sharedRegion?this.sharedRegion:null},this.dataSource.data=null,(this.isAzalioPlay||this.isBoringPlay||null!==this.filterInput.region_id)&&(!this.isAzalioPlay&&!this.isBoringPlay||"all_store"==this.selectedTab||null!==this.filterInput.region_id)&&("all_store"==this.selectedTab&&(this.isAzalioPlay||this.isBoringPlay)&&(this.filterInput.region_id=null),this.loading=!0,this.service.getUserPointsTableData(this.searchOn,this.pageEvent,this.filterInput).then(function(o){var r,l;t.dataSource.data=o.users,t.isRewardsNoti=1==o.is_rewards_noti,t.lastAnnouncement=o.last_announcement,t.resetDate=o.reset_date,t.paginator=o.pagination,t.emptySearchResults=!(0!==(null===(r=o.users)||void 0===r?void 0:r.length)||!t.searchOn),t.emptyResults=0===(null===(l=o.users)||void 0===l?void 0:l.length)&&!t.searchOn}).catch(function(o){console.log(o)}).finally(function(){t.loading=!1}))}},{key:"ngOnDestroy",value:function(){var t,o;null===(t=this.subscriptioSingle)||void 0===t||t.unsubscribe(),null===(o=this.subscription)||void 0===o||o.unsubscribe()}},{key:"displayStores",value:function(t){var o;return null===(o=t.stores)||void 0===o?void 0:o.join(", ")}}]),s}();return i.\u0275fac=function(e){return new(e||i)(n.Y36(U.m),n.Y36(I.C),n.Y36(k.s),n.Y36(D),n.Y36(b.Gln))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-user-points-table-view"]],outputs:{onTabChange:"onTabChange"},decls:4,vars:5,consts:[[3,"loading"],[1,"comment-sidebar",3,"showSideBar","closeDetails"],[3,"regionId","show","refreshData"],["class","mat-elevation-z8 relative",3,"ngClass",4,"ngIf"],[1,"mat-elevation-z8","relative",3,"ngClass"],["class","flex pagination-wrapper",4,"ngIf"],[1,"row-wrapper"],["class","toggle_buttons mr_10",4,"ngIf"],["class","flex right-elements",4,"ngIf"],[1,"user-points-table"],["mat-table","",1,"rewards_table_resp",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","style","width: 17%;",4,"matHeaderCellDef"],["mat-cell","","style","width: 17%;","class","recognition_role",4,"matCellDef"],["matColumnDef","store"],["mat-header-cell","","style","width: 12%;",4,"matHeaderCellDef"],["mat-cell","","style","width: 12%;","class","store-details",4,"matCellDef"],["matColumnDef","rank"],["mat-cell","","style","width: 12%;",4,"matCellDef"],["matColumnDef","points"],["matColumnDef","badges"],["mat-header-cell","","style","width: 35%;",4,"matHeaderCellDef"],["mat-cell","","class","badges","style","width: 35%;",4,"matCellDef"],["matColumnDef","gifts"],["matColumnDef","action"],["mat-header-cell","","style","width: 12%;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","class","status_badge","style","width: 12%; text-align: center",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","showhim",3,"ngClass",4,"matRowDef","matRowDefColumns"],[3,"display","isScheduler","animation","animation2"],[1,"tasksanimation",3,"display","animation","animation2","textMessage"],[3,"display"],[1,"flex","pagination-wrapper"],[4,"ngIf"],["class","flex right-section",4,"ngIf"],["class","flex left-elements txt-label",4,"ngIf"],[1,"flex","left-elements","txt-label"],[1,"date"],[1,"flex","right-section"],["class","bkg-circle mr_10",3,"click",4,"ngIf"],["class","notification-btn",3,"click",4,"ngIf"],[1,"bkg-circle","mr_10",3,"click"],["aria-hidden","true","nbTooltipAdjustment","noop","nbTooltip","Announcement",1,"fa","fa-envelope","announcement"],[3,"type","title","textToDisplay","proceedDelete"],["size","medium","type","button","nbButton","","status","primary",1,"back-btn","desktop-btn",3,"nbTooltip"],["src","assets/coin.png",2,"margin-right","7px"],["size","medium","type","button","nbButton","","status","primary",1,"back-btn","resp-btn",3,"nbTooltip"],[1,"notification-btn",3,"click"],[1,"btn-container"],[1,"fa-solid","fa-bell","bell",3,"ngClass"],["class","fa-solid fa-circle bubble-notification",4,"ngIf"],[1,"fa-solid","fa-circle","bubble-notification"],[1,"toggle_buttons","mr_10"],["nbButton","","value","current_store","size","medium",3,"status","click"],["nbButton","","value","all_store","size","medium",3,"status","click"],[1,"flex","right-elements"],[1,"search-download"],[2,"margin-right","10px",3,"placeholder","showHelperButton","searchEvent","click"],[1,"rewards_pagination"],["showFirstLastButtons","",3,"length","pageIndex","pageSize","pageSizeOptions","page"],["aria-hidden","true","nbTooltipAdjustment","noop","nbTooltip","Download report",1,"fa","fa-download"],["mat-header-cell","",2,"width","17%"],["mat-cell","",1,"recognition_role",2,"width","17%"],[1,"resp-container"],[1,"show_in_resp"],["size","medium","nbTooltipPlacement","top",1,"recog_page_name",3,"name","title","color","initialColor","nbTooltip"],["mat-header-cell","",2,"width","12%"],["mat-cell","",1,"store-details",2,"width","12%"],["class","pointer store-name",3,"nbTooltip",4,"ngIf"],["class","store-name",4,"ngIf"],[1,"pointer","store-name",3,"nbTooltip"],[1,"store-name"],["mat-cell","",2,"width","12%"],["class","points-column",4,"ngIf"],[1,"points-column"],[1,"rank","highest-rank"],[2,"margin-right","4px",3,"src"],[1,"points"],["src","assets/coin.png",2,"margin-right","4px"],["mat-header-cell","",2,"width","35%"],["nbTooltip","To assign a new badge switch to current store tab.","nbTooltipPlacement","top","nbTooltipStatus","info","status","info",1,"fa","fa-triangle-exclamation","show-badges-warning"],["mat-cell","",1,"badges",2,"width","35%"],[4,"ngFor","ngForOf"],[1,"badge-images",3,"nbTooltip"],["size","medium","onlyPicture","",3,"picture","showInitials"],["mat-header-cell","",2,"width","12%","text-align","center"],["mat-cell","",1,"status_badge",2,"width","12%","text-align","center"],[1,"actions"],[1,"trophy",3,"nbTooltip","click"],["src","assets/unfilled-trophy.png"],["mat-header-row",""],["mat-row","",1,"showhim",3,"ngClass"]],template:function(e,t){1&e&&(n._UZ(0,"app-loader",0),n.TgZ(1,"app-sidebar",1),n.NdJ("closeDetails",function(){return t.closeDetails()}),n.TgZ(2,"app-gift-requests",2),n.NdJ("refreshData",function(){return t.getData()}),n.qZA(),n.qZA(),n.YNc(3,Vn,33,20,"div",3)),2&e&&(n.Q6J("loading",t.loading),n.xp6(1),n.Q6J("showSideBar",t.showSideBar),n.xp6(1),n.Q6J("regionId",t.sharedRegion)("show",t.showSideBar),n.xp6(1),n.Q6J("ngIf",t.dataSource&&t.dataSource.data))},directives:[E.R,nn.k,cn,a.O5,a.mk,b.jNv,G.D,b.DPz,b.mnu,dn.J,gn.NW,m.BZ,m.w1,m.fO,m.ge,m.Dz,m.ev,h.k,a.sg,m.as,m.XQ,m.nj,m.Gk,Q.k,un.V],pipes:[a.uU,a.rS,a.Ov,B.z],styles:[".container[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n}\n\n.badge[_ngcontent-%COMP%] {\n  margin-top: 5px;\n  margin-left: -15px;\n  cursor: pointer;\n}\n\n.badgeactive_badge[_ngcontent-%COMP%] {\n  padding-top: 10px;\n  margin-bottom: -10px;\n}\n\n.rewards[_ngcontent-%COMP%] {\n  background-color: #ffffff;\n  display: flex;\n  flex-direction: row;\n}\n\n.rewards[_ngcontent-%COMP%]   .item1[_ngcontent-%COMP%] {\n  flex: 3;\n  display: flex;\n  justify-content: left;\n  padding-left: 3%;\n  align-items: center;\n  margin-bottom: 4px;\n}\n\n.rewards[_ngcontent-%COMP%]   .reward_txt[_ngcontent-%COMP%] {\n  padding-left: 10px;\n}\n\n@media only screen and (max-width: 724px) {\n  table.mat-table[_ngcontent-%COMP%] {\n    margin-top: 5px;\n  }\n}\n\n.rewards_table_resp[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  width: 23%;\n  border-bottom: 0px solid #ffffff !important;\n}\n\n  body .cdk-overlay-container .mat-tooltip-panel {\n  bottom: 77.5% !important;\n}\n\n@media (max-width: 930px) {\n  .show_in_resp[_ngcontent-%COMP%] {\n    display: inline-block !important;\n  }\n\n  .trophy[_ngcontent-%COMP%] {\n    width: 20px;\n    height: 20px;\n    margin-left: 8px;\n    padding-right: 5px;\n  }\n\n  .resp-container[_ngcontent-%COMP%] {\n    display: flex;\n    margin-top: 10px;\n  }\n\n  .highest-rank[_ngcontent-%COMP%], .points[_ngcontent-%COMP%], .store-name[_ngcontent-%COMP%] {\n    margin-left: 8px;\n  }\n\n  th.mat-header-cell[_ngcontent-%COMP%]:first-of-type, td.mat-cell[_ngcontent-%COMP%]:first-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type {\n    padding-top: 10px !important;\n  }\n}\n\n@media (max-width: 699px) {\n  .badge[_ngcontent-%COMP%] {\n    margin-left: 0px;\n  }\n\n  .rewards_table_resp[_ngcontent-%COMP%] {\n    width: 100%;\n  }\n}\n\n@media (max-width: 391px) {\n  .rewards_pagination[_ngcontent-%COMP%] {\n    font-size: 11px;\n  }\n\n  .mat-icon-button[_ngcontent-%COMP%] {\n    width: 10px !important;\n    height: 10px !important;\n    line-height: 10px !important;\n  }\n}\n\n@media (max-width: 500px) {\n  .rewards_table_resp[_ngcontent-%COMP%]   nb-progress-bar[_ngcontent-%COMP%] {\n    width: 60%;\n  }\n}\n\n@media only screen and (max-width: 930px) {\n  .rewards_table_resp[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]:last-of-type, td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type {\n    padding-right: 24px;\n    border-bottom: 4px solid #f7f7f7 !important;\n    padding-bottom: 10px;\n  }\n\n  .pagination-wrapper[_ngcontent-%COMP%] {\n    align-items: initial !important;\n    flex-direction: column;\n  }\n\n  .right-section[_ngcontent-%COMP%] {\n    justify-content: flex-end;\n    align-items: center;\n  }\n}\n\n@media (max-width: 930px) and (min-width: 698px) {\n  .badge[_ngcontent-%COMP%] {\n    margin-left: 0px;\n  }\n}\n\n.pagination-wrapper[_ngcontent-%COMP%] {\n  padding: 10px 10px;\n  padding-bottom: 20px;\n}\n\n.azal-site[_ngcontent-%COMP%] {\n  justify-content: flex-end !important;\n}\n\n.trophy[_ngcontent-%COMP%] {\n  cursor: pointer;\n}\n\n.trophy[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover {\n  background: url('filled-trophy.2450d2a727815f1a.png');\n}\n\n.user-points-table[_ngcontent-%COMP%] {\n  min-height: 10vh;\n  max-height: 70vh;\n  overflow: auto;\n  padding-bottom: 20px;\n}\n\n.badge-images[_ngcontent-%COMP%] {\n  margin-right: 10px;\n  cursor: pointer;\n  display: inline-flex;\n}\n\n.badge-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  width: 45px;\n  height: 45px;\n  cursor: pointer;\n}\n\n.rewards_table_resp[_ngcontent-%COMP%]   .badges[_ngcontent-%COMP%] {\n  width: 60%;\n  cursor: pointer;\n}\n\n.rewards_table_resp[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%] {\n  background: white;\n  cursor: auto;\n}\n\n.points-column[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n}\n\n.rank[_ngcontent-%COMP%] {\n  display: flex;\n}\n\n.rank[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  width: 19px;\n  height: 16px;\n}\n\n.points[_ngcontent-%COMP%] {\n  display: flex;\n  font-size: 14px;\n  align-items: flex-end;\n}\n\n.points[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  width: 17px;\n  height: 17px;\n}\n\n.highest-rank[_ngcontent-%COMP%] {\n  font-size: 14px;\n  font-weight: 600;\n}\n\n.bkg-circle[_ngcontent-%COMP%] {\n  background: #ffffff;\n  padding: 7px 9px;\n  border-radius: 10px;\n  color: #7b68ee !important;\n  cursor: pointer;\n  font-weight: 500;\n  border-radius: 2px;\n  min-width: 30px;\n  border-radius: 52%;\n  width: 32px;\n  height: 32px;\n  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\n}\n\n.actions[_ngcontent-%COMP%] {\n  margin-left: 7px;\n}\n\n.back-btn[_ngcontent-%COMP%] {\n  color: #7b68ee !important;\n  background-color: white !important;\n  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px !important;\n}\n\n.date[_ngcontent-%COMP%] {\n  color: #63689b !important;\n  font-weight: 700;\n  font-size: 14px;\n  margin-left: 5px;\n}\n\n.txt-label[_ngcontent-%COMP%] {\n  font-size: 14px;\n}\n\n.announcement[_ngcontent-%COMP%] {\n  font-size: 15px;\n  margin-top: 1px;\n  margin-left: -1px;\n}\n\n.row-wrapper[_ngcontent-%COMP%] {\n  padding: 20px 5px;\n  padding-bottom: 21px;\n  position: relative;\n  align-items: center;\n  display: flex;\n}\n\n.right-elements[_ngcontent-%COMP%] {\n  position: absolute;\n  right: 0px;\n}\n\n.left-elements[_ngcontent-%COMP%] {\n  position: absolute;\n  left: 9px;\n  background: #f9faffed;\n  padding: 12px;\n  border-bottom-left-radius: 8px;\n  border-bottom-right-radius: 8px;\n  padding-left: 11px;\n  padding-right: 20px;\n  margin-top: 0px;\n}\n\n.right-section[_ngcontent-%COMP%] {\n  position: absolute;\n  right: 0px;\n  top: 5px;\n}\n\n@media (max-width: 580px) {\n  .row-wrapper[_ngcontent-%COMP%] {\n    padding-bottom: 0px;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: initial;\n  }\n\n  .left-elements[_ngcontent-%COMP%] {\n    position: initial;\n    display: contents;\n  }\n\n  .right-elements[_ngcontent-%COMP%] {\n    position: initial;\n    right: 0px;\n    flex-direction: column;\n    align-items: flex-end;\n    margin-bottom: 10px;\n  }\n\n  .pagination-wrapper[_ngcontent-%COMP%] {\n    padding-bottom: 0px;\n  }\n\n  .bkg-circle[_ngcontent-%COMP%] {\n    margin-top: 8px;\n    margin-bottom: 5px;\n  }\n\n  .azal-site[_ngcontent-%COMP%]   .rewards_pagination[_ngcontent-%COMP%] {\n    margin-top: 10px;\n  }\n\n  .date[_ngcontent-%COMP%] {\n    margin-left: 0px;\n  }\n}\n\n.show-badges-warning[_ngcontent-%COMP%] {\n  color: #7b68ee;\n  cursor: pointer;\n}\n\n@media (min-width: 500px) {\n  .desktop-btn[_ngcontent-%COMP%] {\n    display: flex;\n  }\n\n  .resp-btn[_ngcontent-%COMP%] {\n    display: none;\n  }\n}\n\n@media (max-width: 500px) {\n  .desktop-btn[_ngcontent-%COMP%] {\n    display: none;\n  }\n\n  .resp-btn[_ngcontent-%COMP%] {\n    display: flex;\n    min-width: 20px !important;\n    width: 32px;\n    height: 32px;\n    margin-right: 14px;\n  }\n  .resp-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    margin-right: 0px !important;\n  }\n}\n\n.search-download[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n}\n\n.azal-site[_ngcontent-%COMP%]   .user-points-table[_ngcontent-%COMP%] {\n  max-height: 80vh;\n  padding-bottom: 50px;\n}\n\n.boring-toplay[_ngcontent-%COMP%]   .user-points-table[_ngcontent-%COMP%] {\n  max-height: 70vh;\n}\n\n@media (max-width: 1200px) and (min-width: 932px) {\n  .boring-toplay[_ngcontent-%COMP%]   .user-points-table[_ngcontent-%COMP%] {\n    max-height: calc(65vh - 30px);\n    padding-bottom: 10px;\n  }\n}"]}),i}();function $n(i,s){if(1&i&&(n.ynx(0),n.TgZ(1,"li",18),n.TgZ(2,"span",19),n._UZ(3,"app-user-avatar",20),n.ALo(4,"async"),n.ALo(5,"imageAuth"),n.qZA(),n.TgZ(6,"span",21),n.TgZ(7,"span",22),n._uU(8),n.qZA(),n.qZA(),n.qZA(),n._UZ(9,"br"),n.BQk()),2&i){var e=s.$implicit;n.xp6(3),n.Q6J("picture",n.lcZ(4,3,n.lcZ(5,5,null==e?null:e.image_url)))("showInitials",!1),n.xp6(5),n.hij(" ",e.title," ")}}function Wn(i,s){if(1&i&&(n.TgZ(0,"ul",16),n.YNc(1,$n,10,7,"ng-container",17),n.qZA()),2&i){var e=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",e.goals)}}var Kn=function(s){return{is_store:s}};function Xn(i,s){if(1&i&&(n.TgZ(0,"div",8),n._UZ(1,"app-loader",9),n.TgZ(2,"div",10),n.TgZ(3,"span",11),n._uU(4," Badges "),n.qZA(),n.qZA(),n.TgZ(5,"div",12),n.TgZ(6,"nb-card",13),n.TgZ(7,"nb-card-body",14),n.YNc(8,Wn,2,1,"ul",15),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&i){var e=n.oxw();n.Q6J("ngClass",n.VKq(3,Kn,e.isAzalioPlay||e.isStore)),n.xp6(1),n.Q6J("loading",e.loading),n.xp6(7),n.Q6J("ngIf",!e.loading)}}var ne=function(s,e){return{"no-store":s,"all-store-setting":e}},te=[{path:"",component:function(){var i=function(){function s(e,t,o,r,l,p){var c=this;(0,A.Z)(this,s),this.dataService=e,this.gs=t,this.service=o,this.router=r,this.authService=l,this.analytics=p,this.dataService.getConfigurations(!1).then(function(g){var x;c.isAzalioPlay=1===(null===(x=g.company)||void 0===x?void 0:x.is_azalio_play)}),this.subscriptioSingle=this.dataService.SingleRegionId.subscribe(function(g){null!==g&&g>0&&(c.isStore=!0)}),this.singleRegion?this.isStore=!0:this.subscription=this.dataService.SharingRegionData.subscribe(function(g){c.sharedRegion=g,0!=c.sharedRegion&&(c.isStore=!0)})}return(0,O.Z)(s,[{key:"ngOnInit",value:function(){var t=this;this.showBadges=!0,this.dataService.getConfigurations(!1).then(function(o){var r,l,p;(null===(l=null===(r=o.role.modules)||void 0===r?void 0:r.Rewards)||void 0===l?void 0:l.enabled)&&1===(null===(p=o.company)||void 0===p?void 0:p.is_rewards)?t.webUserName=t.dataService.getUserName():t.router.navigate(["401"])}).finally(function(){}),this.getGoalsData(),this.gs.hideSplashScreen()}},{key:"onTabChange",value:function(t){this.showBadges=t}},{key:"onFilterChange",value:function(t){this.filterOn=t,this.showHelperButton=!0,this.searchContext=!t}},{key:"onClear",value:function(){this.filterOn=null,this.searchContext=!0,this.showHelperButton=!1}},{key:"getGoalsData",value:function(){var t=this;this.loading=!0,this.service.getGoals().then(function(o){t.goals=o.badges,t.service.setDefaultBadges(t.goals)}).catch(function(o){console.log(o)}).finally(function(){t.loading=!1})}}]),s}();return i.\u0275fac=function(e){return new(e||i)(n.Y36(k.s),n.Y36(U.m),n.Y36(D),n.Y36(T.F0),n.Y36(S.e),n.Y36(I.C))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-recognition-page"]],decls:9,vars:5,consts:[[1,"flex","rewards_region-sidebar"],[1,"colored-column-info","timesheets_wrapper","recognition"],[1,""],["src","assets/bgtrophy.svg","alt","bg trophy icon",1,"trophy_wrapper"],[1,"reward-container"],[1,"flex-item1",3,"ngClass"],[3,"onTabChange"],["class","flex-item1 point_cont",3,"ngClass",4,"ngIf"],[1,"flex-item1","point_cont",3,"ngClass"],[3,"loading"],[1,"two-column","total_points_column"],[1,"flex1"],[1,"right-panel"],["size","large",2,"border","none !important"],[1,"badge-container"],["class","list",4,"ngIf"],[1,"list"],[4,"ngFor","ngForOf"],[1,"flex"],[1,"badge-image"],["size","medium","onlyPicture","",3,"picture","showInitials"],[1,"right_pannel_points"],[1,"badge-name"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"nb-layout-column",1),n.TgZ(2,"div",2),n._UZ(3,"img",3),n.qZA(),n.TgZ(4,"div",4),n.TgZ(5,"div",5),n.TgZ(6,"div"),n.TgZ(7,"app-user-points-table-view",6),n.NdJ("onTabChange",function(r){return t.onTabChange(r)}),n.qZA(),n.qZA(),n.qZA(),n.YNc(8,Xn,9,5,"div",7),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(5),n.Q6J("ngClass",n.WLB(2,ne,!t.isStore&&!t.isAzalioPlay,!t.showBadges)),n.xp6(3),n.Q6J("ngIf",t.showBadges&&(t.isAzalioPlay||t.isStore)))},directives:[b.dP_,a.mk,Hn,a.O5,E.R,b.Asz,b.yKW,a.sg,h.k],pipes:[a.Ov,B.z],styles:[".trophy_wrapper[_ngcontent-%COMP%] {\n  position: fixed;\n  right: 0;\n  top: 60px;\n}\n\n.reward-container[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n  align-content: stretch;\n  align-items: stretch;\n  height: 85vh;\n  overflow: hidden;\n  margin-top: 35px;\n}\n\n.flex-item1[_ngcontent-%COMP%]:nth-child(1) {\n  align-self: auto;\n  margin-right: 35px;\n  width: 73%;\n}\n\n.flex-item1[_ngcontent-%COMP%]:nth-child(2) {\n  align-self: auto;\n  background-color: #ffffff;\n  width: 27%;\n  border-radius: 15px;\n}\n\n.two-column[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n}\n\n.two-column[_ngcontent-%COMP%]   .flex1[_ngcontent-%COMP%] {\n  flex: 1;\n  display: flex;\n  padding-left: 20px;\n  padding-top: 20px;\n  font-weight: 600 !important;\n  font-size: 18px;\n  color: #6e689b !important;\n  padding-bottom: 10px;\n}\n\n.two-column[_ngcontent-%COMP%]   .flex2[_ngcontent-%COMP%] {\n  flex: 1;\n  padding-left: 31px;\n  padding-top: 20px;\n  font-weight: 600 !important;\n  font-size: 13px;\n  color: #ffa447 !important;\n}\n\n.right-panel[_ngcontent-%COMP%]   .right_pannel_points[_ngcontent-%COMP%] {\n  justify-content: center;\n  display: flex;\n  min-height: 48px;\n  align-items: flex-start;\n  margin-left: 8px;\n  margin-right: 8px;\n}\n\n.right-panel[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%] {\n  height: -moz-fit-content;\n  height: fit-content;\n}\n\n@media only screen and (max-width: 320px) {\n  .reward-container[_ngcontent-%COMP%] {\n    flex-direction: column;\n  }\n\n  .bagde_points[_ngcontent-%COMP%] {\n    left: 35px !important;\n  }\n\n  .two-column[_ngcontent-%COMP%]   .flex1[_ngcontent-%COMP%] {\n    padding-left: 40px;\n  }\n}\n\n@media (max-width: 1200px) and (min-width: 931px) {\n  .reward-container[_ngcontent-%COMP%] {\n    margin-top: 85px;\n  }\n}\n\n@media (max-width: 1100px) and (min-width: 931px) {\n  .flex-item1[_ngcontent-%COMP%]:nth-child(1) {\n    width: 65%;\n  }\n\n  .flex-item1[_ngcontent-%COMP%]:nth-child(2) {\n    width: 35% !important;\n    height: -moz-fit-content;\n    height: fit-content;\n  }\n\n  .list[_ngcontent-%COMP%] {\n    height: 20vh !important;\n  }\n\n  .right-panel[_ngcontent-%COMP%]   nb-card[_ngcontent-%COMP%] {\n    height: 77vh !important;\n  }\n}\n\n@media only screen and (max-width: 931px) {\n  .reward-container[_ngcontent-%COMP%] {\n    flex-direction: column;\n    overflow-y: auto;\n  }\n\n  .flex-item1[_ngcontent-%COMP%]:nth-child(1) {\n    width: 100%;\n  }\n\n  .flex-item1[_ngcontent-%COMP%]:nth-child(2) {\n    margin-top: 15px !important;\n    width: 100%;\n  }\n\n  .flex-item1[_ngcontent-%COMP%]:nth-child(3)   .point_cont[_ngcontent-%COMP%] {\n    width: 100%;\n  }\n\n  .bagde_points[_ngcontent-%COMP%] {\n    left: 35px !important;\n  }\n\n  .right-panel[_ngcontent-%COMP%] {\n    overflow: hidden;\n  }\n\n  .two-column[_ngcontent-%COMP%]   .flex1[_ngcontent-%COMP%] {\n    padding-left: 40px;\n  }\n\n  .list[_ngcontent-%COMP%] {\n    height: 50vh !important;\n  }\n\n  .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n    flex: 1 0 26% !important;\n  }\n}\n\n.badge-name[_ngcontent-%COMP%] {\n  color: #303030;\n  font-weight: 500;\n  font-size: 13px;\n  text-align: center;\n}\n\n@media (max-width: 400px) {\n  .flex-item1[_ngcontent-%COMP%]:nth-child(1) {\n    margin-right: 6px;\n  }\n}\n\n@media (max-width: 930px) {\n  .total_points_column[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\n    width: auto !important;\n  }\n\n  .timesheets_wrapper[_ngcontent-%COMP%]   .wrapper_header[_ngcontent-%COMP%] {\n    padding-bottom: 25px !important;\n    margin-top: 10px !important;\n    padding-top: 10px !important;\n  }\n}\n\n@media (max-width: 453px) and (min-width: 375px) {\n  .rewards_action[_ngcontent-%COMP%] {\n    height: 90px !important;\n  }\n  .rewards_action[_ngcontent-%COMP%]   .content1[_ngcontent-%COMP%] {\n    width: 30%;\n  }\n}\n\n@media (max-width: 474px) and (min-width: 320px) {\n  .rewards_action[_ngcontent-%COMP%] {\n    height: 100px !important;\n  }\n  .rewards_action[_ngcontent-%COMP%]   .content1[_ngcontent-%COMP%] {\n    width: 30%;\n  }\n}\n\n@media (max-width: 931px) {\n  .trophy_wrapper[_ngcontent-%COMP%] {\n    display: none;\n  }\n}\n\n.list[_ngcontent-%COMP%] {\n  flex-direction: row;\n  list-style: none;\n  flex-wrap: wrap;\n  max-height: 70vh;\n  display: flex;\n  padding: 0;\n  height: -moz-fit-content;\n  height: fit-content;\n}\n\n.list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n  flex: 1 0 30%;\n  color: #fff;\n  margin: auto;\n  flex-direction: column;\n  padding-bottom: 4px;\n  padding-top: 4px;\n}\n\n.badge-image[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  padding-bottom: 5px;\n}\n\n.badge-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  position: relative;\n  width: 70px;\n  height: 70px;\n}\n\n.badge-container[_ngcontent-%COMP%] {\n  padding-left: 5px;\n  padding-right: 3px;\n  padding-top: 0px;\n  margin-bottom: 20px;\n}\n\n.recognition[_ngcontent-%COMP%] {\n  background: url('confetti.73885ca44a821455.png');\n  background-repeat: no-repeat;\n  overflow: hidden !important;\n}\n\n.no-store[_ngcontent-%COMP%] {\n  width: 100% !important;\n}\n\n.all-store-setting[_ngcontent-%COMP%] {\n  width: 100% !important;\n}"]}),i}()}],ie=function(){var i=(0,O.Z)(function s(){(0,A.Z)(this,s)});return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[[T.Bz.forChild(te)],T.Bz]}),i}(),oe=d(5032),ae=function(){var i=(0,O.Z)(function s(){(0,A.Z)(this,s)});return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[[a.ez,oe.m,ie]]}),i}()},2125:function(Y,N,d){d.d(N,{D:function(){return b}});var O=d(5671),A=d(3144),a=d(5e3),T=d(4825),n=d(9808),k=d(3075),U=d(9489),J=d(42);function v(m,f){1&m&&a._UZ(0,"br")}function w(m,f){if(1&m){var u=a.EpF();a.TgZ(0,"span"),a.TgZ(1,"nb-checkbox",13),a.NdJ("ngModelChange",function(M){return a.CHM(u),a.oxw(2).isChecked=M})("checkedChange",function(M){return a.CHM(u),a.oxw(2).isChecked=M}),a._uU(2),a.qZA(),a.qZA()}if(2&m){var h=a.oxw(2);a.xp6(1),a.Q6J("ngModel",h.isChecked),a.xp6(1),a.Oqu(h.checkboxLabel)}}function P(m,f){1&m&&a._UZ(0,"br")}function R(m,f){if(1&m){var u=a.EpF();a.TgZ(0,"div",14),a.TgZ(1,"textarea",15),a.NdJ("ngModelChange",function(M){return a.CHM(u),a.oxw(2).reason=M}),a.qZA(),a.qZA()}if(2&m){var h=a.oxw(2);a.xp6(1),a.Q6J("ngModel",h.reason)}}function D(m,f){if(1&m){var u=a.EpF();a.TgZ(0,"app-button",16),a.NdJ("onClick",function(){return a.CHM(u),a.oxw(2).close()}),a._uU(1,"Cancel"),a.qZA()}}function S(m,f){if(1&m){var u=a.EpF();a.TgZ(0,"div",2),a.TgZ(1,"nb-card",3),a.TgZ(2,"nb-card-header"),a.TgZ(3,"label",4),a._uU(4),a.qZA(),a._UZ(5,"span",5),a.qZA(),a.TgZ(6,"nb-card-body",6),a._UZ(7,"span",7),a.YNc(8,v,1,0,"br",8),a.YNc(9,w,3,2,"span",8),a.YNc(10,P,1,0,"br",8),a.YNc(11,R,2,1,"div",9),a.TgZ(12,"div",10),a.YNc(13,D,2,0,"app-button",11),a.TgZ(14,"button",12),a.NdJ("click",function(){return a.CHM(u),a.oxw().proceed()}),a._uU(15),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&m){var h=a.oxw();a.Tol("modal_wrapper resp-confirm "+h.className),a.xp6(4),a.AsE("",h.type," ",h.title,""),a.xp6(3),a.Q6J("innerHtml",h.textToDisplay,a.oJD),a.xp6(1),a.Q6J("ngIf",h.checkboxLabel),a.xp6(1),a.Q6J("ngIf",h.checkboxLabel),a.xp6(1),a.Q6J("ngIf",h.checkboxLabel),a.xp6(1),a.Q6J("ngIf",h.isComment),a.xp6(2),a.Q6J("ngIf",!h.displayOnly),a.xp6(1),a.Q6J("status",h.status),a.xp6(1),a.hij(" ",h.displayOnly?"Okay":h.type," ")}}var I=["*"],b=function(){var m=function(){function f(){(0,O.Z)(this,f),this.proceedDelete=new a.vpe,this.proceedWithComment=new a.vpe,this.proceedSave=new a.vpe,this.proceedCancel=new a.vpe,this.reason="",this.isChecked=!1,this.checkboxLabel=this.checkboxLabel,this.textToDisplay=this.textToDisplay?this.textToDisplay:"Are you sure you want to proceed?",this.type=this.type?this.type:"Delete",this.isComment=!!this.isComment&&this.isComment,this.status=this.status?this.status:"danger",this.displayOnly=!!this.displayOnly&&this.displayOnly}return(0,A.Z)(f,[{key:"ngOnInit",value:function(){this.className=this.className?this.className:""}},{key:"proceed",value:function(){this.proceedSave.emit(),this.isComment&&""!=this.reason?this.proceedWithComment.emit({isChecked:this.isChecked,reason:this.reason}):this.proceedDelete.emit(this.isChecked),this.close()}},{key:"open",value:function(){this.popover.show()}},{key:"close",value:function(){this.popover.hide(),this.proceedCancel.emit()}}]),f}();return m.\u0275fac=function(u){return new(u||m)},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-confirm-popup"]],viewQuery:function(u,h){var y;1&u&&a.Gf(T.ydg,5),2&u&&a.iGM(y=a.CRH())&&(h.popover=y.first)},inputs:{textToDisplay:"textToDisplay",className:"className",title:"title",type:"type",checkboxLabel:"checkboxLabel",isComment:"isComment",status:"status",displayOnly:"displayOnly"},outputs:{proceedDelete:"proceedDelete",proceedWithComment:"proceedWithComment",proceedSave:"proceedSave",proceedCancel:"proceedCancel"},ngContentSelectors:I,decls:4,vars:1,consts:[["nbPopoverPlacement","bottom",1,"resp-leave","clickable-area",3,"nbPopover"],["templateRef",""],[2,"width","350px"],[1,"popup-card"],[2,"color","white","font-weight","500"],[1,"gray_text","subheading"],[2,"background-color","white"],[2,"font-weight","500",3,"innerHtml"],[4,"ngIf"],["class","manager-comment",4,"ngIf"],[1,"confirm_popup_footer",2,"display","flex","justify-content","flex-end","align-items","center"],[3,"onClick",4,"ngIf"],["nbButton","","type","submit",2,"height","30px","width","70px",3,"status","click"],[1,"checkbox-shifts",3,"ngModel","ngModelChange","checkedChange"],[1,"manager-comment"],["maxlength","500","aria-label","description input","nbInput","","fullWidth","","name","message","placeholder","Add comment (optional)",3,"ngModel","ngModelChange"],[3,"onClick"]],template:function(u,h){if(1&u&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a.YNc(2,S,16,12,"ng-template",null,1,a.W1O)),2&u){var y=a.MAs(3);a.Q6J("nbPopover",y)}},directives:[T.ydg,T.Asz,T.ndF,T.yKW,n.O5,T.NTf,k.JJ,k.On,U.x0,U.bf,T.h8i,k.Fj,k.nD,J.r,T.DPz],styles:['.confirm_popup[_ngcontent-%COMP%] {\n  padding: 15px;\n  text-align: center;\n  margin-top: 2px;\n  width: 394px;\n  font-family: "Nunito";\n  color: #000;\n}\n\n.confirm_popup_footer[_ngcontent-%COMP%] {\n  right: 22px;\n  bottom: 10px;\n  z-index: 1030;\n  -webkit-transform: translate3d(0, 0, 0);\n  -webkit-backface-visibility: hidden;\n  -webkit-transform: translateZ(0);\n}\n\n@media (max-width: 550px) {\n  .confirm_popup[_ngcontent-%COMP%] {\n    width: 254px !important;\n  }\n}\n\n  .askq-popup .popup-card nb-card-header {\n  background: #5390FF !important;\n}\n\n  .popup-card {\n  box-shadow: none !important;\n  margin-left: -1px;\n  margin-top: -1px;\n  margin-right: -1px;\n}\n\n  .popup-card nb-card-header {\n  text-align: center !important;\n  background: #7f84ea !important;\n  border-top-left-radius: 10px !important;\n  border-top-right-radius: 10px !important;\n}\n\n  .modal_wrapper .popup-card nb-card-body {\n  overflow-y: hidden !important;\n}\n\n.manager-comment[_ngcontent-%COMP%] {\n  margin-top: 10px;\n  margin-bottom: 5px;\n}\n\n.clickable-area[_ngcontent-%COMP%] {\n  border-radius: 100px;\n  display: block;\n}']}),m}()},1062:function(Y,N,d){d.d(N,{z:function(){return J}});var O=d(5671),A=d(3144),a=d(7757),T=d.n(a),n=d(655),k=d(5e3),U=d(7756),J=function(){var v=function(){function w(P){(0,O.Z)(this,w),this.http=P}return(0,A.Z)(w,[{key:"transform",value:function(R){var D=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,n.mG)(this,void 0,void 0,T().mark(function S(){var b,m;return T().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(R&&!R.includes("?id=null")){u.next=2;break}return u.abrupt("return","assets/thumbnail.svg");case 2:if(R.includes("?id=")){u.next=4;break}return u.abrupt("return",R);case 4:return u.prev=4,R+="&full="+(D?1:0),u.next=9,this.http.getImage(R).toPromise();case 9:return b=u.sent,m=new FileReader,u.abrupt("return",new Promise(function(h,y){m.onloadend=function(){var M=m.result,q=M.split("data:text/xml;base64,")[1];h(q?"data:image/png;base64,"+q:M)},m.readAsDataURL(b)}));case 14:return u.prev=14,u.t0=u.catch(4),u.abrupt("return","assets/thumbnail.svg");case 17:case"end":return u.stop()}},S,this,[[4,14]])}))}}]),w}();return v.\u0275fac=function(P){return new(P||v)(k.Y36(U.s,16))},v.\u0275pipe=k.Yjl({name:"imageAuth",type:v,pure:!0}),v}()}}]);